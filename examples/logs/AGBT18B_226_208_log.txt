 
 
#######################################################
 SCRIPT NUMBER 1, project:AGBT18B_226_208 
 241322 71 Ingrid Stairs 7 Donna Stricklin 2020-02-26 07:32:36 obs_completed 
#######################################################
# NANOGrav fluxcal astrid block, 2012/02 PBD

# IMPORTANT!  Edit this to pick which band you're observing##
#band = '820'
band = 'L'
#band = 'S'

# Set which fluxcal source to observe
cal_src = "B1442+101"

############## You should not need to edit below this line ###########

execfile("/users/pdemores/config/astrid_utils.py")

# This sets the source list
srcs = Catalog("/users/pdemores/sched/nanograv_fluxcal.cat")

# Config items common to all obs
config_common = """
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'
swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'
"""

# Config items common to L-band obs
config_Lband_common="""
receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config items common to S-band obs
config_Sband_common="""
receiver = 'Rcvr2_3'
restfreq = 2000.0
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config items common to 820 obs
config_820_common="""
receiver = 'Rcvr_800'
restfreq = 820.0
bandwidth = 200
vegas.numchan = 128
vegas.polnmode = 'full_stokes'
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config for cal mode
config_cal = """
vegas.obsmode = 'coherent_cal'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
swmode = 'tp'
noisecal = 'lo'
"""

# Check observing band
if (band == '820'):
   config0 = config_common + config_820_common
   #config0 = config0.replace("VEGAS/GUPPI","GUPPI")
   #config0 = config0.replace("vegas.scale = 1015","")
   #config0 = config0.replace("vegas","guppi")
   #config_cal = config_cal.replace("vegas","guppi")
elif (band== 'L'):
   config0 = config_common + config_Lband_common
elif (band== 'S'):
   config0 = config_common + config_Sband_common
else:
    Break("Invalid band ('%s') selected!" % band)

# Slew, config, balance, observe
Configure(config0 + config_cal)
SetValues("DCR",{"state":"prepare"})
Slew(cal_src)
#Balance("IFRack")
#Balance("GUPPI")
Balance()
Balance("VEGAS")
Break("Check GUPPI levels now.")
OnOff(cal_src,Offset("J2000",0.0,1.0,cosv=False),120.0)

#######################################################
 LOG SESSION NUMBER 1 
[07:32:36] ******** Begin Scheduling Block
[07:32:36] ******** observer = Ingrid Stairs, SB name = nanograv_fluxcal_vegas, project ID = AGBT18B_226, date = 26 Feb 2020

[07:32:36] Configuring telescope.
[07:32:36]     Setting State: Activating
[07:33:13]     Setting State: Ready
[07:33:15]     Setting State: Activating
[07:33:16] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[07:33:16] Default values are
[07:33:16] nchan  =  512
[07:33:16] beam  =  B1
[07:33:16] dm  =  0
[07:33:16] if3freq  =  [0]
[07:33:16] subband  =  1
[07:33:16] fold_parfile  =  
[07:33:17] polswitch  =  thru
[07:33:17] Configuring for backend VEGAS...
[07:33:17] The bad devices are: 
[07:33:17] ConverterFilter14
[07:33:17] ConverterFilter16
[07:33:17] ConverterFilter2
[07:33:17] ConverterFilter12
[07:33:17] OpticalDriver5
[07:33:17] ConverterFilter10
[07:33:17] The bad devices are: 
[07:33:17] ConverterFilter14
[07:33:17] ConverterFilter16
[07:33:17] ConverterFilter2
[07:33:17] ConverterFilter12
[07:33:17] OpticalDriver5
[07:33:17] ConverterFilter10
[07:33:17] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[07:33:17] BankH [400.0]
[07:33:17] BankC [400.0]
[07:33:17] BankB [400.0]
[07:33:17] BankA [400.0]
[07:33:17] BankG [400.0]
[07:33:17] BankF [400.0]
[07:33:17] BankE [400.0]
[07:33:17] BankD [400.0]
[07:33:17] Configuring for backend GUPPI...
[07:33:17] The bad devices are: 
[07:33:17] ConverterFilter14
[07:33:17] ConverterFilter16
[07:33:17] ConverterFilter2
[07:33:17] ConverterFilter12
[07:33:17] OpticalDriver5
[07:33:17] ConverterFilter10
[07:33:17] ConverterModule1
[07:33:17] ConverterModule5
[07:33:17] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[07:33:17] Waiting for  GUPPI to finish activating
[07:33:17] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[07:33:17]  Finalizing VEGAS config...
[07:33:17] Checking telescope
[07:33:17] Configuration Complete
[07:33:17] source : B1442+101
               alias : 1442.0
               jname : J1445+0958
               location : J2000 @ (14:45:16.47, 09:58:36.07)
[07:33:17] Slewing to source.
[07:33:17] In state Activating, waiting for state Activating
[07:33:17] Detected state Activating
[07:33:17] In state Activating, waiting for state Ready
[07:35:19]     Setting State: Ready
[07:35:19] Detected state Ready
[07:35:19] Balancing IF system.
[07:35:19] Balancing IFRack
[07:35:21]     Setting State: Activating
[07:35:21]     Setting State: Ready
[07:35:21] the sampler values are:
[07:35:21] RF_power 1 : 9.995117
[07:35:21] RF_power 2 : 0
[07:35:21] RF_power 3 : 9.995117
[07:35:21] RF_power 4 : 0.009765625
[07:35:21] RF_power 5 : 0.0390625
[07:35:22] RF_power 6 : 0.009765625
[07:35:22] RF_power 7 : 0
[07:35:22] RF_power 8 : 0.02441406
[07:35:22] Balancing Guppi
[07:35:22]     Setting State: Activating
[07:35:22]     Setting State: Ready
[07:35:22]     Setting State: Activating
[07:35:22]     Setting State: Ready
[07:35:23]     Setting State: Activating
[07:35:23]     Setting State: Ready
[07:35:25] Filter 8 RF power =
[07:35:25] 2.822265625
[07:35:25] Filter 4 RF power =
[07:35:25] 1.552734375
[07:35:25]     Setting State: Activating
[07:35:25]     Setting State: Ready
[07:35:25]     Setting State: Activating
[07:35:25]     Setting State: Ready
[07:35:25] Balancing IF system.
[07:35:26] Balancing VEGAS
[07:35:26]     Setting State: Activating
[07:35:27]     Setting State: Ready
[07:35:27]     Setting State: Activating
[07:35:27]     Setting State: Ready
[07:35:27]     Setting State: Activating
[07:35:27]     Setting State: Ready
[07:35:30]     Setting State: Activating
[07:35:30]     Setting State: Ready
[07:35:30]     Setting State: Activating
[07:35:30]     Setting State: Ready
[07:35:31] 
[07:35:31] User queried: "Check GUPPI levels now. - Continue scheduling block?" waiting for reply...
[07:36:24] User replied: "Yes".
[07:36:24] source : B1442+101
               alias : 1442.0
               jname : J1445+0958
               location : J2000 @ (14:45:16.47, 09:58:36.07)
[07:36:24] OnOff: Subscan 1 of 2
[07:36:24] In state Ready, waiting for state Running
[07:36:24]     Setting State: Activating
[07:36:24]     Setting State: Committed
[07:36:30]     Setting State: Running
[07:36:30] Detected state Running
[07:36:30] *** Notice: This subscan will be numbered as scan #1 in your data reduction package.
[07:36:30] In state Running, waiting for state Ready
[07:38:32]     Setting State: Stopping
[07:38:40]     Setting State: Ready
[07:38:40] Detected state Ready
[07:38:40] Ygor Telescope: WaitForStopping
[07:38:40] OnOff: Subscan 2 of 2
[07:38:41] In state Ready, waiting for state Running
[07:38:41]     Setting State: Activating
[07:38:41]     Setting State: Committed
[07:38:54]     Setting State: Running
[07:38:54] Detected state Running
[07:38:54] *** Notice: This subscan will be numbered as scan #2 in your data reduction package.
[07:38:54] In state Running, waiting for state Ready
[07:40:56]     Setting State: Stopping
[07:41:04]     Setting State: Ready
[07:41:04] Detected state Ready
[07:41:04] Ygor Telescope: WaitForStopping
runSuccessful: True
[07:41:04] ******** End Scheduling Block
[07:41:04] ******** observer = Ingrid Stairs, SB name = nanograv_fluxcal_vegas, project ID = AGBT18B_226

how much log? 5496 id: 241322self.history: <gbt.turtle.database.History.History instance at 0x4abd758>self.history.connection: <gbt.turtle.database.TurtleConnection.TurtleConnection instance at 0x4abd5f0>how much converted log? 5700 
#######################################################
 
 
#######################################################
 SCRIPT NUMBER 2, project:AGBT18B_226_208 
 241323 71 Ingrid Stairs 7 Donna Stricklin 2020-02-26 07:41:29 obs_aborted 
#######################################################
# NANOGrav timing astrid block, 2012/02 PBD
# Modified for GUPPI + VEGAS, 2018/03 KS

# IMPORTANT!  Edit this to pick which band you're observing#
#band = '820'
band = 'L'
#band = 'S'

# IMPORTANT!  Edit this to pick which session you're observing
# All sources in the catalog will be observed in order, with the 
# remaining session time divided evenly between them. To 
# restart a interrupted session, first edit the catalog and comment
# out sources that have already been observed today.
srcs = Catalog("/users/pdemores/sched/15B160_2017_session_A.cat")
#srcs = Catalog("/users/pdemores/sched/15B160_2017_session_B.cat")
#srcs = Catalog("/users/pdemores/sched/15B160_2017_session_C.cat")
#srcs = Catalog("/users/pdemores/sched/15B160_2017_session_D.cat")
#srcs = Catalog("/users/pdemores/sched/15B160_2017_session_E.cat")
#srcs = Catalog("/users/pdemores/sched/15B160_2017_session_F.cat")

#Use personal catalog file, rather than editing Paul's files:
#srcs = Catalog("/users/npol/nanograv_obs/15B160_2017_session_D.cat")

# IMPORTANT!  Edit here to set the session's start/stop times in UTC!
# NOTES:
#  - start time does not need to be edited if the script is stopped/restarted.
#    it will always use the current time when running 'for real'.
#  - don't use any leading 0's in the values here, (leading 0 is code for
#    octal).
from mx import DateTime
# Function args are year, month, day, hour (24 hr), min, sec (UTC)
sess_start_time = DateTime.DateTime(2018,11,17,18,15,0) # UTC
sess_stop_time = DateTime.DateTime(2018,11,17,19,15,0) # UTC

# Use fixed start time rather than current time.
fix = False

############## You should not need to edit below this line ###########

execfile("/users/pdemores/config/astrid_utils.py")
#execfile("/users/pdemores/config/astrid_cals.py")

if Now() != None and not fix:
    print "Using current time for session start"
    sess_start_time = Now()
sess_len = float(sess_stop_time - sess_start_time) / 3600.0
print "Session time remaining = %.1fh" % sess_len

nsrc = len(srcs.keys())
print "nsrc = %d" % (nsrc)
time_per_src = sess_len / float(nsrc) # hours
print "time_per_src = %.1f min" % (time_per_src * 60.0)
stop_time = {}
start_time = {}
i = 0
for s in srcs.keys():
    stop_time[s] = sess_start_time + float(i+1) * time_per_src / 24.0
    start_time[s] = sess_start_time + float(i) * time_per_src / 24.0
    i += 1
    print "  Src '%s' start:%s, stop:%s" % (s, start_time[s], stop_time[s])

# Config items common to all obs
config_common = """
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'
swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'
"""

# Config items common to L-band obs
config_Lband_common="""
receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config items common to 820 obs
config_820_common="""
receiver = 'Rcvr_800'
restfreq = 820.0
bandwidth = 200
vegas.numchan = 128
vegas.polnmode = 'full_stokes'
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config items common to S-band obs
config_Sband_common="""
receiver = 'Rcvr2_3'
restfreq = 2000.0
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config for cal mode
config_cal = """
vegas.obsmode = 'coherent_cal'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
swmode = 'tp'
noisecal = 'lo'
"""

# Config for psr fold mode.
# Note the '%s' for parfile that needs to be filled in when using this.
config_psr = """
vegas.obsmode = 'coherent_fold'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
vegas.fold_parfile = '%s'
swmode = 'tp_nocal'
noisecal = 'off'
"""

# Check observing band
if (band == '820'):
   config_common = config_common.replace("VEGAS/GUPPI","GUPPI")
   config_common = config_common.replace("vegas.scale = 1015","")
   config_common = config_common.replace("vegas","guppi")
   config0 = config_common + config_820_common
   config_cal = config_cal.replace("vegas","guppi")
   config_psr = config_psr.replace("vegas","guppi")
elif (band== 'L'):
   config0 = config_common + config_Lband_common
elif (band=='S'):
   config0 = config_common + config_Sband_common
else:
    Break("Invalid band ('%s') selected!" % band)

# Figure out what source to start on
#if start_src == None:
if True:
    cur_time = Now()
    for s in srcs.keys():
        if (cur_time < stop_time[s]):
            start_src = s
            break

# Initial slew, config, balance
print config0
print "First source: %s" % start_src
Configure(config0 + config_cal)
SetValues("DCR",{"state":"prepare"})
Slew(start_src)
Balance()
if (band!='820'):
    Balance("VEGAS")
# Note: use these for 820 recvr 2013/05/19
#Balance("IFRack")
#Balance("GUPPI")
Break("Check GUPPI levels now.")

# 2013/06/06 - route to vegas bank A for Glenn's stuff
#SetValues("ConverterRack",{"CMInput,1":"A"})
#SetValues("ConverterRack",{"CMInput,5":"A"})
#if (band=='820'):
#    SetValues("ConverterRack",{"Gfrequency,1":11068})
#elif (band=='L'):
#    #SetValues("ConverterRack",{"Gfrequency,1":13088})
#    SetValues("ConverterRack",{"Gfrequency,1":13288})
#SetValues("ConverterRack",{"CMAttenuator1":22.0})
#SetValues("ConverterRack",{"CMAttenuator5":22.0})
#SetValues("ConverterRack",{"CMOutput,1":3})
#SetValues("ConverterRack",{"CMOutput,5":3})
#SetValues("ConverterRack",{"state":"prepare"})

# Main observing loop
first=1
for s in srcs.keys():
    if (first and s!=start_src):
        continue
    first=0;
    print "Starting '%s'" % s
    alias = "%4.4d" % srcs[s]["alias"]
    parfile = "/users/pdemores/tzpar/%s.par" % s
    print parfile
    Slew(s)
    print config0+config_cal
    Configure(config0 + config_cal)
    SetValues("DCR",{"state":"prepare"})
    Balance("IFRack")
    # Regular PSR observing
    Track(s, None, 90.0) # Cal scan
    Configure(config0 + config_psr % parfile)
    Track(s, None, stopTime=stop_time[s])

#######################################################
 LOG SESSION NUMBER 2 
[07:41:29] ******** Begin Scheduling Block
[07:41:29] ******** observer = Ingrid Stairs, SB name = nanograv_timing_vegas_15B160, project ID = AGBT18B_226, date = 26 Feb 2020

[07:41:29] Using current time for session start
[07:41:29] Session time remaining = -11172.4h
[07:41:29] nsrc = 9
[07:41:29] time_per_src = -74482.9 min
[07:41:29]   Src 'J1455-3330' start:2020-02-26 07:41:29.85, stop:2020-01-05 14:18:33.20
[07:41:29]   Src 'J1614-2230' start:2020-01-05 14:18:33.20, stop:2019-11-14 20:55:36.55
[07:41:29]   Src 'J1600-3053' start:2019-11-14 20:55:36.55, stop:2019-09-24 03:32:39.90
[07:41:29]   Src 'J1643-1224' start:2019-09-24 03:32:39.90, stop:2019-08-03 10:09:43.25
[07:41:29]   Src 'J1713+0747' start:2019-08-03 10:09:43.25, stop:2019-06-12 16:46:46.60
[07:41:29]   Src 'J1705-1903' start:2019-06-12 16:46:46.60, stop:2019-04-21 23:23:49.95
[07:41:29]   Src 'J1719-1438' start:2019-04-21 23:23:49.95, stop:2019-03-01 06:00:53.30
[07:41:29]   Src 'J1730-2304' start:2019-03-01 06:00:53.30, stop:2019-01-08 12:37:56.65
[07:41:29]   Src 'J1744-1134' start:2019-01-08 12:37:56.65, stop:2018-11-17 19:15:00.00
[07:41:29] 
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'
swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'

receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125



[07:41:29] <type 'exceptions.NameError'> name 'start_src' is not defined
[07:41:29]   File "/home/sparrow/19.4/lib/python/gbt/turtle/proc/Scheduler.py", line 278, in RunObservation
[07:41:29]     observation.Execute(self.GetUserTelescope())
[07:41:29]   File "/home/sparrow/19.4/lib/python/gbt/turtle/proc/Observation.py", line 145, in Execute
[07:41:29]     exec self.GetScript() in self.DefineLocals(telescope)
[07:41:29]   File "<string>", line 162, in <module>
runSuccessful: False
[07:41:29] ******** End Scheduling Block
[07:41:29] ******** observer = Ingrid Stairs, SB name = nanograv_timing_vegas_15B160, project ID = AGBT18B_226

how much log? 2260 id: 241323self.history: <gbt.turtle.database.History.History instance at 0x4abd758>self.history.connection: <gbt.turtle.database.TurtleConnection.TurtleConnection instance at 0x4abd5f0>how much converted log? 2506 
#######################################################
 
 
#######################################################
 SCRIPT NUMBER 3, project:AGBT18B_226_208 
 241324 71 Ingrid Stairs 7 Donna Stricklin 2020-02-26 07:42:29 obs_aborted 
#######################################################
# NANOGrav timing astrid block, 2012/02 PBD
# Modified for GUPPI + VEGAS, 2018/03 KS

# IMPORTANT!  Edit this to pick which band you're observing#
#band = '820'
band = 'L'
#band = 'S'

# IMPORTANT!  Edit this to pick which session you're observing
# All sources in the catalog will be observed in order, with the 
# remaining session time divided evenly between them. To 
# restart a interrupted session, first edit the catalog and comment
# out sources that have already been observed today.
srcs = Catalog("/users/pdemores/sched/18B226_2018_session_A.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_B.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_C.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_D.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_E.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_F.cat")
#Use personal catalog file, rather than editing Paul's files:
#srcs = Catalog("/users/amcewen/18B226_2018_session_C.cat")

# IMPORTANT!  Edit here to set the session's start/stop times in UTC!
# NOTES:
#  - start time does not need to be edited if the script is stopped/restarted.
#    it will always use the current time when running 'for real'.
#  - don't use any leading 0's in the values here, (leading 0 is code for
#    octal).
from mx import DateTime
# Function args are year, month, day, hour (24 hr), min, sec (UTC)
sess_start_time = DateTime.DateTime(2020,2,26,7,30,0) # UTC
sess_stop_time = DateTime.DateTime(2020,2,26,13,0,0) # UTC

# Use fixed start time rather than current time.
fix = False

############## You should not need to edit below this line ###########

execfile("/users/pdemores/config/astrid_utils.py")
#execfile("/users/pdemores/config/astrid_cals.py")

if Now() != None and not fix:
    print "Using current time for session start"
    sess_start_time = Now()
sess_len = float(sess_stop_time - sess_start_time) / 3600.0
print "Session time remaining = %.1fh" % sess_len

nsrc = len(srcs.keys())
print "nsrc = %d" % (nsrc)
time_per_src = sess_len / float(nsrc) # hours
print "time_per_src = %.1f min" % (time_per_src * 60.0)
stop_time = {}
start_time = {}
i = 0
for s in srcs.keys():
    stop_time[s] = sess_start_time + float(i+1) * time_per_src / 24.0
    start_time[s] = sess_start_time + float(i) * time_per_src / 24.0
    i += 1
    print "  Src '%s' start:%s, stop:%s" % (s, start_time[s], stop_time[s])

# Config items common to all obs
config_common = """
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'

swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'
"""

# Config items common to L-band obs
config_Lband_common="""
receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config items common to 820 obs
config_820_common="""
receiver = 'Rcvr_800'
restfreq = 820.0
bandwidth = 200
vegas.numchan = 128
vegas.polnmode = 'full_stokes'
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config items common to S-band obs
config_Sband_common="""
receiver = 'Rcvr2_3'
restfreq = 2000.0
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config for cal mode
config_cal = """
vegas.obsmode = 'coherent_cal'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
swmode = 'tp'
noisecal = 'lo'
"""

# Config for psr fold mode.
# Note the '%s' for parfile that needs to be filled in when using this.
config_psr = """
vegas.obsmode = 'coherent_fold'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
vegas.fold_parfile = '%s'
swmode = 'tp_nocal'
noisecal = 'off'
"""

# Check observing band
if (band == '820'):
   #config_common = config_common.replace("VEGAS/GUPPI","GUPPI")
   #config_common = config_common.replace("vegas","guppi")
   #config_820_common = config_820_common.replace("vegas.scale = 1015","")
   #config_820_common = config_820_common.replace("vegas","guppi")
   config0 = config_common + config_820_common
   #config_cal = config_cal.replace("vegas","guppi")
   #config_psr = config_psr.replace("vegas","guppi")
elif (band== 'L'):
   config0 = config_common + config_Lband_common
elif (band=='S'):
   config0 = config_common + config_Sband_common
else:
    Break("Invalid band ('%s') selected!" % band)

# Figure out what source to start on
#if start_src == None:
start_src = None

if True:
    cur_time = Now()
    for s in srcs.keys():
        if (cur_time < stop_time[s]):
            start_src = s
            break

# Initial slew, config, balance
print config0
print "First source: %s" % start_src
Configure(config0 + config_cal)
SetValues("DCR",{"state":"prepare"})
Slew(start_src)
Balance()
Balance("VEGAS")
# Note: use these for 820 recvr 2013/05/19
#Balance("IFRack")
#Balance("GUPPI")
Break("Check GUPPI levels now.")

# 2013/06/06 - route to vegas bank A for Glenn's stuff
#SetValues("ConverterRack",{"CMInput,1":"A"})
#SetValues("ConverterRack",{"CMInput,5":"A"})
#if (band=='820'):
#    SetValues("ConverterRack",{"Gfrequency,1":11068})
#elif (band=='L'):
#    #SetValues("ConverterRack",{"Gfrequency,1":13088})
#    SetValues("ConverterRack",{"Gfrequency,1":13288})
#SetValues("ConverterRack",{"CMAttenuator1":22.0})
#SetValues("ConverterRack",{"CMAttenuator5":22.0})
#SetValues("ConverterRack",{"CMOutput,1":3})
#SetValues("ConverterRack",{"CMOutput,5":3})
#SetValues("ConverterRack",{"state":"prepare"})

# Main observing loop
first=1
for s in srcs.keys():
    if (first and s!=start_src):
        continue
    first=0;
    print "Starting '%s'" % s
    alias = "%4.4d" % srcs[s]["alias"]
    parfile = "/users/pdemores/tzpar/%s.par" % s
    print parfile
    Slew(s)
    print "############## HERE ##################"
    print config0+config_cal
    Configure(config0 + config_cal)
    SetValues("DCR",{"state":"prepare"})
    Balance("IFRack")
    # Regular PSR observing
    Track(s, None, 90.0) # Cal scan
    Configure(config0 + config_psr % parfile)
    Track(s, None, stopTime=stop_time[s])

#######################################################
 LOG SESSION NUMBER 3 
[07:42:29] ******** Begin Scheduling Block
[07:42:29] ******** observer = Ingrid Stairs, SB name = nanograv_timing_vegas, project ID = AGBT18B_226, date = 26 Feb 2020

[07:42:29] Using current time for session start
[07:42:29] Session time remaining = 5.3h
[07:42:29] nsrc = 10
[07:42:29] time_per_src = 31.8 min
[07:42:29]   Src 'J1455-3330' start:2020-02-26 07:42:29.97, stop:2020-02-26 08:14:14.97
[07:42:29]   Src 'J1614-2230' start:2020-02-26 08:14:14.97, stop:2020-02-26 08:45:59.98
[07:42:29]   Src 'J1600-3053' start:2020-02-26 08:45:59.98, stop:2020-02-26 09:17:44.98
[07:42:29]   Src 'J1643-1224' start:2020-02-26 09:17:44.98, stop:2020-02-26 09:49:29.98
[07:42:29]   Src 'J1713+0747' start:2020-02-26 09:49:29.98, stop:2020-02-26 10:21:14.99
[07:42:29]   Src 'J1705-1903' start:2020-02-26 10:21:14.99, stop:2020-02-26 10:52:59.99
[07:42:29]   Src 'J1719-1438' start:2020-02-26 10:52:59.99, stop:2020-02-26 11:24:44.99
[07:42:29]   Src 'J1730-2304' start:2020-02-26 11:24:44.99, stop:2020-02-26 11:56:29.99
[07:42:29]   Src 'J1744-1134' start:2020-02-26 11:56:29.99, stop:2020-02-26 12:28:15.00
[07:42:29]   Src 'J0740+6620' start:2020-02-26 12:28:15.00, stop:2020-02-26 13:00:00.00
[07:42:29] 
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'

swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'

receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125

[07:42:29] First source: J1455-3330
[07:42:30] Configuring telescope.
[07:42:30]     Setting State: Activating
[07:42:33]     Setting State: Aborting
[07:42:33] 
[07:42:33] User queried: "Abort detected! Terminate block?" waiting for reply...
[07:42:36] User replied: "Yes".
[07:42:36]     Setting State: Ready
[07:42:36] Exiting scheduling block.[07:42:36]     Setting State: Activating

runSuccessful: False
[07:42:36] ******** End Scheduling Block
[07:42:36] ******** observer = Ingrid Stairs, SB name = nanograv_timing_vegas, project ID = AGBT18B_226

how much log? 2250 id: 241324self.history: <gbt.turtle.database.History.History instance at 0x4abd758>self.history.connection: <gbt.turtle.database.TurtleConnection.TurtleConnection instance at 0x4abd5f0>how much converted log? 2494 
#######################################################
 
 
#######################################################
 SCRIPT NUMBER 4, project:AGBT18B_226_208 
 241325 71 Ingrid Stairs 7 Donna Stricklin 2020-02-26 07:43:08 obs_aborted 
#######################################################
# NANOGrav timing astrid block, 2012/02 PBD
# Modified for GUPPI + VEGAS, 2018/03 KS

# IMPORTANT!  Edit this to pick which band you're observing#
#band = '820'
band = 'L'
#band = 'S'

# IMPORTANT!  Edit this to pick which session you're observing
# All sources in the catalog will be observed in order, with the 
# remaining session time divided evenly between them. To 
# restart a interrupted session, first edit the catalog and comment
# out sources that have already been observed today.
srcs = Catalog("/users/pdemores/sched/18B226_2018_session_A.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_B.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_C.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_D.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_E.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_F.cat")
#Use personal catalog file, rather than editing Paul's files:
#srcs = Catalog("/users/amcewen/18B226_2018_session_C.cat")

# IMPORTANT!  Edit here to set the session's start/stop times in UTC!
# NOTES:
#  - start time does not need to be edited if the script is stopped/restarted.
#    it will always use the current time when running 'for real'.
#  - don't use any leading 0's in the values here, (leading 0 is code for
#    octal).
from mx import DateTime
# Function args are year, month, day, hour (24 hr), min, sec (UTC)
sess_start_time = DateTime.DateTime(2020,2,26,7,30,0) # UTC
sess_stop_time = DateTime.DateTime(2020,2,26,13,0,0) # UTC

# Use fixed start time rather than current time.
fix = False

############## You should not need to edit below this line ###########

execfile("/users/pdemores/config/astrid_utils.py")
#execfile("/users/pdemores/config/astrid_cals.py")

if Now() != None and not fix:
    print "Using current time for session start"
    sess_start_time = Now()
sess_len = float(sess_stop_time - sess_start_time) / 3600.0
print "Session time remaining = %.1fh" % sess_len

nsrc = len(srcs.keys())
print "nsrc = %d" % (nsrc)
time_per_src = sess_len / float(nsrc) # hours
print "time_per_src = %.1f min" % (time_per_src * 60.0)
stop_time = {}
start_time = {}
i = 0
for s in srcs.keys():
    stop_time[s] = sess_start_time + float(i+1) * time_per_src / 24.0
    start_time[s] = sess_start_time + float(i) * time_per_src / 24.0
    i += 1
    print "  Src '%s' start:%s, stop:%s" % (s, start_time[s], stop_time[s])

# Config items common to all obs
config_common = """
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'

swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'
"""

# Config items common to L-band obs
config_Lband_common="""
receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config items common to 820 obs
config_820_common="""
receiver = 'Rcvr_800'
restfreq = 820.0
bandwidth = 200
vegas.numchan = 128
vegas.polnmode = 'full_stokes'
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config items common to S-band obs
config_Sband_common="""
receiver = 'Rcvr2_3'
restfreq = 2000.0
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config for cal mode
config_cal = """
vegas.obsmode = 'coherent_cal'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
swmode = 'tp'
noisecal = 'lo'
"""

# Config for psr fold mode.
# Note the '%s' for parfile that needs to be filled in when using this.
config_psr = """
vegas.obsmode = 'coherent_fold'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
vegas.fold_parfile = '%s'
swmode = 'tp_nocal'
noisecal = 'off'
"""

# Check observing band
if (band == '820'):
   #config_common = config_common.replace("VEGAS/GUPPI","GUPPI")
   #config_common = config_common.replace("vegas","guppi")
   #config_820_common = config_820_common.replace("vegas.scale = 1015","")
   #config_820_common = config_820_common.replace("vegas","guppi")
   config0 = config_common + config_820_common
   #config_cal = config_cal.replace("vegas","guppi")
   #config_psr = config_psr.replace("vegas","guppi")
elif (band== 'L'):
   config0 = config_common + config_Lband_common
elif (band=='S'):
   config0 = config_common + config_Sband_common
else:
    Break("Invalid band ('%s') selected!" % band)

# Figure out what source to start on
#if start_src == None:
start_src = None

if True:
    cur_time = Now()
    for s in srcs.keys():
        if (cur_time < stop_time[s]):
            start_src = s
            break

# Initial slew, config, balance
print config0
print "First source: %s" % start_src
Configure(config0 + config_cal)
SetValues("DCR",{"state":"prepare"})
Slew(start_src)
Balance()
Balance("VEGAS")
# Note: use these for 820 recvr 2013/05/19
#Balance("IFRack")
#Balance("GUPPI")
Break("Check GUPPI levels now.")

# 2013/06/06 - route to vegas bank A for Glenn's stuff
#SetValues("ConverterRack",{"CMInput,1":"A"})
#SetValues("ConverterRack",{"CMInput,5":"A"})
#if (band=='820'):
#    SetValues("ConverterRack",{"Gfrequency,1":11068})
#elif (band=='L'):
#    #SetValues("ConverterRack",{"Gfrequency,1":13088})
#    SetValues("ConverterRack",{"Gfrequency,1":13288})
#SetValues("ConverterRack",{"CMAttenuator1":22.0})
#SetValues("ConverterRack",{"CMAttenuator5":22.0})
#SetValues("ConverterRack",{"CMOutput,1":3})
#SetValues("ConverterRack",{"CMOutput,5":3})
#SetValues("ConverterRack",{"state":"prepare"})

# Main observing loop
first=1
for s in srcs.keys():
    if (first and s!=start_src):
        continue
    first=0;
    print "Starting '%s'" % s
    alias = "%4.4d" % srcs[s]["alias"]
    parfile = "/users/pdemores/tzpar/%s.par" % s
    print parfile
    Slew(s)
    print "############## HERE ##################"
    print config0+config_cal
    Configure(config0 + config_cal)
    SetValues("DCR",{"state":"prepare"})
    Balance("IFRack")
    # Regular PSR observing
    Track(s, None, 90.0) # Cal scan
    Configure(config0 + config_psr % parfile)
    Track(s, None, stopTime=stop_time[s])

#######################################################
 LOG SESSION NUMBER 4 
[07:43:08] ******** Begin Scheduling Block
[07:43:08] ******** observer = Ingrid Stairs, SB name = nanograv_timing_vegas, project ID = AGBT18B_226, date = 26 Feb 2020

[07:43:08] Using current time for session start
[07:43:08] Session time remaining = 5.3h
[07:43:08] nsrc = 10
[07:43:08] time_per_src = 31.7 min
[07:43:08]   Src 'J1455-3330' start:2020-02-26 07:43:08.78, stop:2020-02-26 08:14:49.90
[07:43:08]   Src 'J1614-2230' start:2020-02-26 08:14:49.90, stop:2020-02-26 08:46:31.03
[07:43:08]   Src 'J1600-3053' start:2020-02-26 08:46:31.03, stop:2020-02-26 09:18:12.15
[07:43:08]   Src 'J1643-1224' start:2020-02-26 09:18:12.15, stop:2020-02-26 09:49:53.27
[07:43:08]   Src 'J1713+0747' start:2020-02-26 09:49:53.27, stop:2020-02-26 10:21:34.39
[07:43:08]   Src 'J1705-1903' start:2020-02-26 10:21:34.39, stop:2020-02-26 10:53:15.51
[07:43:08]   Src 'J1719-1438' start:2020-02-26 10:53:15.51, stop:2020-02-26 11:24:56.63
[07:43:08]   Src 'J1730-2304' start:2020-02-26 11:24:56.63, stop:2020-02-26 11:56:37.76
[07:43:08]   Src 'J1744-1134' start:2020-02-26 11:56:37.76, stop:2020-02-26 12:28:18.88
[07:43:08]   Src 'J0740+6620' start:2020-02-26 12:28:18.88, stop:2020-02-26 13:00:00.00
[07:43:08] 
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'

swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'

receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125

[07:43:08] First source: J1455-3330
[07:43:08] Configuring telescope.
[07:43:09]     Setting State: Activating
[07:43:46]     Setting State: Ready
[07:43:48]     Setting State: Activating
[07:43:49] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[07:43:49] Default values are
[07:43:49] nchan  =  512
[07:43:49] beam  =  B1
[07:43:49] dm  =  0
[07:43:49] if3freq  =  [0]
[07:43:49] subband  =  1
[07:43:49] fold_parfile  =  
[07:43:49] polswitch  =  thru
[07:43:49] Configuring for backend VEGAS...
[07:43:49] The bad devices are: 
[07:43:49] ConverterFilter14
[07:43:49] ConverterFilter16
[07:43:49] ConverterFilter2
[07:43:49] ConverterFilter12
[07:43:49] OpticalDriver5
[07:43:49] ConverterFilter10
[07:43:49] The bad devices are: 
[07:43:49] ConverterFilter14
[07:43:49] ConverterFilter16
[07:43:49] ConverterFilter2
[07:43:49] ConverterFilter12
[07:43:49] OpticalDriver5
[07:43:49] ConverterFilter10
[07:43:49] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[07:43:49] BankH [400.0]
[07:43:49] BankC [400.0]
[07:43:49] BankB [400.0]
[07:43:49] BankA [400.0]
[07:43:49] BankG [400.0]
[07:43:49] BankF [400.0]
[07:43:49] BankE [400.0]
[07:43:49] BankD [400.0]
[07:43:49] Configuring for backend GUPPI...
[07:43:49] The bad devices are: 
[07:43:49] ConverterFilter14
[07:43:49] ConverterFilter16
[07:43:49] ConverterFilter2
[07:43:49] ConverterFilter12
[07:43:49] OpticalDriver5
[07:43:49] ConverterFilter10
[07:43:49] ConverterModule1
[07:43:49] ConverterModule5
[07:43:49] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[07:43:49] Waiting for  GUPPI to finish activating
[07:43:49] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[07:43:49]  Finalizing VEGAS config...
[07:43:49] Checking telescope
[07:43:49] Configuration Complete
[07:43:49] source : J1455-3330
               alias : 1455.0
               jname : J1455-3330
               location : J2000 @ (14:55:47.96, -33:30:46.30)
[07:43:49] Slewing to source.
[07:43:49] In state Activating, waiting for state Activating
[07:43:49] Detected state Activating
[07:43:49] In state Activating, waiting for state Ready
[07:46:14]     Setting State: Ready
[07:46:14] Detected state Ready
[07:46:14] Balancing IF system.
[07:46:14] Balancing IFRack
[07:46:14]     Setting State: Activating
[07:46:14]     Setting State: Ready
[07:46:16] the sampler values are:
[07:46:16] RF_power 1 : 1.12793
[07:46:16] RF_power 2 : 0
[07:46:16] RF_power 3 : 1.201172
[07:46:16] RF_power 4 : 0.009765625
[07:46:16] RF_power 5 : 0.03417969
[07:46:16] RF_power 6 : 0.01464844
[07:46:16] RF_power 7 : 0
[07:46:16] RF_power 8 : 0.02441406
[07:46:16] Balancing Guppi
[07:46:16]     Setting State: Activating
[07:46:16]     Setting State: Ready
[07:46:18] Filter 8 RF power =
[07:46:18] 2.255859375
[07:46:18] Filter 4 RF power =
[07:46:18] 1.7529296875
[07:46:18]     Setting State: Activating
[07:46:18]     Setting State: Ready
[07:46:18]     Setting State: Activating
[07:46:18]     Setting State: Ready
[07:46:19] Balancing IF system.
[07:46:19] Balancing VEGAS
[07:46:19]     Setting State: Activating
[07:46:19]     Setting State: Ready
[07:46:20]     Setting State: Activating
[07:46:20]     Setting State: Ready
[07:46:20]     Setting State: Activating
[07:46:20]     Setting State: Ready
[07:46:21] 
[07:46:21] User queried: "Check GUPPI levels now. - Continue scheduling block?" waiting for reply...
[07:46:56] User replied: "Yes".
[07:46:56] Starting 'J1455-3330'
[07:46:56] /users/pdemores/tzpar/J1455-3330.par
[07:46:56] source : J1455-3330
               alias : 1455.0
               jname : J1455-3330
               location : J2000 @ (14:55:47.96, -33:30:46.30)
[07:46:56] Slewing to source.
[07:46:57] In state Ready, waiting for state Activating
[07:46:57]     Setting State: Activating
[07:46:57] Detected state Activating
[07:46:57] In state Activating, waiting for state Ready
[07:46:59]     Setting State: Ready
[07:46:59] Detected state Ready
[07:46:59] ############## HERE ##################
[07:46:59] 
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'

swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'

receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125

vegas.obsmode = 'coherent_cal'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
swmode = 'tp'
noisecal = 'lo'

[07:46:59] Configuring telescope.
[07:46:59]     Setting State: Activating
[07:47:36]     Setting State: Ready
[07:47:38]     Setting State: Activating
[07:47:39] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[07:47:39] Default values are
[07:47:39] nchan  =  512
[07:47:39] beam  =  B1
[07:47:39] dm  =  0
[07:47:39] if3freq  =  [0]
[07:47:39] subband  =  1
[07:47:39] fold_parfile  =  
[07:47:39] polswitch  =  thru
[07:47:39] Configuring for backend VEGAS...
[07:47:39] The bad devices are: 
[07:47:39] ConverterFilter14
[07:47:39] ConverterFilter16
[07:47:39] ConverterFilter2
[07:47:39] ConverterFilter12
[07:47:39] OpticalDriver5
[07:47:39] ConverterFilter10
[07:47:39] The bad devices are: 
[07:47:39] ConverterFilter14
[07:47:39] ConverterFilter16
[07:47:39] ConverterFilter2
[07:47:39] ConverterFilter12
[07:47:39] OpticalDriver5
[07:47:39] ConverterFilter10
[07:47:39] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[07:47:39] BankH [400.0]
[07:47:39] BankC [400.0]
[07:47:39] BankB [400.0]
[07:47:39] BankA [400.0]
[07:47:39] BankG [400.0]
[07:47:39] BankF [400.0]
[07:47:39] BankE [400.0]
[07:47:39] BankD [400.0]
[07:47:39] Configuring for backend GUPPI...
[07:47:39] The bad devices are: 
[07:47:39] ConverterFilter14
[07:47:39] ConverterFilter16
[07:47:39] ConverterFilter2
[07:47:39] ConverterFilter12
[07:47:39] OpticalDriver5
[07:47:39] ConverterFilter10
[07:47:39] ConverterModule1
[07:47:39] ConverterModule5
[07:47:39] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[07:47:39] Waiting for  GUPPI to finish activating
[07:47:39] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[07:47:39]  Finalizing VEGAS config...
[07:47:39] Checking telescope
[07:47:39] Configuration Complete
[07:47:39] Balancing IF system.
[07:47:39] Balancing IFRack
[07:47:41] the sampler values are:
[07:47:41] RF_power 1 : 1.132812
[07:47:41] RF_power 2 : 0
[07:47:41] RF_power 3 : 0.9765625
[07:47:41] RF_power 4 : 0.009765625
[07:47:41] RF_power 5 : 0.03417969
[07:47:41] RF_power 6 : 0.009765625
[07:47:41] RF_power 7 : 0
[07:47:41] RF_power 8 : 0.02441406
[07:47:42]     Setting State: Ready
[07:47:42] source : J1455-3330
               alias : 1455.0
               jname : J1455-3330
               location : J2000 @ (14:55:47.96, -33:30:46.30)
[07:47:42] Track: Subscan 1 of 1
[07:47:43] In state Ready, waiting for state Running
[07:47:43]     Setting State: Activating
[07:47:43]     Setting State: Committed
[07:48:11]     Setting State: Running
[07:48:11] Detected state Running
[07:48:11] *** Notice: This subscan will be numbered as scan #3 in your data reduction package.
[07:48:11] In state Running, waiting for state Ready
[07:49:43]     Setting State: Stopping
[07:49:51]     Setting State: Ready
[07:49:51] Detected state Ready
[07:49:51] Ygor Telescope: WaitForStopping
[07:49:51] Configuring telescope.
[07:49:52]     Setting State: Activating
[07:50:29]     Setting State: Ready
[07:50:31]     Setting State: Activating
[07:50:32] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[07:50:32] Default values are
[07:50:32] nchan  =  512
[07:50:32] beam  =  B1
[07:50:32] dm  =  0
[07:50:32] if3freq  =  [0]
[07:50:32] subband  =  1
[07:50:32] polswitch  =  thru
[07:50:32] Configuring for backend VEGAS...
[07:50:32] The bad devices are: 
[07:50:32] ConverterFilter14
[07:50:32] ConverterFilter16
[07:50:32] ConverterFilter2
[07:50:32] ConverterFilter12
[07:50:32] OpticalDriver5
[07:50:32] ConverterFilter10
[07:50:32] The bad devices are: 
[07:50:32] ConverterFilter14
[07:50:32] ConverterFilter16
[07:50:32] ConverterFilter2
[07:50:32] ConverterFilter12
[07:50:32] OpticalDriver5
[07:50:32] ConverterFilter10
[07:50:32] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[07:50:32] BankH [400.0]
[07:50:32] BankC [400.0]
[07:50:32] BankB [400.0]
[07:50:32] BankA [400.0]
[07:50:32] BankG [400.0]
[07:50:32] BankF [400.0]
[07:50:32] BankE [400.0]
[07:50:32] BankD [400.0]
[07:50:32] Configuring for backend GUPPI...
[07:50:32] The bad devices are: 
[07:50:32] ConverterFilter14
[07:50:32] ConverterFilter16
[07:50:32] ConverterFilter2
[07:50:32] ConverterFilter12
[07:50:32] OpticalDriver5
[07:50:32] ConverterFilter10
[07:50:32] ConverterModule1
[07:50:32] ConverterModule5
[07:50:32] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[07:50:32] Waiting for  GUPPI to finish activating
[07:50:32] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[07:50:32]  Finalizing VEGAS config...
[07:50:32] Checking telescope
[07:50:32] Configuration Complete
[07:50:32] source : J1455-3330
               alias : 1455.0
               jname : J1455-3330
               location : J2000 @ (14:55:47.96, -33:30:46.30)
[07:50:32] Track: Subscan 1 of 1
[07:50:32] In state Activating, waiting for state Running
[07:50:33]     Setting State: Committed
[07:50:38]     Setting State: Running
[07:50:38] Detected state Running
[07:50:38] *** Notice: This subscan will be numbered as scan #4 in your data reduction package.
[07:50:38] In state Running, waiting for state Ready
[08:14:50]     Setting State: Stopping
[08:14:58]     Setting State: Ready
[08:14:58] Detected state Ready
[08:14:58] Ygor Telescope: WaitForStopping
[08:14:58] Starting 'J1614-2230'
[08:14:58] /users/pdemores/tzpar/J1614-2230.par
[08:14:58] source : J1614-2230
               alias : 1614.0
               jname : J1614-2230
               location : J2000 @ (16:14:36.50, -22:30:31.10)
[08:14:59] Slewing to source.
[08:14:59] In state Ready, waiting for state Activating
[08:14:59]     Setting State: Activating
[08:14:59] Detected state Activating
[08:14:59] In state Activating, waiting for state Ready
[08:15:59]     Setting State: Ready
[08:15:59] Detected state Ready
[08:15:59] ############## HERE ##################
[08:15:59] 
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'

swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'

receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125

vegas.obsmode = 'coherent_cal'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
swmode = 'tp'
noisecal = 'lo'

[08:15:59] Configuring telescope.
[08:15:59]     Setting State: Activating
[08:16:36]     Setting State: Ready
[08:16:38]     Setting State: Activating
[08:16:39] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[08:16:39] Default values are
[08:16:39] nchan  =  512
[08:16:39] beam  =  B1
[08:16:39] dm  =  0
[08:16:39] if3freq  =  [0]
[08:16:39] subband  =  1
[08:16:39] polswitch  =  thru
[08:16:39] Configuring for backend VEGAS...
[08:16:39] The bad devices are: 
[08:16:39] ConverterFilter14
[08:16:39] ConverterFilter16
[08:16:39] ConverterFilter2
[08:16:39] ConverterFilter12
[08:16:39] OpticalDriver5
[08:16:39] ConverterFilter10
[08:16:39] The bad devices are: 
[08:16:39] ConverterFilter14
[08:16:39] ConverterFilter16
[08:16:39] ConverterFilter2
[08:16:39] ConverterFilter12
[08:16:39] OpticalDriver5
[08:16:39] ConverterFilter10
[08:16:39] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[08:16:39] BankH [400.0]
[08:16:39] BankC [400.0]
[08:16:39] BankB [400.0]
[08:16:39] BankA [400.0]
[08:16:39] BankG [400.0]
[08:16:39] BankF [400.0]
[08:16:39] BankE [400.0]
[08:16:39] BankD [400.0]
[08:16:39] Configuring for backend GUPPI...
[08:16:39] The bad devices are: 
[08:16:39] ConverterFilter14
[08:16:39] ConverterFilter16
[08:16:39] ConverterFilter2
[08:16:39] ConverterFilter12
[08:16:39] OpticalDriver5
[08:16:39] ConverterFilter10
[08:16:39] ConverterModule1
[08:16:39] ConverterModule5
[08:16:39] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[08:16:39] Waiting for  GUPPI to finish activating
[08:16:39] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[08:16:39]  Finalizing VEGAS config...
[08:16:39] Checking telescope
[08:16:39] Configuration Complete
[08:16:40] Balancing IF system.
[08:16:40] Balancing IFRack
[08:16:40]     Setting State: Ready
[08:16:40]     Setting State: Activating
[08:16:41]     Setting State: Ready
[08:16:42] the sampler values are:
[08:16:42] RF_power 1 : 1.000977
[08:16:42] RF_power 2 : 0
[08:16:42] RF_power 3 : 1.113281
[08:16:42] RF_power 4 : 0.009765625
[08:16:42] RF_power 5 : 0.0390625
[08:16:42] RF_power 6 : 0.01464844
[08:16:42] RF_power 7 : 0
[08:16:42] RF_power 8 : 0.01953125
[08:16:43] source : J1614-2230
               alias : 1614.0
               jname : J1614-2230
               location : J2000 @ (16:14:36.50, -22:30:31.10)
[08:16:43] Track: Subscan 1 of 1
[08:16:43] In state Ready, waiting for state Running
[08:16:43]     Setting State: Activating
[08:16:43]     Setting State: Committed
[08:17:10]     Setting State: Running
[08:17:10] Detected state Running
[08:17:10] *** Notice: This subscan will be numbered as scan #5 in your data reduction package.
[08:17:10] In state Running, waiting for state Ready
[08:18:42]     Setting State: Stopping
[08:18:50]     Setting State: Ready
[08:18:50] Detected state Ready
[08:18:50] Ygor Telescope: WaitForStopping
[08:18:50] Configuring telescope.
[08:18:51]     Setting State: Activating
[08:19:28]     Setting State: Ready
[08:19:30]     Setting State: Activating
[08:19:31] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[08:19:31] Default values are
[08:19:31] nchan  =  512
[08:19:31] beam  =  B1
[08:19:31] dm  =  0
[08:19:31] if3freq  =  [0]
[08:19:31] subband  =  1
[08:19:31] polswitch  =  thru
[08:19:31] Configuring for backend VEGAS...
[08:19:31] The bad devices are: 
[08:19:31] ConverterFilter14
[08:19:31] ConverterFilter16
[08:19:31] ConverterFilter2
[08:19:31] ConverterFilter12
[08:19:31] OpticalDriver5
[08:19:31] ConverterFilter10
[08:19:31] The bad devices are: 
[08:19:31] ConverterFilter14
[08:19:31] ConverterFilter16
[08:19:31] ConverterFilter2
[08:19:31] ConverterFilter12
[08:19:31] OpticalDriver5
[08:19:31] ConverterFilter10
[08:19:31] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[08:19:31] BankH [400.0]
[08:19:31] BankC [400.0]
[08:19:31] BankB [400.0]
[08:19:31] BankA [400.0]
[08:19:31] BankG [400.0]
[08:19:31] BankF [400.0]
[08:19:31] BankE [400.0]
[08:19:31] BankD [400.0]
[08:19:31] Configuring for backend GUPPI...
[08:19:31] The bad devices are: 
[08:19:31] ConverterFilter14
[08:19:31] ConverterFilter16
[08:19:31] ConverterFilter2
[08:19:31] ConverterFilter12
[08:19:31] OpticalDriver5
[08:19:31] ConverterFilter10
[08:19:31] ConverterModule1
[08:19:31] ConverterModule5
[08:19:31] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[08:19:31] Waiting for  GUPPI to finish activating
[08:19:31] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[08:19:31]  Finalizing VEGAS config...
[08:19:31] Checking telescope
[08:19:31] Configuration Complete
[08:19:31] source : J1614-2230
               alias : 1614.0
               jname : J1614-2230
               location : J2000 @ (16:14:36.50, -22:30:31.10)
[08:19:31] Track: Subscan 1 of 1
[08:19:31]     Setting State: Ready
[08:19:31] In state Ready, waiting for state Running
[08:19:32]     Setting State: Activating
[08:19:32]     Setting State: Committed
[08:19:37]     Setting State: Running
[08:19:37] Detected state Running
[08:19:37] *** Notice: This subscan will be numbered as scan #6 in your data reduction package.
[08:19:37] In state Running, waiting for state Ready
[08:46:31]     Setting State: Stopping
[08:46:38]     Setting State: Ready
[08:46:38] Detected state Ready
[08:46:38] Ygor Telescope: WaitForStopping
[08:46:38] Starting 'J1600-3053'
[08:46:38] /users/pdemores/tzpar/J1600-3053.par
[08:46:38] source : J1600-3053
               alias : 1600.0
               jname : J1600-3053
               location : J2000 @ (16:00:51.90, -30:53:49.30)
[08:46:39] Slewing to source.
[08:46:39] In state Ready, waiting for state Activating
[08:46:39]     Setting State: Activating
[08:46:39] Detected state Activating
[08:46:39] In state Activating, waiting for state Ready
[08:47:13]     Setting State: Ready
[08:47:13] Detected state Ready
[08:47:13] ############## HERE ##################
[08:47:13] 
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'

swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'

receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125

vegas.obsmode = 'coherent_cal'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
swmode = 'tp'
noisecal = 'lo'

[08:47:13] Configuring telescope.
[08:47:13]     Setting State: Activating
[08:47:51]     Setting State: Ready
[08:47:52]     Setting State: Activating
[08:47:53] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[08:47:53] Default values are
[08:47:53] nchan  =  512
[08:47:53] beam  =  B1
[08:47:53] dm  =  0
[08:47:53] if3freq  =  [0]
[08:47:53] subband  =  1
[08:47:53] polswitch  =  thru
[08:47:53] Configuring for backend VEGAS...
[08:47:53] The bad devices are: 
[08:47:53] ConverterFilter14
[08:47:53] ConverterFilter16
[08:47:53] ConverterFilter2
[08:47:53] ConverterFilter12
[08:47:53] OpticalDriver5
[08:47:53] ConverterFilter10
[08:47:53] The bad devices are: 
[08:47:53] ConverterFilter14
[08:47:53] ConverterFilter16
[08:47:53] ConverterFilter2
[08:47:53] ConverterFilter12
[08:47:53] OpticalDriver5
[08:47:53] ConverterFilter10
[08:47:53] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[08:47:53] BankH [400.0]
[08:47:53] BankC [400.0]
[08:47:53] BankB [400.0]
[08:47:53] BankA [400.0]
[08:47:53] BankG [400.0]
[08:47:53] BankF [400.0]
[08:47:53] BankE [400.0]
[08:47:53] BankD [400.0]
[08:47:53] Configuring for backend GUPPI...
[08:47:53] The bad devices are: 
[08:47:53] ConverterFilter14
[08:47:53] ConverterFilter16
[08:47:53] ConverterFilter2
[08:47:53] ConverterFilter12
[08:47:53] OpticalDriver5
[08:47:53] ConverterFilter10
[08:47:53] ConverterModule1
[08:47:53] ConverterModule5
[08:47:53] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[08:47:53] Waiting for  GUPPI to finish activating
[08:47:53] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[08:47:53]  Finalizing VEGAS config...
[08:47:53] Checking telescope
[08:47:53] Configuration Complete
[08:47:53] Balancing IF system.
[08:47:54] Balancing IFRack
[08:47:55]     Setting State: Ready
[08:47:56] the sampler values are:
[08:47:56] RF_power 1 : 1.083984
[08:47:56] RF_power 2 : 0
[08:47:56] RF_power 3 : 1.020508
[08:47:56] RF_power 4 : 0.004882812
[08:47:56] RF_power 5 : 0.0390625
[08:47:56] RF_power 6 : 0.01464844
[08:47:56] RF_power 7 : 0.004882812
[08:47:56] RF_power 8 : 0.02441406
[08:47:57] source : J1600-3053
               alias : 1600.0
               jname : J1600-3053
               location : J2000 @ (16:00:51.90, -30:53:49.30)
[08:47:57] Track: Subscan 1 of 1
[08:47:57] In state Ready, waiting for state Running
[08:47:57]     Setting State: Activating
[08:47:57]     Setting State: Committed
[08:48:23]     Setting State: Running
[08:48:23] Detected state Running
[08:48:23] *** Notice: This subscan will be numbered as scan #7 in your data reduction package.
[08:48:23] In state Running, waiting for state Ready
[08:49:55]     Setting State: Stopping
[08:50:04]     Setting State: Ready
[08:50:04] Detected state Ready
[08:50:04] Ygor Telescope: WaitForStopping
[08:50:04] Configuring telescope.
[08:50:04]     Setting State: Activating
[08:50:41]     Setting State: Ready
[08:50:43]     Setting State: Activating
[08:50:44] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[08:50:44] Default values are
[08:50:44] nchan  =  512
[08:50:44] beam  =  B1
[08:50:44] dm  =  0
[08:50:44] if3freq  =  [0]
[08:50:44] subband  =  1
[08:50:44] polswitch  =  thru
[08:50:44] Configuring for backend VEGAS...
[08:50:44] The bad devices are: 
[08:50:44] ConverterFilter14
[08:50:44] ConverterFilter16
[08:50:44] ConverterFilter2
[08:50:44] ConverterFilter12
[08:50:44] OpticalDriver5
[08:50:44] ConverterFilter10
[08:50:44] The bad devices are: 
[08:50:44] ConverterFilter14
[08:50:44] ConverterFilter16
[08:50:44] ConverterFilter2
[08:50:44] ConverterFilter12
[08:50:44] OpticalDriver5
[08:50:44] ConverterFilter10
[08:50:44] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[08:50:44] BankH [400.0]
[08:50:44] BankC [400.0]
[08:50:44] BankB [400.0]
[08:50:44] BankA [400.0]
[08:50:44] BankG [400.0]
[08:50:44] BankF [400.0]
[08:50:44] BankE [400.0]
[08:50:44] BankD [400.0]
[08:50:44] Configuring for backend GUPPI...
[08:50:44] The bad devices are: 
[08:50:44] ConverterFilter14
[08:50:44] ConverterFilter16
[08:50:44] ConverterFilter2
[08:50:44] ConverterFilter12
[08:50:44] OpticalDriver5
[08:50:44] ConverterFilter10
[08:50:44] ConverterModule1
[08:50:44] ConverterModule5
[08:50:44] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[08:50:44] Waiting for  GUPPI to finish activating
[08:50:44] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[08:50:44]  Finalizing VEGAS config...
[08:50:44] Checking telescope
[08:50:44] Configuration Complete
[08:50:44] source : J1600-3053
               alias : 1600.0
               jname : J1600-3053
               location : J2000 @ (16:00:51.90, -30:53:49.30)
[08:50:44] Track: Subscan 1 of 1
[08:50:44] In state Activating, waiting for state Running
[08:50:45]     Setting State: Committed
[08:50:51]     Setting State: Running
[08:50:51] Detected state Running
[08:50:51] *** Notice: This subscan will be numbered as scan #8 in your data reduction package.
[08:50:51] In state Running, waiting for state Ready
[09:18:12]     Setting State: Stopping
[09:18:20]     Setting State: Ready
[09:18:20] Detected state Ready
[09:18:20] Ygor Telescope: WaitForStopping
[09:18:20] Starting 'J1643-1224'
[09:18:20] /users/pdemores/tzpar/J1643-1224.par
[09:18:20] source : J1643-1224
               alias : 1643.0
               jname : J1643-1224
               location : J2000 @ (16:43:38.15, -12:24:58.70)
[09:18:21] Slewing to source.
[09:18:21] In state Ready, waiting for state Activating
[09:18:21]     Setting State: Activating
[09:18:21] Detected state Activating
[09:18:21] In state Activating, waiting for state Ready
[09:19:16]     Setting State: Ready
[09:19:16] Detected state Ready
[09:19:16] ############## HERE ##################
[09:19:16] 
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'

swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'

receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125

vegas.obsmode = 'coherent_cal'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
swmode = 'tp'
noisecal = 'lo'

[09:19:16] Configuring telescope.
[09:19:17]     Setting State: Activating
[09:19:54]     Setting State: Ready
[09:19:56]     Setting State: Activating
[09:19:57] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[09:19:57] Default values are
[09:19:57] nchan  =  512
[09:19:57] beam  =  B1
[09:19:57] dm  =  0
[09:19:57] if3freq  =  [0]
[09:19:57] subband  =  1
[09:19:57] polswitch  =  thru
[09:19:57] Configuring for backend VEGAS...
[09:19:57] The bad devices are: 
[09:19:57] ConverterFilter14
[09:19:57] ConverterFilter16
[09:19:57] ConverterFilter2
[09:19:57] ConverterFilter12
[09:19:57] OpticalDriver5
[09:19:57] ConverterFilter10
[09:19:57] The bad devices are: 
[09:19:57] ConverterFilter14
[09:19:57] ConverterFilter16
[09:19:57] ConverterFilter2
[09:19:57] ConverterFilter12
[09:19:57] OpticalDriver5
[09:19:57] ConverterFilter10
[09:19:57] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[09:19:57] BankH [400.0]
[09:19:57] BankC [400.0]
[09:19:57] BankB [400.0]
[09:19:57] BankA [400.0]
[09:19:57] BankG [400.0]
[09:19:57] BankF [400.0]
[09:19:57] BankE [400.0]
[09:19:57] BankD [400.0]
[09:19:57] Configuring for backend GUPPI...
[09:19:57] The bad devices are: 
[09:19:57] ConverterFilter14
[09:19:57] ConverterFilter16
[09:19:57] ConverterFilter2
[09:19:57] ConverterFilter12
[09:19:57] OpticalDriver5
[09:19:57] ConverterFilter10
[09:19:57] ConverterModule1
[09:19:57] ConverterModule5
[09:19:57] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[09:19:57] Waiting for  GUPPI to finish activating
[09:19:57] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[09:19:57]  Finalizing VEGAS config...
[09:19:57] Checking telescope
[09:19:57] Configuration Complete
[09:19:57] Balancing IF system.
[09:19:57] Balancing IFRack
[09:19:58]     Setting State: Ready
[09:19:59] the sampler values are:
[09:19:59] RF_power 1 : 0.9130859
[09:19:59] RF_power 2 : 0
[09:19:59] RF_power 3 : 1.025391
[09:19:59] RF_power 4 : 0.01464844
[09:19:59] RF_power 5 : 0.0390625
[09:19:59] RF_power 6 : 0.01464844
[09:19:59] RF_power 7 : 0.004882812
[09:19:59] RF_power 8 : 0.01953125
[09:20:00] source : J1643-1224
               alias : 1643.0
               jname : J1643-1224
               location : J2000 @ (16:43:38.15, -12:24:58.70)
[09:20:00] Track: Subscan 1 of 1
[09:20:00] In state Ready, waiting for state Running
[09:20:00]     Setting State: Activating
[09:20:01]     Setting State: Committed
[09:20:27]     Setting State: Running
[09:20:27] Detected state Running
[09:20:27] *** Notice: This subscan will be numbered as scan #9 in your data reduction package.
[09:20:27] In state Running, waiting for state Ready
[09:21:59]     Setting State: Stopping
[09:22:08]     Setting State: Ready
[09:22:08] Detected state Ready
[09:22:08] Ygor Telescope: WaitForStopping
[09:22:08] Configuring telescope.
[09:22:08]     Setting State: Activating
[09:22:45]     Setting State: Ready
[09:22:47]     Setting State: Activating
[09:22:48] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[09:22:48] Default values are
[09:22:48] nchan  =  512
[09:22:48] beam  =  B1
[09:22:48] dm  =  0
[09:22:48] if3freq  =  [0]
[09:22:48] subband  =  1
[09:22:48] polswitch  =  thru
[09:22:48] Configuring for backend VEGAS...
[09:22:48] The bad devices are: 
[09:22:48] ConverterFilter14
[09:22:48] ConverterFilter16
[09:22:48] ConverterFilter2
[09:22:48] ConverterFilter12
[09:22:48] OpticalDriver5
[09:22:48] ConverterFilter10
[09:22:48] The bad devices are: 
[09:22:48] ConverterFilter14
[09:22:48] ConverterFilter16
[09:22:48] ConverterFilter2
[09:22:48] ConverterFilter12
[09:22:48] OpticalDriver5
[09:22:48] ConverterFilter10
[09:22:48] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[09:22:48] BankH [400.0]
[09:22:48] BankC [400.0]
[09:22:48] BankB [400.0]
[09:22:48] BankA [400.0]
[09:22:48] BankG [400.0]
[09:22:48] BankF [400.0]
[09:22:48] BankE [400.0]
[09:22:48] BankD [400.0]
[09:22:48] Configuring for backend GUPPI...
[09:22:48] The bad devices are: 
[09:22:48] ConverterFilter14
[09:22:48] ConverterFilter16
[09:22:48] ConverterFilter2
[09:22:48] ConverterFilter12
[09:22:48] OpticalDriver5
[09:22:48] ConverterFilter10
[09:22:48] ConverterModule1
[09:22:48] ConverterModule5
[09:22:48] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[09:22:48] Waiting for  GUPPI to finish activating
[09:22:48] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[09:22:48]  Finalizing VEGAS config...
[09:22:48] Checking telescope
[09:22:48] Configuration Complete
[09:22:48] source : J1643-1224
               alias : 1643.0
               jname : J1643-1224
               location : J2000 @ (16:43:38.15, -12:24:58.70)
[09:22:48] Track: Subscan 1 of 1
[09:22:49] In state Activating, waiting for state Running
[09:22:49]     Setting State: Committed
[09:22:55]     Setting State: Running
[09:22:55] Detected state Running
[09:22:55] *** Notice: This subscan will be numbered as scan #10 in your data reduction package.
[09:22:55] In state Running, waiting for state Ready
[09:49:53]     Setting State: Stopping
[09:49:56]     Setting State: Ready
[09:49:56] Detected state Ready
[09:49:56] Ygor Telescope: WaitForStopping
[09:49:56] Starting 'J1713+0747'
[09:49:56] /users/pdemores/tzpar/J1713+0747.par
[09:49:56] source : J1713+0747
               alias : 1713.0
               jname : J1713+0747
               location : J2000 @ (17:13:49.53, 07:47:37.50)
[09:49:57] Slewing to source.
[09:49:57] In state Ready, waiting for state Activating
[09:49:57]     Setting State: Activating
[09:49:57] Detected state Activating
[09:49:57] In state Activating, waiting for state Ready
[09:50:59]     Setting State: Ready
[09:50:59] Detected state Ready
[09:50:59] ############## HERE ##################
[09:50:59] 
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'

swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'

receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125

vegas.obsmode = 'coherent_cal'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
swmode = 'tp'
noisecal = 'lo'

[09:50:59] Configuring telescope.
[09:50:59]     Setting State: Activating
[09:51:37]     Setting State: Ready
[09:51:39]     Setting State: Activating
[09:51:40] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[09:51:40] Default values are
[09:51:40] nchan  =  512
[09:51:40] beam  =  B1
[09:51:40] dm  =  0
[09:51:40] if3freq  =  [0]
[09:51:40] subband  =  1
[09:51:40] polswitch  =  thru
[09:51:40] Configuring for backend VEGAS...
[09:51:40] The bad devices are: 
[09:51:40] ConverterFilter14
[09:51:40] ConverterFilter16
[09:51:40] ConverterFilter2
[09:51:40] ConverterFilter12
[09:51:40] OpticalDriver5
[09:51:40] ConverterFilter10
[09:51:40] The bad devices are: 
[09:51:40] ConverterFilter14
[09:51:40] ConverterFilter16
[09:51:40] ConverterFilter2
[09:51:40] ConverterFilter12
[09:51:40] OpticalDriver5
[09:51:40] ConverterFilter10
[09:51:40] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[09:51:40] BankH [400.0]
[09:51:40] BankC [400.0]
[09:51:40] BankB [400.0]
[09:51:40] BankA [400.0]
[09:51:40] BankG [400.0]
[09:51:40] BankF [400.0]
[09:51:40] BankE [400.0]
[09:51:40] BankD [400.0]
[09:51:40] Configuring for backend GUPPI...
[09:51:40] The bad devices are: 
[09:51:40] ConverterFilter14
[09:51:40] ConverterFilter16
[09:51:40] ConverterFilter2
[09:51:40] ConverterFilter12
[09:51:40] OpticalDriver5
[09:51:40] ConverterFilter10
[09:51:40] ConverterModule1
[09:51:40] ConverterModule5
[09:51:40] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[09:51:40] Waiting for  GUPPI to finish activating
[09:51:40] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[09:51:40]  Finalizing VEGAS config...
[09:51:40] Checking telescope
[09:51:40] Configuration Complete
[09:51:40] Balancing IF system.
[09:51:40] Balancing IFRack
[09:51:40]     Setting State: Ready
[09:51:40]     Setting State: Activating
[09:51:42] the sampler values are:
[09:51:42] RF_power 1 : 0.8740234
[09:51:42] RF_power 2 : 0
[09:51:42] RF_power 3 : 0.9570312
[09:51:42] RF_power 4 : 0.004882812
[09:51:42] RF_power 5 : 0.0390625
[09:51:42] RF_power 6 : 0.01464844
[09:51:42] RF_power 7 : 0
[09:51:42] RF_power 8 : 0.01953125
[09:51:42]     Setting State: Ready
[09:51:43] source : J1713+0747
               alias : 1713.0
               jname : J1713+0747
               location : J2000 @ (17:13:49.53, 07:47:37.50)
[09:51:43] Track: Subscan 1 of 1
[09:51:44] In state Ready, waiting for state Running
[09:51:44]     Setting State: Activating
[09:51:44]     Setting State: Committed
[09:52:11]     Setting State: Running
[09:52:11] Detected state Running
[09:52:11] *** Notice: This subscan will be numbered as scan #11 in your data reduction package.
[09:52:11] In state Running, waiting for state Ready
[09:53:43]     Setting State: Stopping
[09:53:48]     Setting State: Ready
[09:53:48] Detected state Ready
[09:53:48] Ygor Telescope: WaitForStopping
[09:53:48] Configuring telescope.
[09:53:48]     Setting State: Activating
[09:54:25]     Setting State: Ready
[09:54:27]     Setting State: Activating
[09:54:28] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[09:54:28] Default values are
[09:54:28] nchan  =  512
[09:54:28] beam  =  B1
[09:54:28] dm  =  0
[09:54:28] if3freq  =  [0]
[09:54:28] subband  =  1
[09:54:28] polswitch  =  thru
[09:54:28] Configuring for backend VEGAS...
[09:54:28] The bad devices are: 
[09:54:28] ConverterFilter14
[09:54:28] ConverterFilter16
[09:54:28] ConverterFilter2
[09:54:28] ConverterFilter12
[09:54:28] OpticalDriver5
[09:54:28] ConverterFilter10
[09:54:28] The bad devices are: 
[09:54:28] ConverterFilter14
[09:54:28] ConverterFilter16
[09:54:28] ConverterFilter2
[09:54:28] ConverterFilter12
[09:54:28] OpticalDriver5
[09:54:28] ConverterFilter10
[09:54:28] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[09:54:28] BankH [400.0]
[09:54:28] BankC [400.0]
[09:54:28] BankB [400.0]
[09:54:28] BankA [400.0]
[09:54:28] BankG [400.0]
[09:54:28] BankF [400.0]
[09:54:28] BankE [400.0]
[09:54:28] BankD [400.0]
[09:54:28] Configuring for backend GUPPI...
[09:54:28] The bad devices are: 
[09:54:28] ConverterFilter14
[09:54:28] ConverterFilter16
[09:54:28] ConverterFilter2
[09:54:28] ConverterFilter12
[09:54:28] OpticalDriver5
[09:54:28] ConverterFilter10
[09:54:28] ConverterModule1
[09:54:28] ConverterModule5
[09:54:28] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[09:54:28] Waiting for  GUPPI to finish activating
[09:54:28] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[09:54:28]  Finalizing VEGAS config...
[09:54:28] Checking telescope
[09:54:28] Configuration Complete
[09:54:28] source : J1713+0747
               alias : 1713.0
               jname : J1713+0747
               location : J2000 @ (17:13:49.53, 07:47:37.50)
[09:54:28] Track: Subscan 1 of 1
[09:54:29] In state Activating, waiting for state Running
[09:54:29]     Setting State: Committed
[09:54:35]     Setting State: Running
[09:54:35] Detected state Running
[09:54:35] *** Notice: This subscan will be numbered as scan #12 in your data reduction package.
[09:54:35] In state Running, waiting for state Ready
[10:21:34]     Setting State: Stopping
[10:21:37]     Setting State: Ready
[10:21:37] Detected state Ready
[10:21:37] Ygor Telescope: WaitForStopping
[10:21:37] Starting 'J1705-1903'
[10:21:37] /users/pdemores/tzpar/J1705-1903.par
[10:21:37] source : J1705-1903
               alias : 1705.0
               jname : J1705-1903
               location : J2000 @ (17:05:43.85, -19:03:41.40)
[10:21:37] Slewing to source.
[10:21:37] In state Ready, waiting for state Activating
[10:21:37]     Setting State: Activating
[10:21:37] Detected state Activating
[10:21:37] In state Activating, waiting for state Ready
[10:23:06]     Setting State: Ready
[10:23:06] Detected state Ready
[10:23:06] ############## HERE ##################
[10:23:06] 
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'

swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'

receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125

vegas.obsmode = 'coherent_cal'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
swmode = 'tp'
noisecal = 'lo'

[10:23:06] Configuring telescope.
[10:23:07]     Setting State: Activating
[10:23:44]     Setting State: Ready
[10:23:46]     Setting State: Activating
[10:23:47] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[10:23:47] Default values are
[10:23:47] nchan  =  512
[10:23:47] beam  =  B1
[10:23:47] dm  =  0
[10:23:47] if3freq  =  [0]
[10:23:47] subband  =  1
[10:23:47] polswitch  =  thru
[10:23:47] Configuring for backend VEGAS...
[10:23:47] The bad devices are: 
[10:23:47] ConverterFilter14
[10:23:47] ConverterFilter16
[10:23:47] ConverterFilter2
[10:23:47] ConverterFilter12
[10:23:47] OpticalDriver5
[10:23:47] ConverterFilter10
[10:23:47] The bad devices are: 
[10:23:47] ConverterFilter14
[10:23:47] ConverterFilter16
[10:23:47] ConverterFilter2
[10:23:47] ConverterFilter12
[10:23:47] OpticalDriver5
[10:23:47] ConverterFilter10
[10:23:47] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[10:23:47] BankH [400.0]
[10:23:47] BankC [400.0]
[10:23:47] BankB [400.0]
[10:23:47] BankA [400.0]
[10:23:47] BankG [400.0]
[10:23:47] BankF [400.0]
[10:23:47] BankE [400.0]
[10:23:47] BankD [400.0]
[10:23:47] Configuring for backend GUPPI...
[10:23:47] The bad devices are: 
[10:23:47] ConverterFilter14
[10:23:47] ConverterFilter16
[10:23:47] ConverterFilter2
[10:23:47] ConverterFilter12
[10:23:47] OpticalDriver5
[10:23:47] ConverterFilter10
[10:23:47] ConverterModule1
[10:23:47] ConverterModule5
[10:23:47] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[10:23:47] Waiting for  GUPPI to finish activating
[10:23:47] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[10:23:47]  Finalizing VEGAS config...
[10:23:47] Checking telescope
[10:23:47] Configuration Complete
[10:23:47] Balancing IF system.
[10:23:47] Balancing IFRack
[10:23:48]     Setting State: Ready
[10:23:49] the sampler values are:
[10:23:49] RF_power 1 : 0.9667969
[10:23:49] RF_power 2 : 0
[10:23:49] RF_power 3 : 1.118164
[10:23:49] RF_power 4 : 0.009765625
[10:23:49] RF_power 5 : 0.0390625
[10:23:49] RF_power 6 : 0.009765625
[10:23:49] RF_power 7 : 0.004882812
[10:23:49] RF_power 8 : 0.01953125
[10:23:50] source : J1705-1903
               alias : 1705.0
               jname : J1705-1903
               location : J2000 @ (17:05:43.85, -19:03:41.40)
[10:23:50] Track: Subscan 1 of 1
[10:23:50] In state Ready, waiting for state Running
[10:23:50]     Setting State: Activating
[10:23:51]     Setting State: Committed
[10:24:17]     Setting State: Running
[10:24:17] Detected state Running
[10:24:17] *** Notice: This subscan will be numbered as scan #13 in your data reduction package.
[10:24:17] In state Running, waiting for state Ready
[10:25:49]     Setting State: Stopping
[10:25:53]     Setting State: Ready
[10:25:53] Detected state Ready
[10:25:53] Ygor Telescope: WaitForStopping
[10:25:53] Configuring telescope.
[10:25:53]     Setting State: Activating
[10:26:30]     Setting State: Ready
[10:26:32]     Setting State: Activating
[10:26:33] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[10:26:33] Default values are
[10:26:33] nchan  =  512
[10:26:33] beam  =  B1
[10:26:33] dm  =  0
[10:26:33] if3freq  =  [0]
[10:26:33] subband  =  1
[10:26:33] polswitch  =  thru
[10:26:33] Configuring for backend VEGAS...
[10:26:33] The bad devices are: 
[10:26:33] ConverterFilter14
[10:26:33] ConverterFilter16
[10:26:33] ConverterFilter2
[10:26:33] ConverterFilter12
[10:26:33] OpticalDriver5
[10:26:33] ConverterFilter10
[10:26:33] The bad devices are: 
[10:26:33] ConverterFilter14
[10:26:33] ConverterFilter16
[10:26:33] ConverterFilter2
[10:26:33] ConverterFilter12
[10:26:33] OpticalDriver5
[10:26:33] ConverterFilter10
[10:26:33] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[10:26:33] BankH [400.0]
[10:26:33] BankC [400.0]
[10:26:33] BankB [400.0]
[10:26:33] BankA [400.0]
[10:26:33] BankG [400.0]
[10:26:33] BankF [400.0]
[10:26:33] BankE [400.0]
[10:26:33] BankD [400.0]
[10:26:33] Configuring for backend GUPPI...
[10:26:33] The bad devices are: 
[10:26:33] ConverterFilter14
[10:26:33] ConverterFilter16
[10:26:33] ConverterFilter2
[10:26:33] ConverterFilter12
[10:26:33] OpticalDriver5
[10:26:33] ConverterFilter10
[10:26:33] ConverterModule1
[10:26:33] ConverterModule5
[10:26:33] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[10:26:33] Waiting for  GUPPI to finish activating
[10:26:33] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[10:26:33]  Finalizing VEGAS config...
[10:26:33] Checking telescope
[10:26:33] Configuration Complete
[10:26:33] source : J1705-1903
               alias : 1705.0
               jname : J1705-1903
               location : J2000 @ (17:05:43.85, -19:03:41.40)
[10:26:33] Track: Subscan 1 of 1
[10:26:33] In state Activating, waiting for state Running
[10:26:34]     Setting State: Committed
[10:26:40]     Setting State: Running
[10:26:40] Detected state Running
[10:26:40] *** Notice: This subscan will be numbered as scan #14 in your data reduction package.
[10:26:40] In state Running, waiting for state Ready
[10:26:43]     Setting State: Aborting
[10:26:43] ygor.Telescope: RuntimeError msg: Abort detected!
[10:26:43] ygor.Telescope: WaitForRunning: Asking abort confirmation.
[10:26:43] 
[10:26:43] User queried: "Abort detected! Terminate block?" waiting for reply...
[10:31:43] User replied: "Yes".
[10:31:43] Exiting scheduling block.
[10:31:43]     Setting State: Ready
runSuccessful: False
[10:31:43] ******** End Scheduling Block
[10:31:43] ******** observer = Ingrid Stairs, SB name = nanograv_timing_vegas, project ID = AGBT18B_226

how much log? 47042 id: 241325self.history: <gbt.turtle.database.History.History instance at 0x4abd758>self.history.connection: <gbt.turtle.database.TurtleConnection.TurtleConnection instance at 0x4abd5f0>how much converted log? 47455 
#######################################################
 
 
#######################################################
 SCRIPT NUMBER 5, project:AGBT18B_226_208 
 241326 71 Ingrid Stairs 7 Donna Stricklin 2020-02-26 10:41:05 obs_aborted 
#######################################################
# NANOGrav timing astrid block, 2012/02 PBD
# Modified for GUPPI + VEGAS, 2018/03 KS

# IMPORTANT!  Edit this to pick which band you're observing#
#band = '820'
band = 'L'
#band = 'S'

# IMPORTANT!  Edit this to pick which session you're observing
# All sources in the catalog will be observed in order, with the 
# remaining session time divided evenly between them. To 
# restart a interrupted session, first edit the catalog and comment
# out sources that have already been observed today.
srcs = Catalog("/users/pdemores/sched/18B226_2018_session_A.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_B.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_C.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_D.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_E.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_F.cat")
#Use personal catalog file, rather than editing Paul's files:
#srcs = Catalog("/users/amcewen/18B226_2018_session_C.cat")

# IMPORTANT!  Edit here to set the session's start/stop times in UTC!
# NOTES:
#  - start time does not need to be edited if the script is stopped/restarted.
#    it will always use the current time when running 'for real'.
#  - don't use any leading 0's in the values here, (leading 0 is code for
#    octal).
from mx import DateTime
# Function args are year, month, day, hour (24 hr), min, sec (UTC)
sess_start_time = DateTime.DateTime(2020,2,26,7,30,0) # UTC
sess_stop_time = DateTime.DateTime(2020,2,26,13,0,0) # UTC

# Use fixed start time rather than current time.
fix = False

############## You should not need to edit below this line ###########

execfile("/users/pdemores/config/astrid_utils.py")
#execfile("/users/pdemores/config/astrid_cals.py")

if Now() != None and not fix:
    print "Using current time for session start"
    sess_start_time = Now()
sess_len = float(sess_stop_time - sess_start_time) / 3600.0
print "Session time remaining = %.1fh" % sess_len

nsrc = len(srcs.keys())
print "nsrc = %d" % (nsrc)
time_per_src = sess_len / float(nsrc) # hours
print "time_per_src = %.1f min" % (time_per_src * 60.0)
stop_time = {}
start_time = {}
i = 0
for s in srcs.keys():
    stop_time[s] = sess_start_time + float(i+1) * time_per_src / 24.0
    start_time[s] = sess_start_time + float(i) * time_per_src / 24.0
    i += 1
    print "  Src '%s' start:%s, stop:%s" % (s, start_time[s], stop_time[s])

# Config items common to all obs
config_common = """
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'

swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'
"""

# Config items common to L-band obs
config_Lband_common="""
receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config items common to 820 obs
config_820_common="""
receiver = 'Rcvr_800'
restfreq = 820.0
bandwidth = 200
vegas.numchan = 128
vegas.polnmode = 'full_stokes'
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config items common to S-band obs
config_Sband_common="""
receiver = 'Rcvr2_3'
restfreq = 2000.0
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config for cal mode
config_cal = """
vegas.obsmode = 'coherent_cal'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
swmode = 'tp'
noisecal = 'lo'
"""

# Config for psr fold mode.
# Note the '%s' for parfile that needs to be filled in when using this.
config_psr = """
vegas.obsmode = 'coherent_fold'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
vegas.fold_parfile = '%s'
swmode = 'tp_nocal'
noisecal = 'off'
"""

# Check observing band
if (band == '820'):
   #config_common = config_common.replace("VEGAS/GUPPI","GUPPI")
   #config_common = config_common.replace("vegas","guppi")
   #config_820_common = config_820_common.replace("vegas.scale = 1015","")
   #config_820_common = config_820_common.replace("vegas","guppi")
   config0 = config_common + config_820_common
   #config_cal = config_cal.replace("vegas","guppi")
   #config_psr = config_psr.replace("vegas","guppi")
elif (band== 'L'):
   config0 = config_common + config_Lband_common
elif (band=='S'):
   config0 = config_common + config_Sband_common
else:
    Break("Invalid band ('%s') selected!" % band)

# Figure out what source to start on
#if start_src == None:
start_src = None

if True:
    cur_time = Now()
    for s in srcs.keys():
        if (cur_time < stop_time[s]):
            start_src = s
            break

# Initial slew, config, balance
print config0
print "First source: %s" % start_src
Configure(config0 + config_cal)
SetValues("DCR",{"state":"prepare"})
Slew(start_src)
Balance()
Balance("VEGAS")
# Note: use these for 820 recvr 2013/05/19
#Balance("IFRack")
#Balance("GUPPI")
Break("Check GUPPI levels now.")

# 2013/06/06 - route to vegas bank A for Glenn's stuff
#SetValues("ConverterRack",{"CMInput,1":"A"})
#SetValues("ConverterRack",{"CMInput,5":"A"})
#if (band=='820'):
#    SetValues("ConverterRack",{"Gfrequency,1":11068})
#elif (band=='L'):
#    #SetValues("ConverterRack",{"Gfrequency,1":13088})
#    SetValues("ConverterRack",{"Gfrequency,1":13288})
#SetValues("ConverterRack",{"CMAttenuator1":22.0})
#SetValues("ConverterRack",{"CMAttenuator5":22.0})
#SetValues("ConverterRack",{"CMOutput,1":3})
#SetValues("ConverterRack",{"CMOutput,5":3})
#SetValues("ConverterRack",{"state":"prepare"})

# Main observing loop
first=1
for s in srcs.keys():
    if (first and s!=start_src):
        continue
    first=0;
    print "Starting '%s'" % s
    alias = "%4.4d" % srcs[s]["alias"]
    parfile = "/users/pdemores/tzpar/%s.par" % s
    print parfile
    Slew(s)
    print "############## HERE ##################"
    print config0+config_cal
    Configure(config0 + config_cal)
    SetValues("DCR",{"state":"prepare"})
    Balance("IFRack")
    # Regular PSR observing
    Track(s, None, 90.0) # Cal scan
    Configure(config0 + config_psr % parfile)
    Track(s, None, stopTime=stop_time[s])

#######################################################
 LOG SESSION NUMBER 5 
[10:41:05] ******** Begin Scheduling Block
[10:41:05] ******** observer = Ingrid Stairs, SB name = nanograv_timing_vegas, project ID = AGBT18B_226, date = 26 Feb 2020

[10:41:05] Using current time for session start
[10:41:05] Session time remaining = 2.3h
[10:41:05] nsrc = 5
[10:41:05] time_per_src = 27.8 min
[10:41:05]   Src 'J1705-1903' start:2020-02-26 10:41:05.64, stop:2020-02-26 11:08:52.51
[10:41:05]   Src 'J1719-1438' start:2020-02-26 11:08:52.51, stop:2020-02-26 11:36:39.39
[10:41:05]   Src 'J1730-2304' start:2020-02-26 11:36:39.39, stop:2020-02-26 12:04:26.26
[10:41:05]   Src 'J1744-1134' start:2020-02-26 12:04:26.26, stop:2020-02-26 12:32:13.13
[10:41:05]   Src 'J0740+6620' start:2020-02-26 12:32:13.13, stop:2020-02-26 13:00:00.00
[10:41:05] 
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'

swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'

receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125

[10:41:05] First source: J1705-1903
[10:41:05] Configuring telescope.
[10:41:06]     Setting State: Activating
[10:41:43]     Setting State: Ready
[10:41:45]     Setting State: Activating
[10:41:46] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[10:41:46] Default values are
[10:41:46] nchan  =  512
[10:41:46] beam  =  B1
[10:41:46] dm  =  0
[10:41:46] if3freq  =  [0]
[10:41:46] subband  =  1
[10:41:46] polswitch  =  thru
[10:41:46] Configuring for backend VEGAS...
[10:41:46] The bad devices are: 
[10:41:46] ConverterFilter14
[10:41:46] ConverterFilter16
[10:41:46] ConverterFilter2
[10:41:46] ConverterFilter12
[10:41:46] OpticalDriver5
[10:41:46] ConverterFilter10
[10:41:46] The bad devices are: 
[10:41:46] ConverterFilter14
[10:41:46] ConverterFilter16
[10:41:46] ConverterFilter2
[10:41:46] ConverterFilter12
[10:41:46] OpticalDriver5
[10:41:46] ConverterFilter10
[10:41:46] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[10:41:46] BankH [400.0]
[10:41:46] BankC [400.0]
[10:41:46] BankB [400.0]
[10:41:46] BankA [400.0]
[10:41:46] BankG [400.0]
[10:41:46] BankF [400.0]
[10:41:46] BankE [400.0]
[10:41:46] BankD [400.0]
[10:41:46] Configuring for backend GUPPI...
[10:41:46] The bad devices are: 
[10:41:46] ConverterFilter14
[10:41:46] ConverterFilter16
[10:41:46] ConverterFilter2
[10:41:46] ConverterFilter12
[10:41:46] OpticalDriver5
[10:41:46] ConverterFilter10
[10:41:46] ConverterModule1
[10:41:46] ConverterModule5
[10:41:46] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[10:41:46] Waiting for  GUPPI to finish activating
[10:41:46] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[10:41:46]  Finalizing VEGAS config...
[10:41:46] Checking telescope
[10:41:46] Configuration Complete
[10:41:46] source : J1705-1903
               alias : 1705.0
               jname : J1705-1903
               location : J2000 @ (17:05:43.85, -19:03:41.40)
[10:41:46] Slewing to source.
[10:41:46] In state Activating, waiting for state Activating
[10:41:46] Detected state Activating
[10:41:46] In state Activating, waiting for state Ready
[10:42:08]     Setting State: Ready
[10:42:08] Detected state Ready
[10:42:08] Balancing IF system.
[10:42:08] Balancing IFRack
[10:42:08]     Setting State: Activating
[10:42:08]     Setting State: Ready
[10:42:10] the sampler values are:
[10:42:10] RF_power 1 : 0.9765625
[10:42:10] RF_power 2 : 0
[10:42:10] RF_power 3 : 0.9570312
[10:42:10] RF_power 4 : 0.009765625
[10:42:10] RF_power 5 : 0.0390625
[10:42:10] RF_power 6 : 0.01464844
[10:42:10] RF_power 7 : 0.004882812
[10:42:10] RF_power 8 : 0.01953125
[10:42:10] Balancing Guppi
[10:42:10]     Setting State: Activating
[10:42:10]     Setting State: Ready
[10:42:11] Filter 8 RF power =
[10:42:11] 2.48046875
[10:42:11] Filter 4 RF power =
[10:42:11] 1.7333984375
[10:42:11]     Setting State: Activating
[10:42:11]     Setting State: Ready
[10:42:11]     Setting State: Activating
[10:42:11]     Setting State: Ready
[10:42:12] Balancing IF system.
[10:42:12] Balancing VEGAS
[10:42:12]     Setting State: Activating
[10:42:12]     Setting State: Ready
[10:42:13]     Setting State: Activating
[10:42:13]     Setting State: Ready
[10:42:13]     Setting State: Activating
[10:42:13]     Setting State: Ready
[10:42:14] 
[10:42:14] User queried: "Check GUPPI levels now. - Continue scheduling block?" waiting for reply...
[10:43:40] User replied: "Yes".
[10:43:40] Starting 'J1705-1903'
[10:43:40] /users/pdemores/tzpar/J1705-1903.par
[10:43:40] source : J1705-1903
               alias : 1705.0
               jname : J1705-1903
               location : J2000 @ (17:05:43.85, -19:03:41.40)
[10:43:40] Slewing to source.
[10:43:40] In state Ready, waiting for state Activating
[10:43:40]     Setting State: Activating
[10:43:40] Detected state Activating
[10:43:40] In state Activating, waiting for state Ready
[10:43:42]     Setting State: Ready
[10:43:42] Detected state Ready
[10:43:42] ############## HERE ##################
[10:43:42] 
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'

swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'

receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125

vegas.obsmode = 'coherent_cal'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
swmode = 'tp'
noisecal = 'lo'

[10:43:42] Configuring telescope.
[10:43:43]     Setting State: Activating
[10:44:19]     Setting State: Ready
[10:44:21]     Setting State: Activating
[10:44:22] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[10:44:22] Default values are
[10:44:22] nchan  =  512
[10:44:22] beam  =  B1
[10:44:22] dm  =  0
[10:44:22] if3freq  =  [0]
[10:44:22] subband  =  1
[10:44:22] polswitch  =  thru
[10:44:22] Configuring for backend VEGAS...
[10:44:22] The bad devices are: 
[10:44:22] ConverterFilter14
[10:44:22] ConverterFilter16
[10:44:22] ConverterFilter2
[10:44:22] ConverterFilter12
[10:44:22] OpticalDriver5
[10:44:22] ConverterFilter10
[10:44:22] The bad devices are: 
[10:44:22] ConverterFilter14
[10:44:22] ConverterFilter16
[10:44:22] ConverterFilter2
[10:44:22] ConverterFilter12
[10:44:22] OpticalDriver5
[10:44:22] ConverterFilter10
[10:44:22] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[10:44:22] BankH [400.0]
[10:44:22] BankC [400.0]
[10:44:22] BankB [400.0]
[10:44:22] BankA [400.0]
[10:44:22] BankG [400.0]
[10:44:22] BankF [400.0]
[10:44:22] BankE [400.0]
[10:44:22] BankD [400.0]
[10:44:22] Configuring for backend GUPPI...
[10:44:22] The bad devices are: 
[10:44:22] ConverterFilter14
[10:44:22] ConverterFilter16
[10:44:22] ConverterFilter2
[10:44:22] ConverterFilter12
[10:44:22] OpticalDriver5
[10:44:22] ConverterFilter10
[10:44:22] ConverterModule1
[10:44:22] ConverterModule5
[10:44:22] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[10:44:22] Waiting for  GUPPI to finish activating
[10:44:22] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[10:44:22]  Finalizing VEGAS config...
[10:44:22] Checking telescope
[10:44:22] Configuration Complete
[10:44:22] Balancing IF system.
[10:44:22] Balancing IFRack
[10:44:24]     Setting State: Ready
[10:44:24] the sampler values are:
[10:44:24] RF_power 1 : 1.025391
[10:44:24] RF_power 2 : 0
[10:44:24] RF_power 3 : 1.049805
[10:44:24] RF_power 4 : 0.004882812
[10:44:24] RF_power 5 : 0.0390625
[10:44:24] RF_power 6 : 0.01464844
[10:44:24] RF_power 7 : 0.004882812
[10:44:24] RF_power 8 : 0.01953125
[10:44:25] source : J1705-1903
               alias : 1705.0
               jname : J1705-1903
               location : J2000 @ (17:05:43.85, -19:03:41.40)
[10:44:25] Track: Subscan 1 of 1
[10:44:25] In state Ready, waiting for state Running
[10:44:25]     Setting State: Activating
[10:44:26]     Setting State: Committed
[10:44:53]     Setting State: Running
[10:44:53] Detected state Running
[10:44:53] *** Notice: This subscan will be numbered as scan #15 in your data reduction package.
[10:44:53] In state Running, waiting for state Ready
[10:46:25]     Setting State: Stopping
[10:46:28]     Setting State: Ready
[10:46:28] Detected state Ready
[10:46:28] Ygor Telescope: WaitForStopping
[10:46:28] Configuring telescope.
[10:46:28]     Setting State: Activating
[10:47:05]     Setting State: Ready
[10:47:07]     Setting State: Activating
[10:47:08] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[10:47:08] Default values are
[10:47:08] nchan  =  512
[10:47:08] beam  =  B1
[10:47:08] dm  =  0
[10:47:08] if3freq  =  [0]
[10:47:08] subband  =  1
[10:47:08] polswitch  =  thru
[10:47:08] Configuring for backend VEGAS...
[10:47:08] The bad devices are: 
[10:47:08] ConverterFilter14
[10:47:08] ConverterFilter16
[10:47:08] ConverterFilter2
[10:47:08] ConverterFilter12
[10:47:08] OpticalDriver5
[10:47:08] ConverterFilter10
[10:47:08] The bad devices are: 
[10:47:08] ConverterFilter14
[10:47:08] ConverterFilter16
[10:47:08] ConverterFilter2
[10:47:08] ConverterFilter12
[10:47:08] OpticalDriver5
[10:47:08] ConverterFilter10
[10:47:08] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[10:47:08] BankH [400.0]
[10:47:08] BankC [400.0]
[10:47:08] BankB [400.0]
[10:47:08] BankA [400.0]
[10:47:08] BankG [400.0]
[10:47:08] BankF [400.0]
[10:47:08] BankE [400.0]
[10:47:08] BankD [400.0]
[10:47:08] Configuring for backend GUPPI...
[10:47:08] The bad devices are: 
[10:47:08] ConverterFilter14
[10:47:08] ConverterFilter16
[10:47:08] ConverterFilter2
[10:47:08] ConverterFilter12
[10:47:08] OpticalDriver5
[10:47:08] ConverterFilter10
[10:47:08] ConverterModule1
[10:47:08] ConverterModule5
[10:47:08] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[10:47:08] Waiting for  GUPPI to finish activating
[10:47:08] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[10:47:08]  Finalizing VEGAS config...
[10:47:08] Checking telescope
[10:47:08] Configuration Complete
[10:47:08] source : J1705-1903
               alias : 1705.0
               jname : J1705-1903
               location : J2000 @ (17:05:43.85, -19:03:41.40)
[10:47:08] Track: Subscan 1 of 1
[10:47:08] In state Activating, waiting for state Running
[10:47:09]     Setting State: Committed
[10:47:15]     Setting State: Running
[10:47:15] Detected state Running
[10:47:15] *** Notice: This subscan will be numbered as scan #16 in your data reduction package.
[10:47:15] In state Running, waiting for state Ready
[10:47:18]     Setting State: Aborting
[10:47:18] ygor.Telescope: RuntimeError msg: Abort detected!
[10:47:18] ygor.Telescope: WaitForRunning: Asking abort confirmation.
[10:47:18] 
[10:47:18] User queried: "Abort detected! Terminate block?" waiting for reply...
[10:47:23] User replied: "Yes".
[10:47:23] Exiting scheduling block.
[10:47:23]     Setting State: Ready
runSuccessful: False
[10:47:23] ******** End Scheduling Block
[10:47:23] ******** observer = Ingrid Stairs, SB name = nanograv_timing_vegas, project ID = AGBT18B_226

how much log? 12124 id: 241326self.history: <gbt.turtle.database.History.History instance at 0x4abd758>self.history.connection: <gbt.turtle.database.TurtleConnection.TurtleConnection instance at 0x4abd5f0>how much converted log? 12387 
#######################################################
 
 
#######################################################
 SCRIPT NUMBER 6, project:AGBT18B_226_208 
 241327 71 Ingrid Stairs 7 Donna Stricklin 2020-02-26 10:53:20 obs_aborted 
#######################################################
# NANOGrav timing astrid block, 2012/02 PBD
# Modified for GUPPI + VEGAS, 2018/03 KS

# IMPORTANT!  Edit this to pick which band you're observing#
#band = '820'
band = 'L'
#band = 'S'

# IMPORTANT!  Edit this to pick which session you're observing
# All sources in the catalog will be observed in order, with the 
# remaining session time divided evenly between them. To 
# restart a interrupted session, first edit the catalog and comment
# out sources that have already been observed today.
srcs = Catalog("/users/pdemores/sched/18B226_2018_session_A.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_B.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_C.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_D.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_E.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_F.cat")
#Use personal catalog file, rather than editing Paul's files:
#srcs = Catalog("/users/amcewen/18B226_2018_session_C.cat")

# IMPORTANT!  Edit here to set the session's start/stop times in UTC!
# NOTES:
#  - start time does not need to be edited if the script is stopped/restarted.
#    it will always use the current time when running 'for real'.
#  - don't use any leading 0's in the values here, (leading 0 is code for
#    octal).
from mx import DateTime
# Function args are year, month, day, hour (24 hr), min, sec (UTC)
sess_start_time = DateTime.DateTime(2020,2,26,7,30,0) # UTC
sess_stop_time = DateTime.DateTime(2020,2,26,13,0,0) # UTC

# Use fixed start time rather than current time.
fix = False

############## You should not need to edit below this line ###########

execfile("/users/pdemores/config/astrid_utils.py")
#execfile("/users/pdemores/config/astrid_cals.py")

if Now() != None and not fix:
    print "Using current time for session start"
    sess_start_time = Now()
sess_len = float(sess_stop_time - sess_start_time) / 3600.0
print "Session time remaining = %.1fh" % sess_len

nsrc = len(srcs.keys())
print "nsrc = %d" % (nsrc)
time_per_src = sess_len / float(nsrc) # hours
print "time_per_src = %.1f min" % (time_per_src * 60.0)
stop_time = {}
start_time = {}
i = 0
for s in srcs.keys():
    stop_time[s] = sess_start_time + float(i+1) * time_per_src / 24.0
    start_time[s] = sess_start_time + float(i) * time_per_src / 24.0
    i += 1
    print "  Src '%s' start:%s, stop:%s" % (s, start_time[s], stop_time[s])

# Config items common to all obs
config_common = """
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'

swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'
"""

# Config items common to L-band obs
config_Lband_common="""
receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config items common to 820 obs
config_820_common="""
receiver = 'Rcvr_800'
restfreq = 820.0
bandwidth = 200
vegas.numchan = 128
vegas.polnmode = 'full_stokes'
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config items common to S-band obs
config_Sband_common="""
receiver = 'Rcvr2_3'
restfreq = 2000.0
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config for cal mode
config_cal = """
vegas.obsmode = 'coherent_cal'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
swmode = 'tp'
noisecal = 'lo'
"""

# Config for psr fold mode.
# Note the '%s' for parfile that needs to be filled in when using this.
config_psr = """
vegas.obsmode = 'coherent_fold'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
vegas.fold_parfile = '%s'
swmode = 'tp_nocal'
noisecal = 'off'
"""

# Check observing band
if (band == '820'):
   #config_common = config_common.replace("VEGAS/GUPPI","GUPPI")
   #config_common = config_common.replace("vegas","guppi")
   #config_820_common = config_820_common.replace("vegas.scale = 1015","")
   #config_820_common = config_820_common.replace("vegas","guppi")
   config0 = config_common + config_820_common
   #config_cal = config_cal.replace("vegas","guppi")
   #config_psr = config_psr.replace("vegas","guppi")
elif (band== 'L'):
   config0 = config_common + config_Lband_common
elif (band=='S'):
   config0 = config_common + config_Sband_common
else:
    Break("Invalid band ('%s') selected!" % band)

# Figure out what source to start on
#if start_src == None:
start_src = None

if True:
    cur_time = Now()
    for s in srcs.keys():
        if (cur_time < stop_time[s]):
            start_src = s
            break

# Initial slew, config, balance
print config0
print "First source: %s" % start_src
Configure(config0 + config_cal)
SetValues("DCR",{"state":"prepare"})
Slew(start_src)
Balance()
Balance("VEGAS")
# Note: use these for 820 recvr 2013/05/19
#Balance("IFRack")
#Balance("GUPPI")
Break("Check GUPPI levels now.")

# 2013/06/06 - route to vegas bank A for Glenn's stuff
#SetValues("ConverterRack",{"CMInput,1":"A"})
#SetValues("ConverterRack",{"CMInput,5":"A"})
#if (band=='820'):
#    SetValues("ConverterRack",{"Gfrequency,1":11068})
#elif (band=='L'):
#    #SetValues("ConverterRack",{"Gfrequency,1":13088})
#    SetValues("ConverterRack",{"Gfrequency,1":13288})
#SetValues("ConverterRack",{"CMAttenuator1":22.0})
#SetValues("ConverterRack",{"CMAttenuator5":22.0})
#SetValues("ConverterRack",{"CMOutput,1":3})
#SetValues("ConverterRack",{"CMOutput,5":3})
#SetValues("ConverterRack",{"state":"prepare"})

# Main observing loop
first=1
for s in srcs.keys():
    if (first and s!=start_src):
        continue
    first=0;
    print "Starting '%s'" % s
    alias = "%4.4d" % srcs[s]["alias"]
    parfile = "/users/pdemores/tzpar/%s.par" % s
    print parfile
    Slew(s)
    print "############## HERE ##################"
    print config0+config_cal
    Configure(config0 + config_cal)
    SetValues("DCR",{"state":"prepare"})
    Balance("IFRack")
    # Regular PSR observing
    Track(s, None, 90.0) # Cal scan
    Configure(config0 + config_psr % parfile)
    Track(s, None, stopTime=stop_time[s])

#######################################################
 LOG SESSION NUMBER 6 
[10:53:20] ******** Begin Scheduling Block
[10:53:20] ******** observer = Ingrid Stairs, SB name = nanograv_timing_vegas, project ID = AGBT18B_226, date = 26 Feb 2020

[10:53:20] Using current time for session start
[10:53:20] Session time remaining = 2.1h
[10:53:20] nsrc = 5
[10:53:20] time_per_src = 25.3 min
[10:53:20]   Src 'J1705-1903' start:2020-02-26 10:53:20.46, stop:2020-02-26 11:18:40.37
[10:53:20]   Src 'J1719-1438' start:2020-02-26 11:18:40.37, stop:2020-02-26 11:44:00.28
[10:53:20]   Src 'J1730-2304' start:2020-02-26 11:44:00.28, stop:2020-02-26 12:09:20.18
[10:53:20]   Src 'J1744-1134' start:2020-02-26 12:09:20.18, stop:2020-02-26 12:34:40.09
[10:53:20]   Src 'J0740+6620' start:2020-02-26 12:34:40.09, stop:2020-02-26 13:00:00.00
[10:53:20] 
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'

swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'

receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125

[10:53:20] First source: J1705-1903
[10:53:20] Configuring telescope.
[10:53:20]     Setting State: Activating
[10:53:57]     Setting State: Ready
[10:53:59]     Setting State: Activating
[10:54:00] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[10:54:00] Default values are
[10:54:00] nchan  =  512
[10:54:00] beam  =  B1
[10:54:00] dm  =  0
[10:54:00] if3freq  =  [0]
[10:54:00] subband  =  1
[10:54:00] polswitch  =  thru
[10:54:00] Configuring for backend VEGAS...
[10:54:00] The bad devices are: 
[10:54:00] ConverterFilter14
[10:54:00] ConverterFilter16
[10:54:00] ConverterFilter2
[10:54:00] ConverterFilter12
[10:54:00] OpticalDriver5
[10:54:00] ConverterFilter10
[10:54:00] The bad devices are: 
[10:54:00] ConverterFilter14
[10:54:00] ConverterFilter16
[10:54:00] ConverterFilter2
[10:54:00] ConverterFilter12
[10:54:00] OpticalDriver5
[10:54:00] ConverterFilter10
[10:54:00] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[10:54:00] BankH [400.0]
[10:54:00] BankC [400.0]
[10:54:00] BankB [400.0]
[10:54:00] BankA [400.0]
[10:54:00] BankG [400.0]
[10:54:00] BankF [400.0]
[10:54:00] BankE [400.0]
[10:54:00] BankD [400.0]
[10:54:00] Configuring for backend GUPPI...
[10:54:00] The bad devices are: 
[10:54:00] ConverterFilter14
[10:54:00] ConverterFilter16
[10:54:00] ConverterFilter2
[10:54:00] ConverterFilter12
[10:54:00] OpticalDriver5
[10:54:00] ConverterFilter10
[10:54:00] ConverterModule1
[10:54:00] ConverterModule5
[10:54:00] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[10:54:00] Waiting for  GUPPI to finish activating
[10:54:00] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[10:54:00]  Finalizing VEGAS config...
[10:54:00] Checking telescope
[10:54:00] Configuration Complete
[10:54:01] source : J1705-1903
               alias : 1705.0
               jname : J1705-1903
               location : J2000 @ (17:05:43.85, -19:03:41.40)
[10:54:01] Slewing to source.
[10:54:01] In state Activating, waiting for state Activating
[10:54:01] Detected state Activating
[10:54:01] In state Activating, waiting for state Ready
[10:54:19]     Setting State: Ready
[10:54:19] Detected state Ready
[10:54:19] Balancing IF system.
[10:54:19] Balancing IFRack
[10:54:19]     Setting State: Activating
[10:54:19]     Setting State: Ready
[10:54:21] the sampler values are:
[10:54:21] RF_power 1 : 0.8935547
[10:54:21] RF_power 2 : 0
[10:54:21] RF_power 3 : 1.069336
[10:54:21] RF_power 4 : 0.009765625
[10:54:21] RF_power 5 : 0.0390625
[10:54:21] RF_power 6 : 0.01464844
[10:54:21] RF_power 7 : 0
[10:54:21] RF_power 8 : 0.01953125
[10:54:21] Balancing Guppi
[10:54:21]     Setting State: Activating
[10:54:21]     Setting State: Ready
[10:54:22] Filter 8 RF power =
[10:54:22] 2.451171875
[10:54:22] Filter 4 RF power =
[10:54:22] 1.5625
[10:54:22]     Setting State: Activating
[10:54:22]     Setting State: Ready
[10:54:22]     Setting State: Activating
[10:54:22]     Setting State: Ready
[10:54:23] Balancing IF system.
[10:54:23] Balancing VEGAS
[10:54:23]     Setting State: Activating
[10:54:23]     Setting State: Ready
[10:54:24]     Setting State: Activating
[10:54:24]     Setting State: Ready
[10:54:24]     Setting State: Activating
[10:54:24]     Setting State: Ready
[10:54:25] 
[10:54:25] User queried: "Check GUPPI levels now. - Continue scheduling block?" waiting for reply...
[10:59:25] User replied: "Yes".
[10:59:25] Starting 'J1705-1903'
[10:59:25] /users/pdemores/tzpar/J1705-1903.par
[10:59:25] source : J1705-1903
               alias : 1705.0
               jname : J1705-1903
               location : J2000 @ (17:05:43.85, -19:03:41.40)
[10:59:25] Slewing to source.
[10:59:25] In state Ready, waiting for state Activating
[10:59:25]     Setting State: Activating
[10:59:25] Detected state Activating
[10:59:25] In state Activating, waiting for state Ready
[10:59:27]     Setting State: Ready
[10:59:27] Detected state Ready
[10:59:27] ############## HERE ##################
[10:59:27] 
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'

swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'

receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125

vegas.obsmode = 'coherent_cal'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
swmode = 'tp'
noisecal = 'lo'

[10:59:27] Configuring telescope.
[10:59:27]     Setting State: Activating
[11:00:05]     Setting State: Ready
[11:00:07]     Setting State: Activating
[11:00:08] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[11:00:08] Default values are
[11:00:08] nchan  =  512
[11:00:08] beam  =  B1
[11:00:08] dm  =  0
[11:00:08] if3freq  =  [0]
[11:00:08] subband  =  1
[11:00:08] polswitch  =  thru
[11:00:08] Configuring for backend VEGAS...
[11:00:08] The bad devices are: 
[11:00:08] ConverterFilter14
[11:00:08] ConverterFilter16
[11:00:08] ConverterFilter2
[11:00:08] ConverterFilter12
[11:00:08] OpticalDriver5
[11:00:08] ConverterFilter10
[11:00:08] The bad devices are: 
[11:00:08] ConverterFilter14
[11:00:08] ConverterFilter16
[11:00:08] ConverterFilter2
[11:00:08] ConverterFilter12
[11:00:08] OpticalDriver5
[11:00:08] ConverterFilter10
[11:00:08] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[11:00:08] BankH [400.0]
[11:00:08] BankC [400.0]
[11:00:08] BankB [400.0]
[11:00:08] BankA [400.0]
[11:00:08] BankG [400.0]
[11:00:08] BankF [400.0]
[11:00:08] BankE [400.0]
[11:00:08] BankD [400.0]
[11:00:08] Configuring for backend GUPPI...
[11:00:08] The bad devices are: 
[11:00:08] ConverterFilter14
[11:00:08] ConverterFilter16
[11:00:08] ConverterFilter2
[11:00:08] ConverterFilter12
[11:00:08] OpticalDriver5
[11:00:08] ConverterFilter10
[11:00:08] ConverterModule1
[11:00:08] ConverterModule5
[11:00:08] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[11:00:08] Waiting for  GUPPI to finish activating
[11:00:08] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[11:00:08]  Finalizing VEGAS config...
[11:00:08] Checking telescope
[11:00:08] Configuration Complete
[11:00:08] Balancing IF system.
[11:00:08] Balancing IFRack
[11:00:09]     Setting State: Ready
[11:00:10] the sampler values are:
[11:00:10] RF_power 1 : 0.9619141
[11:00:10] RF_power 2 : 0
[11:00:10] RF_power 3 : 1.064453
[11:00:10] RF_power 4 : 0.009765625
[11:00:10] RF_power 5 : 0.03417969
[11:00:10] RF_power 6 : 0.009765625
[11:00:10] RF_power 7 : 0.004882812
[11:00:10] RF_power 8 : 0.02441406
[11:00:11] source : J1705-1903
               alias : 1705.0
               jname : J1705-1903
               location : J2000 @ (17:05:43.85, -19:03:41.40)
[11:00:11] Track: Subscan 1 of 1
[11:00:11] In state Ready, waiting for state Running
[11:00:11]     Setting State: Activating
[11:00:11]     Setting State: Committed
[11:00:37]     Setting State: Running
[11:00:37] Detected state Running
[11:00:37] *** Notice: This subscan will be numbered as scan #17 in your data reduction package.
[11:00:37] In state Running, waiting for state Ready
[11:02:09]     Setting State: Stopping
[11:02:13]     Setting State: Ready
[11:02:13] Detected state Ready
[11:02:13] Ygor Telescope: WaitForStopping
[11:02:13] Configuring telescope.
[11:02:13]     Setting State: Activating
[11:02:50]     Setting State: Ready
[11:02:52]     Setting State: Activating
[11:02:53] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[11:02:53] Default values are
[11:02:53] nchan  =  512
[11:02:53] beam  =  B1
[11:02:53] dm  =  0
[11:02:53] if3freq  =  [0]
[11:02:53] subband  =  1
[11:02:53] polswitch  =  thru
[11:02:53] Configuring for backend VEGAS...
[11:02:53] The bad devices are: 
[11:02:53] ConverterFilter14
[11:02:53] ConverterFilter16
[11:02:53] ConverterFilter2
[11:02:53] ConverterFilter12
[11:02:53] OpticalDriver5
[11:02:53] ConverterFilter10
[11:02:53] The bad devices are: 
[11:02:53] ConverterFilter14
[11:02:53] ConverterFilter16
[11:02:53] ConverterFilter2
[11:02:53] ConverterFilter12
[11:02:53] OpticalDriver5
[11:02:53] ConverterFilter10
[11:02:53] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[11:02:53] BankH [400.0]
[11:02:53] BankC [400.0]
[11:02:53] BankB [400.0]
[11:02:53] BankA [400.0]
[11:02:53] BankG [400.0]
[11:02:53] BankF [400.0]
[11:02:53] BankE [400.0]
[11:02:53] BankD [400.0]
[11:02:53] Configuring for backend GUPPI...
[11:02:53] The bad devices are: 
[11:02:53] ConverterFilter14
[11:02:53] ConverterFilter16
[11:02:53] ConverterFilter2
[11:02:53] ConverterFilter12
[11:02:53] OpticalDriver5
[11:02:53] ConverterFilter10
[11:02:53] ConverterModule1
[11:02:53] ConverterModule5
[11:02:53] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[11:02:53] Waiting for  GUPPI to finish activating
[11:02:53] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[11:02:53]  Finalizing VEGAS config...
[11:02:53] Checking telescope
[11:02:53] Configuration Complete
[11:02:53] source : J1705-1903
               alias : 1705.0
               jname : J1705-1903
               location : J2000 @ (17:05:43.85, -19:03:41.40)
[11:02:54] Track: Subscan 1 of 1
[11:02:54] In state Activating, waiting for state Running
[11:02:55]     Setting State: Committed
[11:03:00]     Setting State: Running
[11:03:00] Detected state Running
[11:03:00] *** Notice: This subscan will be numbered as scan #18 in your data reduction package.
[11:03:00] In state Running, waiting for state Ready
[11:03:03]     Setting State: Aborting
[11:03:03] ygor.Telescope: RuntimeError msg: Abort detected!
[11:03:03] ygor.Telescope: WaitForRunning: Asking abort confirmation.
[11:03:03] 
[11:03:03] User queried: "Abort detected! Terminate block?" waiting for reply...
[11:08:03] User replied: "Yes".
[11:08:03] Exiting scheduling block.
[11:08:03]     Setting State: Ready
runSuccessful: False
[11:08:03] ******** End Scheduling Block
[11:08:03] ******** observer = Ingrid Stairs, SB name = nanograv_timing_vegas, project ID = AGBT18B_226

how much log? 12113 id: 241327self.history: <gbt.turtle.database.History.History instance at 0x4abd758>self.history.connection: <gbt.turtle.database.TurtleConnection.TurtleConnection instance at 0x4abd5f0>how much converted log? 12376 
#######################################################
 
 
#######################################################
 SCRIPT NUMBER 7, project:AGBT18B_226_208 
 241328 231 Ryan Lynch 7 Donna Stricklin 2020-02-26 11:21:27 obs_aborted 
#######################################################
# NANOGrav timing astrid block, 2012/02 PBD
# Modified for GUPPI + VEGAS, 2018/03 KS

# IMPORTANT!  Edit this to pick which band you're observing#
#band = '820'
band = 'L'
#band = 'S'

# IMPORTANT!  Edit this to pick which session you're observing
# All sources in the catalog will be observed in order, with the 
# remaining session time divided evenly between them. To 
# restart a interrupted session, first edit the catalog and comment
# out sources that have already been observed today.
srcs = Catalog("/users/pdemores/sched/18B226_2018_session_A.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_B.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_C.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_D.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_E.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_F.cat")
#Use personal catalog file, rather than editing Paul's files:
#srcs = Catalog("/users/amcewen/18B226_2018_session_C.cat")

# IMPORTANT!  Edit here to set the session's start/stop times in UTC!
# NOTES:
#  - start time does not need to be edited if the script is stopped/restarted.
#    it will always use the current time when running 'for real'.
#  - don't use any leading 0's in the values here, (leading 0 is code for
#    octal).
from mx import DateTime
# Function args are year, month, day, hour (24 hr), min, sec (UTC)
sess_start_time = DateTime.DateTime(2020,2,26,7,30,0) # UTC
sess_stop_time = DateTime.DateTime(2020,2,26,13,0,0) # UTC

# Use fixed start time rather than current time.
fix = False

############## You should not need to edit below this line ###########

execfile("/users/pdemores/config/astrid_utils.py")
#execfile("/users/pdemores/config/astrid_cals.py")

if Now() != None and not fix:
    print "Using current time for session start"
    sess_start_time = Now()
sess_len = float(sess_stop_time - sess_start_time) / 3600.0
print "Session time remaining = %.1fh" % sess_len

nsrc = len(srcs.keys())
print "nsrc = %d" % (nsrc)
time_per_src = sess_len / float(nsrc) # hours
print "time_per_src = %.1f min" % (time_per_src * 60.0)
stop_time = {}
start_time = {}
i = 0
for s in srcs.keys():
    stop_time[s] = sess_start_time + float(i+1) * time_per_src / 24.0
    start_time[s] = sess_start_time + float(i) * time_per_src / 24.0
    i += 1
    print "  Src '%s' start:%s, stop:%s" % (s, start_time[s], stop_time[s])

# Config items common to all obs
config_common = """
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'

swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'
"""

# Config items common to L-band obs
config_Lband_common="""
receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config items common to 820 obs
config_820_common="""
receiver = 'Rcvr_800'
restfreq = 820.0
bandwidth = 200
vegas.numchan = 128
vegas.polnmode = 'full_stokes'
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config items common to S-band obs
config_Sband_common="""
receiver = 'Rcvr2_3'
restfreq = 2000.0
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config for cal mode
config_cal = """
vegas.obsmode = 'coherent_cal'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
swmode = 'tp'
noisecal = 'lo'
"""

# Config for psr fold mode.
# Note the '%s' for parfile that needs to be filled in when using this.
config_psr = """
vegas.obsmode = 'coherent_fold'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
vegas.fold_parfile = '%s'
swmode = 'tp_nocal'
noisecal = 'off'
"""

# Check observing band
if (band == '820'):
   #config_common = config_common.replace("VEGAS/GUPPI","GUPPI")
   #config_common = config_common.replace("vegas","guppi")
   #config_820_common = config_820_common.replace("vegas.scale = 1015","")
   #config_820_common = config_820_common.replace("vegas","guppi")
   config0 = config_common + config_820_common
   #config_cal = config_cal.replace("vegas","guppi")
   #config_psr = config_psr.replace("vegas","guppi")
elif (band== 'L'):
   config0 = config_common + config_Lband_common
elif (band=='S'):
   config0 = config_common + config_Sband_common
else:
    Break("Invalid band ('%s') selected!" % band)

# Figure out what source to start on
#if start_src == None:
start_src = None

if True:
    cur_time = Now()
    for s in srcs.keys():
        if (cur_time < stop_time[s]):
            start_src = s
            break

# Initial slew, config, balance
print config0
print "First source: %s" % start_src
Configure(config0 + config_cal)
SetValues("DCR",{"state":"prepare"})
Slew(start_src)
Balance()
Balance("VEGAS")
# Note: use these for 820 recvr 2013/05/19
#Balance("IFRack")
#Balance("GUPPI")
Break("Check GUPPI levels now.")

# 2013/06/06 - route to vegas bank A for Glenn's stuff
#SetValues("ConverterRack",{"CMInput,1":"A"})
#SetValues("ConverterRack",{"CMInput,5":"A"})
#if (band=='820'):
#    SetValues("ConverterRack",{"Gfrequency,1":11068})
#elif (band=='L'):
#    #SetValues("ConverterRack",{"Gfrequency,1":13088})
#    SetValues("ConverterRack",{"Gfrequency,1":13288})
#SetValues("ConverterRack",{"CMAttenuator1":22.0})
#SetValues("ConverterRack",{"CMAttenuator5":22.0})
#SetValues("ConverterRack",{"CMOutput,1":3})
#SetValues("ConverterRack",{"CMOutput,5":3})
#SetValues("ConverterRack",{"state":"prepare"})

# Main observing loop
first=1
for s in srcs.keys():
    if (first and s!=start_src):
        continue
    first=0;
    print "Starting '%s'" % s
    alias = "%4.4d" % srcs[s]["alias"]
    parfile = "/users/pdemores/tzpar/%s.par" % s
    print parfile
    Slew(s)
    print "############## HERE ##################"
    print config0+config_cal
    Configure(config0 + config_cal)
    SetValues("DCR",{"state":"prepare"})
    Balance("IFRack")
    # Regular PSR observing
    Track(s, None, 90.0) # Cal scan
    Configure(config0 + config_psr % parfile)
    Track(s, None, stopTime=stop_time[s])

#######################################################
 LOG SESSION NUMBER 7 
[11:21:27] ******** Begin Scheduling Block
[11:21:27] ******** observer = Ryan Lynch, SB name = nanograv_timing_vegas, project ID = AGBT18B_226, date = 26 Feb 2020

[11:21:27] Using current time for session start
[11:21:27] Session time remaining = 1.6h
[11:21:27] nsrc = 5
[11:21:27] time_per_src = 19.7 min
[11:21:27]   Src 'J1705-1903' start:2020-02-26 11:21:27.50, stop:2020-02-26 11:41:10.00
[11:21:27]   Src 'J1719-1438' start:2020-02-26 11:41:10.00, stop:2020-02-26 12:00:52.50
[11:21:27]   Src 'J1730-2304' start:2020-02-26 12:00:52.50, stop:2020-02-26 12:20:35.00
[11:21:27]   Src 'J1744-1134' start:2020-02-26 12:20:35.00, stop:2020-02-26 12:40:17.50
[11:21:27]   Src 'J0740+6620' start:2020-02-26 12:40:17.50, stop:2020-02-26 13:00:00.00
[11:21:27] 
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'

swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'

receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125

[11:21:27] First source: J1705-1903
[11:21:27] Configuring telescope.
[11:21:27]     Setting State: Activating
[11:22:05]     Setting State: Ready
[11:22:07]     Setting State: Activating
[11:22:08] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[11:22:08] Default values are
[11:22:08] nchan  =  512
[11:22:08] beam  =  B1
[11:22:08] dm  =  0
[11:22:08] if3freq  =  [0]
[11:22:08] subband  =  1
[11:22:08] polswitch  =  thru
[11:22:08] Configuring for backend VEGAS...
[11:22:08] The bad devices are: 
[11:22:08] ConverterFilter14
[11:22:08] ConverterFilter16
[11:22:08] ConverterFilter2
[11:22:08] ConverterFilter12
[11:22:08] OpticalDriver5
[11:22:08] ConverterFilter10
[11:22:08] The bad devices are: 
[11:22:08] ConverterFilter14
[11:22:08] ConverterFilter16
[11:22:08] ConverterFilter2
[11:22:08] ConverterFilter12
[11:22:08] OpticalDriver5
[11:22:08] ConverterFilter10
[11:22:08] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[11:22:08] BankH [400.0]
[11:22:08] BankC [400.0]
[11:22:08] BankB [400.0]
[11:22:08] BankA [400.0]
[11:22:08] BankG [400.0]
[11:22:08] BankF [400.0]
[11:22:08] BankE [400.0]
[11:22:08] BankD [400.0]
[11:22:08] Configuring for backend GUPPI...
[11:22:08] The bad devices are: 
[11:22:08] ConverterFilter14
[11:22:08] ConverterFilter16
[11:22:08] ConverterFilter2
[11:22:08] ConverterFilter12
[11:22:08] OpticalDriver5
[11:22:08] ConverterFilter10
[11:22:08] ConverterModule1
[11:22:08] ConverterModule5
[11:22:08] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[11:22:08] Waiting for  GUPPI to finish activating
[11:22:08] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[11:22:08]  Finalizing VEGAS config...
[11:22:08] Checking telescope
[11:22:08] Configuration Complete
[11:22:08] source : J1705-1903
               alias : 1705.0
               jname : J1705-1903
               location : J2000 @ (17:05:43.85, -19:03:41.40)
[11:22:08] Slewing to source.
[11:22:08] In state Activating, waiting for state Activating
[11:22:08] Detected state Activating
[11:22:08] In state Activating, waiting for state Ready
[11:22:34]     Setting State: Ready
[11:22:34] Detected state Ready
[11:22:34] Balancing IF system.
[11:22:34] Balancing IFRack
[11:22:34]     Setting State: Activating
[11:22:34]     Setting State: Ready
[11:22:36] the sampler values are:
[11:22:36] RF_power 1 : 0.9765625
[11:22:36] RF_power 2 : 0.004882812
[11:22:36] RF_power 3 : 1.05957
[11:22:36] RF_power 4 : 0.009765625
[11:22:36] RF_power 5 : 0.0390625
[11:22:36] RF_power 6 : 0.009765625
[11:22:36] RF_power 7 : 0
[11:22:36] RF_power 8 : 0.01953125
[11:22:36] Balancing Guppi
[11:22:36]     Setting State: Activating
[11:22:36]     Setting State: Ready
[11:22:37] Filter 8 RF power =
[11:22:37] 2.353515625
[11:22:37] Filter 4 RF power =
[11:22:37] 1.4892578125
[11:22:37]     Setting State: Activating
[11:22:37]     Setting State: Ready
[11:22:37]     Setting State: Activating
[11:22:37]     Setting State: Ready
[11:22:38] Balancing IF system.
[11:22:38] Balancing VEGAS
[11:22:38]     Setting State: Activating
[11:22:38]     Setting State: Ready
[11:22:39]     Setting State: Activating
[11:22:39]     Setting State: Ready
[11:22:39]     Setting State: Activating
[11:22:39]     Setting State: Ready
[11:22:40] 
[11:22:40] User queried: "Check GUPPI levels now. - Continue scheduling block?" waiting for reply...
[11:23:41] User replied: "Yes".
[11:23:41] Starting 'J1705-1903'
[11:23:41] /users/pdemores/tzpar/J1705-1903.par
[11:23:41] source : J1705-1903
               alias : 1705.0
               jname : J1705-1903
               location : J2000 @ (17:05:43.85, -19:03:41.40)
[11:23:41] Slewing to source.
[11:23:41] In state Ready, waiting for state Activating
[11:23:41]     Setting State: Activating
[11:23:41] Detected state Activating
[11:23:41] In state Activating, waiting for state Ready
[11:23:43]     Setting State: Ready
[11:23:43] Detected state Ready
[11:23:43] ############## HERE ##################
[11:23:43] 
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'

swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'

receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125

vegas.obsmode = 'coherent_cal'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
swmode = 'tp'
noisecal = 'lo'

[11:23:43] Configuring telescope.
[11:23:44]     Setting State: Activating
[11:24:21]     Setting State: Ready
[11:24:23]     Setting State: Activating
[11:24:24] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[11:24:24] Default values are
[11:24:24] nchan  =  512
[11:24:24] beam  =  B1
[11:24:24] dm  =  0
[11:24:24] if3freq  =  [0]
[11:24:24] subband  =  1
[11:24:24] polswitch  =  thru
[11:24:24] Configuring for backend VEGAS...
[11:24:24] The bad devices are: 
[11:24:24] ConverterFilter14
[11:24:24] ConverterFilter16
[11:24:24] ConverterFilter2
[11:24:24] ConverterFilter12
[11:24:24] OpticalDriver5
[11:24:24] ConverterFilter10
[11:24:24] The bad devices are: 
[11:24:24] ConverterFilter14
[11:24:24] ConverterFilter16
[11:24:24] ConverterFilter2
[11:24:24] ConverterFilter12
[11:24:24] OpticalDriver5
[11:24:24] ConverterFilter10
[11:24:24] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[11:24:24] BankH [400.0]
[11:24:24] BankC [400.0]
[11:24:24] BankB [400.0]
[11:24:24] BankA [400.0]
[11:24:24] BankG [400.0]
[11:24:24] BankF [400.0]
[11:24:24] BankE [400.0]
[11:24:24] BankD [400.0]
[11:24:24] Configuring for backend GUPPI...
[11:24:24] The bad devices are: 
[11:24:24] ConverterFilter14
[11:24:24] ConverterFilter16
[11:24:24] ConverterFilter2
[11:24:24] ConverterFilter12
[11:24:24] OpticalDriver5
[11:24:24] ConverterFilter10
[11:24:24] ConverterModule1
[11:24:24] ConverterModule5
[11:24:24] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[11:24:24] Waiting for  GUPPI to finish activating
[11:24:24] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[11:24:24]  Finalizing VEGAS config...
[11:24:24] Checking telescope
[11:24:24] Configuration Complete
[11:24:24] Balancing IF system.
[11:24:24] Balancing IFRack
[11:24:26]     Setting State: Ready
[11:24:26] the sampler values are:
[11:24:26] RF_power 1 : 0.8935547
[11:24:26] RF_power 2 : 0
[11:24:26] RF_power 3 : 0.9912109
[11:24:26] RF_power 4 : 0.009765625
[11:24:26] RF_power 5 : 0.0390625
[11:24:26] RF_power 6 : 0.01464844
[11:24:26] RF_power 7 : 0
[11:24:26] RF_power 8 : 0.02441406
[11:24:27] source : J1705-1903
               alias : 1705.0
               jname : J1705-1903
               location : J2000 @ (17:05:43.85, -19:03:41.40)
[11:24:27] Track: Subscan 1 of 1
[11:24:27] In state Ready, waiting for state Running
[11:24:27]     Setting State: Activating
[11:24:28]     Setting State: Committed
[11:24:54]     Setting State: Running
[11:24:54] Detected state Running
[11:24:54] *** Notice: This subscan will be numbered as scan #19 in your data reduction package.
[11:24:54] In state Running, waiting for state Ready
[11:26:26]     Setting State: Stopping
[11:26:35]     Setting State: Ready
[11:26:35] Detected state Ready
[11:26:35] Ygor Telescope: WaitForStopping
[11:26:35] Configuring telescope.
[11:26:35]     Setting State: Activating
[11:27:14]     Setting State: Ready
[11:27:16]     Setting State: Activating
[11:27:17] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[11:27:17] Default values are
[11:27:17] nchan  =  512
[11:27:17] beam  =  B1
[11:27:17] dm  =  0
[11:27:17] if3freq  =  [0]
[11:27:17] subband  =  1
[11:27:17] polswitch  =  thru
[11:27:17] Configuring for backend VEGAS...
[11:27:17] The bad devices are: 
[11:27:17] ConverterFilter14
[11:27:17] ConverterFilter16
[11:27:17] ConverterFilter2
[11:27:17] ConverterFilter12
[11:27:17] OpticalDriver5
[11:27:17] ConverterFilter10
[11:27:17] The bad devices are: 
[11:27:17] ConverterFilter14
[11:27:17] ConverterFilter16
[11:27:17] ConverterFilter2
[11:27:17] ConverterFilter12
[11:27:17] OpticalDriver5
[11:27:17] ConverterFilter10
[11:27:17] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[11:27:17] BankH [400.0]
[11:27:17] BankC [400.0]
[11:27:17] BankB [400.0]
[11:27:17] BankA [400.0]
[11:27:17] BankG [400.0]
[11:27:17] BankF [400.0]
[11:27:17] BankE [400.0]
[11:27:17] BankD [400.0]
[11:27:17] Configuring for backend GUPPI...
[11:27:17] The bad devices are: 
[11:27:17] ConverterFilter14
[11:27:17] ConverterFilter16
[11:27:17] ConverterFilter2
[11:27:17] ConverterFilter12
[11:27:17] OpticalDriver5
[11:27:17] ConverterFilter10
[11:27:17] ConverterModule1
[11:27:17] ConverterModule5
[11:27:17] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[11:27:17] Waiting for  GUPPI to finish activating
[11:27:17] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[11:27:17]  Finalizing VEGAS config...
[11:27:17] Checking telescope
[11:27:17] Configuration Complete
[11:27:17] source : J1705-1903
               alias : 1705.0
               jname : J1705-1903
               location : J2000 @ (17:05:43.85, -19:03:41.40)
[11:27:17] Track: Subscan 1 of 1
[11:27:18] In state Activating, waiting for state Running
[11:27:18]     Setting State: Committed
[11:27:24]     Setting State: Running
[11:27:24] Detected state Running
[11:27:24] *** Notice: This subscan will be numbered as scan #20 in your data reduction package.
[11:27:24] In state Running, waiting for state Ready
[11:27:27]     Setting State: Aborting
[11:27:27] ygor.Telescope: RuntimeError msg: Abort detected!
[11:27:27] ygor.Telescope: WaitForRunning: Asking abort confirmation.
[11:27:27] 
[11:27:27] User queried: "Abort detected! Terminate block?" waiting for reply...
[11:27:33] User replied: "Yes".
[11:27:33] Exiting scheduling block.
runSuccessful: False[11:27:33]     Setting State: Ready

[11:27:33] ******** End Scheduling Block
[11:27:33] ******** observer = Ryan Lynch, SB name = nanograv_timing_vegas, project ID = AGBT18B_226

how much log? 12116 id: 241328self.history: <gbt.turtle.database.History.History instance at 0x4abd758>self.history.connection: <gbt.turtle.database.TurtleConnection.TurtleConnection instance at 0x4abd5f0>how much converted log? 12379 
#######################################################
 
 
#######################################################
 SCRIPT NUMBER 8, project:AGBT18B_226_208 
 241329 231 Ryan Lynch 7 Donna Stricklin 2020-02-26 11:28:00 obs_aborted 
#######################################################
# NANOGrav timing astrid block, 2012/02 PBD
# Modified for GUPPI + VEGAS, 2018/03 KS

# IMPORTANT!  Edit this to pick which band you're observing#
#band = '820'
band = 'L'
#band = 'S'

# IMPORTANT!  Edit this to pick which session you're observing
# All sources in the catalog will be observed in order, with the 
# remaining session time divided evenly between them. To 
# restart a interrupted session, first edit the catalog and comment
# out sources that have already been observed today.
srcs = Catalog("/users/pdemores/sched/18B226_2018_session_A.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_B.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_C.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_D.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_E.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_F.cat")
#Use personal catalog file, rather than editing Paul's files:
#srcs = Catalog("/users/amcewen/18B226_2018_session_C.cat")

# IMPORTANT!  Edit here to set the session's start/stop times in UTC!
# NOTES:
#  - start time does not need to be edited if the script is stopped/restarted.
#    it will always use the current time when running 'for real'.
#  - don't use any leading 0's in the values here, (leading 0 is code for
#    octal).
from mx import DateTime
# Function args are year, month, day, hour (24 hr), min, sec (UTC)
sess_start_time = DateTime.DateTime(2020,2,26,7,30,0) # UTC
sess_stop_time = DateTime.DateTime(2020,2,26,13,0,0) # UTC

# Use fixed start time rather than current time.
fix = False

############## You should not need to edit below this line ###########

execfile("/users/pdemores/config/astrid_utils.py")
#execfile("/users/pdemores/config/astrid_cals.py")

if Now() != None and not fix:
    print "Using current time for session start"
    sess_start_time = Now()
sess_len = float(sess_stop_time - sess_start_time) / 3600.0
print "Session time remaining = %.1fh" % sess_len

nsrc = len(srcs.keys())
print "nsrc = %d" % (nsrc)
time_per_src = sess_len / float(nsrc) # hours
print "time_per_src = %.1f min" % (time_per_src * 60.0)
stop_time = {}
start_time = {}
i = 0
for s in srcs.keys():
    stop_time[s] = sess_start_time + float(i+1) * time_per_src / 24.0
    start_time[s] = sess_start_time + float(i) * time_per_src / 24.0
    i += 1
    print "  Src '%s' start:%s, stop:%s" % (s, start_time[s], stop_time[s])

# Config items common to all obs
config_common = """
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'

swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'
"""

# Config items common to L-band obs
config_Lband_common="""
receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config items common to 820 obs
config_820_common="""
receiver = 'Rcvr_800'
restfreq = 820.0
bandwidth = 200
vegas.numchan = 128
vegas.polnmode = 'full_stokes'
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config items common to S-band obs
config_Sband_common="""
receiver = 'Rcvr2_3'
restfreq = 2000.0
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config for cal mode
config_cal = """
vegas.obsmode = 'coherent_cal'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
swmode = 'tp'
noisecal = 'lo'
"""

# Config for psr fold mode.
# Note the '%s' for parfile that needs to be filled in when using this.
config_psr = """
vegas.obsmode = 'coherent_fold'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
vegas.fold_parfile = '%s'
swmode = 'tp_nocal'
noisecal = 'off'
"""

# Check observing band
if (band == '820'):
   #config_common = config_common.replace("VEGAS/GUPPI","GUPPI")
   #config_common = config_common.replace("vegas","guppi")
   #config_820_common = config_820_common.replace("vegas.scale = 1015","")
   #config_820_common = config_820_common.replace("vegas","guppi")
   config0 = config_common + config_820_common
   #config_cal = config_cal.replace("vegas","guppi")
   #config_psr = config_psr.replace("vegas","guppi")
elif (band== 'L'):
   config0 = config_common + config_Lband_common
elif (band=='S'):
   config0 = config_common + config_Sband_common
else:
    Break("Invalid band ('%s') selected!" % band)

# Figure out what source to start on
#if start_src == None:
start_src = None

if True:
    cur_time = Now()
    for s in srcs.keys():
        if (cur_time < stop_time[s]):
            start_src = s
            break

# Initial slew, config, balance
print config0
print "First source: %s" % start_src
Configure(config0 + config_cal)
SetValues("DCR",{"state":"prepare"})
Slew(start_src)
Balance()
Balance("VEGAS")
# Note: use these for 820 recvr 2013/05/19
#Balance("IFRack")
#Balance("GUPPI")
Break("Check GUPPI levels now.")

# 2013/06/06 - route to vegas bank A for Glenn's stuff
#SetValues("ConverterRack",{"CMInput,1":"A"})
#SetValues("ConverterRack",{"CMInput,5":"A"})
#if (band=='820'):
#    SetValues("ConverterRack",{"Gfrequency,1":11068})
#elif (band=='L'):
#    #SetValues("ConverterRack",{"Gfrequency,1":13088})
#    SetValues("ConverterRack",{"Gfrequency,1":13288})
#SetValues("ConverterRack",{"CMAttenuator1":22.0})
#SetValues("ConverterRack",{"CMAttenuator5":22.0})
#SetValues("ConverterRack",{"CMOutput,1":3})
#SetValues("ConverterRack",{"CMOutput,5":3})
#SetValues("ConverterRack",{"state":"prepare"})

# Main observing loop
first=1
for s in srcs.keys():
    if (first and s!=start_src):
        continue
    first=0;
    print "Starting '%s'" % s
    alias = "%4.4d" % srcs[s]["alias"]
    parfile = "/users/pdemores/tzpar/%s.par" % s
    print parfile
    Slew(s)
    print "############## HERE ##################"
    print config0+config_cal
    Configure(config0 + config_cal)
    SetValues("DCR",{"state":"prepare"})
    Balance("IFRack")
    # Regular PSR observing
    Track(s, None, 90.0) # Cal scan
    Configure(config0 + config_psr % parfile)
    Track(s, None, stopTime=stop_time[s])

#######################################################
 LOG SESSION NUMBER 8 
[11:28:00] ******** Begin Scheduling Block
[11:28:00] ******** observer = Ryan Lynch, SB name = nanograv_timing_vegas, project ID = AGBT18B_226, date = 26 Feb 2020

[11:28:00] Using current time for session start
[11:28:00] Session time remaining = 1.5h
[11:28:00] nsrc = 5
[11:28:00] time_per_src = 18.4 min
[11:28:00]   Src 'J1705-1903' start:2020-02-26 11:28:00.33, stop:2020-02-26 11:46:24.27
[11:28:00]   Src 'J1719-1438' start:2020-02-26 11:46:24.27, stop:2020-02-26 12:04:48.20
[11:28:00]   Src 'J1730-2304' start:2020-02-26 12:04:48.20, stop:2020-02-26 12:23:12.13
[11:28:00]   Src 'J1744-1134' start:2020-02-26 12:23:12.13, stop:2020-02-26 12:41:36.07
[11:28:00]   Src 'J0740+6620' start:2020-02-26 12:41:36.07, stop:2020-02-26 13:00:00.00
[11:28:00] 
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'

swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'

receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125

[11:28:00] First source: J1705-1903
[11:28:00] Configuring telescope.
[11:28:00]     Setting State: Activating
[11:28:38]     Setting State: Ready
[11:28:40]     Setting State: Activating
[11:28:41] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[11:28:41] Default values are
[11:28:41] nchan  =  512
[11:28:41] beam  =  B1
[11:28:41] dm  =  0
[11:28:41] if3freq  =  [0]
[11:28:41] subband  =  1
[11:28:41] polswitch  =  thru
[11:28:41] Configuring for backend VEGAS...
[11:28:41] The bad devices are: 
[11:28:41] ConverterFilter14
[11:28:41] ConverterFilter16
[11:28:41] ConverterFilter2
[11:28:41] ConverterFilter12
[11:28:41] OpticalDriver5
[11:28:41] ConverterFilter10
[11:28:41] The bad devices are: 
[11:28:41] ConverterFilter14
[11:28:41] ConverterFilter16
[11:28:41] ConverterFilter2
[11:28:41] ConverterFilter12
[11:28:41] OpticalDriver5
[11:28:41] ConverterFilter10
[11:28:41] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[11:28:41] BankH [400.0]
[11:28:41] BankC [400.0]
[11:28:41] BankB [400.0]
[11:28:41] BankA [400.0]
[11:28:41] BankG [400.0]
[11:28:41] BankF [400.0]
[11:28:41] BankE [400.0]
[11:28:41] BankD [400.0]
[11:28:41] Configuring for backend GUPPI...
[11:28:41] The bad devices are: 
[11:28:41] ConverterFilter14
[11:28:41] ConverterFilter16
[11:28:41] ConverterFilter2
[11:28:41] ConverterFilter12
[11:28:41] OpticalDriver5
[11:28:41] ConverterFilter10
[11:28:41] ConverterModule1
[11:28:41] ConverterModule5
[11:28:41] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[11:28:41] Waiting for  GUPPI to finish activating
[11:28:41] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[11:28:41]  Finalizing VEGAS config...
[11:28:41] Checking telescope
[11:28:41] Configuration Complete
[11:28:41] source : J1705-1903
               alias : 1705.0
               jname : J1705-1903
               location : J2000 @ (17:05:43.85, -19:03:41.40)
[11:28:41] Slewing to source.
[11:28:41] In state Activating, waiting for state Activating
[11:28:41] Detected state Activating
[11:28:41] In state Activating, waiting for state Ready
[11:28:49]     Setting State: Ready
[11:28:49] Detected state Ready
[11:28:49] Balancing IF system.
[11:28:49] Balancing IFRack
[11:28:49]     Setting State: Activating
[11:28:49]     Setting State: Ready
[11:28:51] the sampler values are:
[11:28:51] RF_power 1 : 0.9277344
[11:28:51] RF_power 2 : 0.004882812
[11:28:51] RF_power 3 : 1.123047
[11:28:51] RF_power 4 : 0.004882812
[11:28:51] RF_power 5 : 0.0390625
[11:28:51] RF_power 6 : 0.01464844
[11:28:51] RF_power 7 : 0
[11:28:51] RF_power 8 : 0.02441406
[11:28:51] Balancing Guppi
[11:28:51]     Setting State: Activating
[11:28:51]     Setting State: Ready
[11:28:52] Filter 8 RF power =
[11:28:52] 2.744140625
[11:28:52] Filter 4 RF power =
[11:28:52] 1.5185546875
[11:28:52]     Setting State: Activating
[11:28:52]     Setting State: Ready
[11:28:53] Balancing IF system.
[11:28:53] Balancing VEGAS
[11:28:53]     Setting State: Activating
[11:28:53]     Setting State: Ready
[11:28:53]     Setting State: Activating
[11:28:53]     Setting State: Ready
[11:28:54]     Setting State: Activating
[11:28:54]     Setting State: Ready
[11:28:54]     Setting State: Activating
[11:28:54]     Setting State: Ready
[11:28:55] 
[11:28:55] User queried: "Check GUPPI levels now. - Continue scheduling block?" waiting for reply...
[11:29:00] User replied: "Yes".
[11:29:00] Starting 'J1705-1903'
[11:29:00] /users/pdemores/tzpar/J1705-1903.par
[11:29:00] source : J1705-1903
               alias : 1705.0
               jname : J1705-1903
               location : J2000 @ (17:05:43.85, -19:03:41.40)
[11:29:00] Slewing to source.
[11:29:01] In state Ready, waiting for state Activating
[11:29:01]     Setting State: Activating
[11:29:01] Detected state Activating
[11:29:01] In state Activating, waiting for state Ready
[11:29:03]     Setting State: Ready
[11:29:03] Detected state Ready
[11:29:03] ############## HERE ##################
[11:29:03] 
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'

swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'

receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125

vegas.obsmode = 'coherent_cal'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
swmode = 'tp'
noisecal = 'lo'

[11:29:03] Configuring telescope.
[11:29:03]     Setting State: Activating
[11:29:40]     Setting State: Ready
[11:29:42]     Setting State: Activating
[11:29:43] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[11:29:43] Default values are
[11:29:43] nchan  =  512
[11:29:43] beam  =  B1
[11:29:43] dm  =  0
[11:29:43] if3freq  =  [0]
[11:29:43] subband  =  1
[11:29:43] polswitch  =  thru
[11:29:43] Configuring for backend VEGAS...
[11:29:43] The bad devices are: 
[11:29:43] ConverterFilter14
[11:29:43] ConverterFilter16
[11:29:43] ConverterFilter2
[11:29:43] ConverterFilter12
[11:29:43] OpticalDriver5
[11:29:43] ConverterFilter10
[11:29:43] The bad devices are: 
[11:29:43] ConverterFilter14
[11:29:43] ConverterFilter16
[11:29:43] ConverterFilter2
[11:29:43] ConverterFilter12
[11:29:43] OpticalDriver5
[11:29:43] ConverterFilter10
[11:29:43] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[11:29:43] BankH [400.0]
[11:29:43] BankC [400.0]
[11:29:43] BankB [400.0]
[11:29:43] BankA [400.0]
[11:29:43] BankG [400.0]
[11:29:43] BankF [400.0]
[11:29:43] BankE [400.0]
[11:29:43] BankD [400.0]
[11:29:43] Configuring for backend GUPPI...
[11:29:43] The bad devices are: 
[11:29:43] ConverterFilter14
[11:29:43] ConverterFilter16
[11:29:43] ConverterFilter2
[11:29:43] ConverterFilter12
[11:29:43] OpticalDriver5
[11:29:43] ConverterFilter10
[11:29:43] ConverterModule1
[11:29:43] ConverterModule5
[11:29:43] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[11:29:43] Waiting for  GUPPI to finish activating
[11:29:43] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[11:29:43]  Finalizing VEGAS config...
[11:29:43] Checking telescope
[11:29:43] Configuration Complete
[11:29:43] Balancing IF system.
[11:29:43] Balancing IFRack
[11:29:45]     Setting State: Ready
[11:29:45] the sampler values are:
[11:29:45] RF_power 1 : 0.9375
[11:29:45] RF_power 2 : 0
[11:29:45] RF_power 3 : 0.859375
[11:29:45] RF_power 4 : 0.004882812
[11:29:45] RF_power 5 : 0.0390625
[11:29:45] RF_power 6 : 0.01464844
[11:29:45] RF_power 7 : 0
[11:29:45] RF_power 8 : 0.01953125
[11:29:46] source : J1705-1903
               alias : 1705.0
               jname : J1705-1903
               location : J2000 @ (17:05:43.85, -19:03:41.40)
[11:29:46] Track: Subscan 1 of 1
[11:29:47] In state Ready, waiting for state Running
[11:29:47]     Setting State: Activating
[11:29:47]     Setting State: Committed
[11:30:13]     Setting State: Running
[11:30:13] Detected state Running
[11:30:13] *** Notice: This subscan will be numbered as scan #21 in your data reduction package.
[11:30:13] In state Running, waiting for state Ready
[11:31:45]     Setting State: Stopping
[11:31:53]     Setting State: Ready
[11:31:53] Detected state Ready
[11:31:53] Ygor Telescope: WaitForStopping
[11:31:53] Configuring telescope.
[11:31:54]     Setting State: Activating
[11:32:31]     Setting State: Ready
[11:32:33]     Setting State: Activating
[11:32:34] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[11:32:34] Default values are
[11:32:34] nchan  =  512
[11:32:34] beam  =  B1
[11:32:34] dm  =  0
[11:32:34] if3freq  =  [0]
[11:32:34] subband  =  1
[11:32:34] polswitch  =  thru
[11:32:34] Configuring for backend VEGAS...
[11:32:34] The bad devices are: 
[11:32:34] ConverterFilter14
[11:32:34] ConverterFilter16
[11:32:34] ConverterFilter2
[11:32:34] ConverterFilter12
[11:32:34] OpticalDriver5
[11:32:34] ConverterFilter10
[11:32:34] The bad devices are: 
[11:32:34] ConverterFilter14
[11:32:34] ConverterFilter16
[11:32:34] ConverterFilter2
[11:32:34] ConverterFilter12
[11:32:34] OpticalDriver5
[11:32:34] ConverterFilter10
[11:32:34] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[11:32:34] BankH [400.0]
[11:32:34] BankC [400.0]
[11:32:34] BankB [400.0]
[11:32:34] BankA [400.0]
[11:32:34] BankG [400.0]
[11:32:34] BankF [400.0]
[11:32:34] BankE [400.0]
[11:32:34] BankD [400.0]
[11:32:34] Configuring for backend GUPPI...
[11:32:34] The bad devices are: 
[11:32:34] ConverterFilter14
[11:32:34] ConverterFilter16
[11:32:34] ConverterFilter2
[11:32:34] ConverterFilter12
[11:32:34] OpticalDriver5
[11:32:34] ConverterFilter10
[11:32:34] ConverterModule1
[11:32:34] ConverterModule5
[11:32:34] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[11:32:34] Waiting for  GUPPI to finish activating
[11:32:34] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[11:32:34]  Finalizing VEGAS config...
[11:32:34] Checking telescope
[11:32:34] Configuration Complete
[11:32:34] source : J1705-1903
               alias : 1705.0
               jname : J1705-1903
               location : J2000 @ (17:05:43.85, -19:03:41.40)
[11:32:34] Track: Subscan 1 of 1
[11:32:34] In state Activating, waiting for state Running
[11:32:35]     Setting State: Committed
[11:32:40]     Setting State: Running
[11:32:40] Detected state Running
[11:32:40] *** Notice: This subscan will be numbered as scan #22 in your data reduction package.
[11:32:40] In state Running, waiting for state Ready
[11:32:43]     Setting State: Aborting
[11:32:43] ygor.Telescope: RuntimeError msg: Abort detected!
[11:32:43] ygor.Telescope: WaitForRunning: Asking abort confirmation.
[11:32:43] 
[11:32:43] User queried: "Abort detected! Terminate block?" waiting for reply...
[11:33:12] User replied: "Yes".
[11:33:12] Exiting scheduling block.
runSuccessful: False[11:33:12]     Setting State: Ready

[11:33:25] ******** End Scheduling Block
[11:33:25] ******** observer = Ryan Lynch, SB name = nanograv_timing_vegas, project ID = AGBT18B_226

how much log? 12108 id: 241329self.history: <gbt.turtle.database.History.History instance at 0x4abd758>self.history.connection: <gbt.turtle.database.TurtleConnection.TurtleConnection instance at 0x4abd5f0>how much converted log? 12371 
#######################################################
 
 
#######################################################
 SCRIPT NUMBER 9, project:AGBT18B_226_208 
 241330 231 Ryan Lynch 7 Donna Stricklin 2020-02-26 11:33:48 obs_aborted 
#######################################################
# NANOGrav timing astrid block, 2012/02 PBD
# Modified for GUPPI + VEGAS, 2018/03 KS

# IMPORTANT!  Edit this to pick which band you're observing#
#band = '820'
band = 'L'
#band = 'S'

# IMPORTANT!  Edit this to pick which session you're observing
# All sources in the catalog will be observed in order, with the 
# remaining session time divided evenly between them. To 
# restart a interrupted session, first edit the catalog and comment
# out sources that have already been observed today.
srcs = Catalog("/users/pdemores/sched/18B226_2018_session_A.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_B.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_C.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_D.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_E.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_F.cat")
#Use personal catalog file, rather than editing Paul's files:
#srcs = Catalog("/users/amcewen/18B226_2018_session_C.cat")

# IMPORTANT!  Edit here to set the session's start/stop times in UTC!
# NOTES:
#  - start time does not need to be edited if the script is stopped/restarted.
#    it will always use the current time when running 'for real'.
#  - don't use any leading 0's in the values here, (leading 0 is code for
#    octal).
from mx import DateTime
# Function args are year, month, day, hour (24 hr), min, sec (UTC)
sess_start_time = DateTime.DateTime(2020,2,26,7,30,0) # UTC
sess_stop_time = DateTime.DateTime(2020,2,26,13,0,0) # UTC

# Use fixed start time rather than current time.
fix = False

############## You should not need to edit below this line ###########

execfile("/users/pdemores/config/astrid_utils.py")
#execfile("/users/pdemores/config/astrid_cals.py")

if Now() != None and not fix:
    print "Using current time for session start"
    sess_start_time = Now()
sess_len = float(sess_stop_time - sess_start_time) / 3600.0
print "Session time remaining = %.1fh" % sess_len

nsrc = len(srcs.keys())
print "nsrc = %d" % (nsrc)
time_per_src = sess_len / float(nsrc) # hours
print "time_per_src = %.1f min" % (time_per_src * 60.0)
stop_time = {}
start_time = {}
i = 0
for s in srcs.keys():
    stop_time[s] = sess_start_time + float(i+1) * time_per_src / 24.0
    start_time[s] = sess_start_time + float(i) * time_per_src / 24.0
    i += 1
    print "  Src '%s' start:%s, stop:%s" % (s, start_time[s], stop_time[s])

# Config items common to all obs
config_common = """
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'

swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'
"""

# Config items common to L-band obs
config_Lband_common="""
receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config items common to 820 obs
config_820_common="""
receiver = 'Rcvr_800'
restfreq = 820.0
bandwidth = 200
vegas.numchan = 128
vegas.polnmode = 'full_stokes'
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config items common to S-band obs
config_Sband_common="""
receiver = 'Rcvr2_3'
restfreq = 2000.0
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config for cal mode
config_cal = """
vegas.obsmode = 'coherent_cal'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
swmode = 'tp'
noisecal = 'lo'
"""

# Config for psr fold mode.
# Note the '%s' for parfile that needs to be filled in when using this.
config_psr = """
vegas.obsmode = 'coherent_fold'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
vegas.fold_parfile = '%s'
swmode = 'tp_nocal'
noisecal = 'off'
"""

# Check observing band
if (band == '820'):
   #config_common = config_common.replace("VEGAS/GUPPI","GUPPI")
   #config_common = config_common.replace("vegas","guppi")
   #config_820_common = config_820_common.replace("vegas.scale = 1015","")
   #config_820_common = config_820_common.replace("vegas","guppi")
   config0 = config_common + config_820_common
   #config_cal = config_cal.replace("vegas","guppi")
   #config_psr = config_psr.replace("vegas","guppi")
elif (band== 'L'):
   config0 = config_common + config_Lband_common
elif (band=='S'):
   config0 = config_common + config_Sband_common
else:
    Break("Invalid band ('%s') selected!" % band)

# Figure out what source to start on
#if start_src == None:
start_src = None

if True:
    cur_time = Now()
    for s in srcs.keys():
        if (cur_time < stop_time[s]):
            start_src = s
            break

# Initial slew, config, balance
print config0
print "First source: %s" % start_src
Configure(config0 + config_cal)
SetValues("DCR",{"state":"prepare"})
Slew(start_src)
Balance()
Balance("VEGAS")
# Note: use these for 820 recvr 2013/05/19
#Balance("IFRack")
#Balance("GUPPI")
Break("Check GUPPI levels now.")

# 2013/06/06 - route to vegas bank A for Glenn's stuff
#SetValues("ConverterRack",{"CMInput,1":"A"})
#SetValues("ConverterRack",{"CMInput,5":"A"})
#if (band=='820'):
#    SetValues("ConverterRack",{"Gfrequency,1":11068})
#elif (band=='L'):
#    #SetValues("ConverterRack",{"Gfrequency,1":13088})
#    SetValues("ConverterRack",{"Gfrequency,1":13288})
#SetValues("ConverterRack",{"CMAttenuator1":22.0})
#SetValues("ConverterRack",{"CMAttenuator5":22.0})
#SetValues("ConverterRack",{"CMOutput,1":3})
#SetValues("ConverterRack",{"CMOutput,5":3})
#SetValues("ConverterRack",{"state":"prepare"})

# Main observing loop
first=1
for s in srcs.keys():
    if (first and s!=start_src):
        continue
    first=0;
    print "Starting '%s'" % s
    alias = "%4.4d" % srcs[s]["alias"]
    parfile = "/users/pdemores/tzpar/%s.par" % s
    print parfile
    Slew(s)
    print "############## HERE ##################"
    print config0+config_cal
    Configure(config0 + config_cal)
    SetValues("DCR",{"state":"prepare"})
    Balance("IFRack")
    # Regular PSR observing
    Track(s, None, 90.0) # Cal scan
    Configure(config0 + config_psr % parfile)
    Track(s, None, stopTime=stop_time[s])

#######################################################
 LOG SESSION NUMBER 9 
[11:33:48] ******** Begin Scheduling Block
[11:33:48] ******** observer = Ryan Lynch, SB name = nanograv_timing_vegas, project ID = AGBT18B_226, date = 26 Feb 2020

[11:33:48] Using current time for session start
[11:33:48] Session time remaining = 1.4h
[11:33:48] nsrc = 5
[11:33:48] time_per_src = 17.2 min
[11:33:48]   Src 'J1705-1903' start:2020-02-26 11:33:48.78, stop:2020-02-26 11:51:03.03
[11:33:48]   Src 'J1719-1438' start:2020-02-26 11:51:03.03, stop:2020-02-26 12:08:17.27
[11:33:48]   Src 'J1730-2304' start:2020-02-26 12:08:17.27, stop:2020-02-26 12:25:31.51
[11:33:48]   Src 'J1744-1134' start:2020-02-26 12:25:31.51, stop:2020-02-26 12:42:45.76
[11:33:48]   Src 'J0740+6620' start:2020-02-26 12:42:45.76, stop:2020-02-26 13:00:00.00
[11:33:48] 
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'

swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'

receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125

[11:33:48] First source: J1705-1903
[11:33:48] Configuring telescope.
[11:33:49]     Setting State: Activating
[11:34:26]     Setting State: Ready
[11:34:28]     Setting State: Activating
[11:34:29] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[11:34:29] Default values are
[11:34:29] nchan  =  512
[11:34:29] beam  =  B1
[11:34:29] dm  =  0
[11:34:29] if3freq  =  [0]
[11:34:29] subband  =  1
[11:34:29] polswitch  =  thru
[11:34:29] Configuring for backend VEGAS...
[11:34:29] The bad devices are: 
[11:34:29] ConverterFilter14
[11:34:29] ConverterFilter16
[11:34:29] ConverterFilter2
[11:34:29] ConverterFilter12
[11:34:29] OpticalDriver5
[11:34:29] ConverterFilter10
[11:34:29] The bad devices are: 
[11:34:29] ConverterFilter14
[11:34:29] ConverterFilter16
[11:34:29] ConverterFilter2
[11:34:29] ConverterFilter12
[11:34:29] OpticalDriver5
[11:34:29] ConverterFilter10
[11:34:29] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[11:34:29] BankH [400.0]
[11:34:29] BankC [400.0]
[11:34:29] BankB [400.0]
[11:34:29] BankA [400.0]
[11:34:29] BankG [400.0]
[11:34:29] BankF [400.0]
[11:34:29] BankE [400.0]
[11:34:29] BankD [400.0]
[11:34:29] Configuring for backend GUPPI...
[11:34:29] The bad devices are: 
[11:34:29] ConverterFilter14
[11:34:29] ConverterFilter16
[11:34:29] ConverterFilter2
[11:34:29] ConverterFilter12
[11:34:29] OpticalDriver5
[11:34:29] ConverterFilter10
[11:34:29] ConverterModule1
[11:34:29] ConverterModule5
[11:34:29] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[11:34:29] Waiting for  GUPPI to finish activating
[11:34:29] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[11:34:29]  Finalizing VEGAS config...
[11:34:29] Checking telescope
[11:34:29] Configuration Complete
[11:34:29] source : J1705-1903
               alias : 1705.0
               jname : J1705-1903
               location : J2000 @ (17:05:43.85, -19:03:41.40)
[11:34:29] Slewing to source.
[11:34:29] In state Activating, waiting for state Activating
[11:34:29] Detected state Activating
[11:34:29] In state Activating, waiting for state Ready
[11:34:38]     Setting State: Ready
[11:34:38] Detected state Ready
[11:34:38] Balancing IF system.
[11:34:38] Balancing IFRack
[11:34:38]     Setting State: Activating
[11:34:38]     Setting State: Ready
[11:34:40] the sampler values are:
[11:34:40] RF_power 1 : 0.9716797
[11:34:40] RF_power 2 : 0
[11:34:40] RF_power 3 : 0.8935547
[11:34:40] RF_power 4 : 0.009765625
[11:34:40] RF_power 5 : 0.0390625
[11:34:40] RF_power 6 : 0.009765625
[11:34:40] RF_power 7 : 0
[11:34:40] RF_power 8 : 0.02441406
[11:34:40] Balancing Guppi
[11:34:40]     Setting State: Activating
[11:34:40]     Setting State: Ready
[11:34:40]     Setting State: Activating
[11:34:40]     Setting State: Ready
[11:34:41]     Setting State: Activating
[11:34:41]     Setting State: Ready
[11:34:43] Filter 8 RF power =
[11:34:43] 2.8857421875
[11:34:43] Filter 4 RF power =
[11:34:43] 1.5869140625
[11:34:43]     Setting State: Activating
[11:34:43]     Setting State: Ready
[11:34:43]     Setting State: Activating
[11:34:43]     Setting State: Ready
[11:34:44] Balancing IF system.
[11:34:44] Balancing VEGAS
[11:34:44]     Setting State: Activating
[11:34:44]     Setting State: Ready
[11:34:45]     Setting State: Activating
[11:34:45]     Setting State: Ready
[11:34:45]     Setting State: Activating
[11:34:45]     Setting State: Ready
[11:34:46] 
[11:34:46] User queried: "Check GUPPI levels now. - Continue scheduling block?" waiting for reply...
[11:34:49] User replied: "Yes".
[11:34:49] Starting 'J1705-1903'
[11:34:49] /users/pdemores/tzpar/J1705-1903.par
[11:34:49] source : J1705-1903
               alias : 1705.0
               jname : J1705-1903
               location : J2000 @ (17:05:43.85, -19:03:41.40)
[11:34:49] Slewing to source.
[11:34:49] In state Ready, waiting for state Activating
[11:34:49]     Setting State: Activating
[11:34:49] Detected state Activating
[11:34:49] In state Activating, waiting for state Ready
[11:34:51]     Setting State: Ready
[11:34:51] Detected state Ready
[11:34:51] ############## HERE ##################
[11:34:51] 
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'

swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'

receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125

vegas.obsmode = 'coherent_cal'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
swmode = 'tp'
noisecal = 'lo'

[11:34:51] Configuring telescope.
[11:34:51]     Setting State: Activating
[11:35:29]     Setting State: Ready
[11:35:31]     Setting State: Activating
[11:35:32] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[11:35:32] Default values are
[11:35:32] nchan  =  512
[11:35:32] beam  =  B1
[11:35:32] dm  =  0
[11:35:32] if3freq  =  [0]
[11:35:33] subband  =  1
[11:35:33] polswitch  =  thru
[11:35:33] Configuring for backend VEGAS...
[11:35:33] The bad devices are: 
[11:35:33] ConverterFilter14
[11:35:33] ConverterFilter16
[11:35:33] ConverterFilter2
[11:35:33] ConverterFilter12
[11:35:33] OpticalDriver5
[11:35:33] ConverterFilter10
[11:35:33] The bad devices are: 
[11:35:33] ConverterFilter14
[11:35:33] ConverterFilter16
[11:35:33] ConverterFilter2
[11:35:33] ConverterFilter12
[11:35:33] OpticalDriver5
[11:35:33] ConverterFilter10
[11:35:33] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[11:35:33] BankH [400.0]
[11:35:33] BankC [400.0]
[11:35:33] BankB [400.0]
[11:35:33] BankA [400.0]
[11:35:33] BankG [400.0]
[11:35:33] BankF [400.0]
[11:35:33] BankE [400.0]
[11:35:33] BankD [400.0]
[11:35:33] Configuring for backend GUPPI...
[11:35:33] The bad devices are: 
[11:35:33] ConverterFilter14
[11:35:33] ConverterFilter16
[11:35:33] ConverterFilter2
[11:35:33] ConverterFilter12
[11:35:33] OpticalDriver5
[11:35:33] ConverterFilter10
[11:35:33] ConverterModule1
[11:35:33] ConverterModule5
[11:35:33] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[11:35:33] Waiting for  GUPPI to finish activating
[11:35:33] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[11:35:33]  Finalizing VEGAS config...
[11:35:33] Checking telescope
[11:35:33] Configuration Complete
[11:35:33]     Setting State: Ready
[11:35:34] Balancing IF system.
[11:35:34] Balancing IFRack
[11:35:34]     Setting State: Activating
[11:35:36]     Setting State: Ready
[11:35:36] the sampler values are:
[11:35:36] RF_power 1 : 1.054688
[11:35:36] RF_power 2 : 0
[11:35:36] RF_power 3 : 0.9667969
[11:35:36] RF_power 4 : 0.004882812
[11:35:36] RF_power 5 : 0.0390625
[11:35:36] RF_power 6 : 0.01464844
[11:35:36] RF_power 7 : 0
[11:35:36] RF_power 8 : 0.01953125
[11:35:37] source : J1705-1903
               alias : 1705.0
               jname : J1705-1903
               location : J2000 @ (17:05:43.85, -19:03:41.40)
[11:35:37] Track: Subscan 1 of 1
[11:35:37] In state Ready, waiting for state Running
[11:35:37]     Setting State: Activating
[11:35:38]     Setting State: Committed
[11:36:04]     Setting State: Running
[11:36:04] Detected state Running
[11:36:04] *** Notice: This subscan will be numbered as scan #23 in your data reduction package.
[11:36:04] In state Running, waiting for state Ready
[11:37:36]     Setting State: Stopping
[11:37:44]     Setting State: Ready
[11:37:44] Detected state Ready
[11:37:44] Ygor Telescope: WaitForStopping
[11:37:45] Configuring telescope.
[11:37:45]     Setting State: Activating
[11:38:22]     Setting State: Ready
[11:38:24]     Setting State: Activating
[11:38:25] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[11:38:25] Default values are
[11:38:25] nchan  =  512
[11:38:25] beam  =  B1
[11:38:25] dm  =  0
[11:38:25] if3freq  =  [0]
[11:38:25] subband  =  1
[11:38:25] polswitch  =  thru
[11:38:25] Configuring for backend VEGAS...
[11:38:25] The bad devices are: 
[11:38:25] ConverterFilter14
[11:38:25] ConverterFilter16
[11:38:25] ConverterFilter2
[11:38:25] ConverterFilter12
[11:38:25] OpticalDriver5
[11:38:25] ConverterFilter10
[11:38:25] The bad devices are: 
[11:38:25] ConverterFilter14
[11:38:25] ConverterFilter16
[11:38:25] ConverterFilter2
[11:38:25] ConverterFilter12
[11:38:25] OpticalDriver5
[11:38:25] ConverterFilter10
[11:38:25] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[11:38:25] BankH [400.0]
[11:38:25] BankC [400.0]
[11:38:25] BankB [400.0]
[11:38:25] BankA [400.0]
[11:38:25] BankG [400.0]
[11:38:25] BankF [400.0]
[11:38:25] BankE [400.0]
[11:38:25] BankD [400.0]
[11:38:25] Configuring for backend GUPPI...
[11:38:25] The bad devices are: 
[11:38:25] ConverterFilter14
[11:38:25] ConverterFilter16
[11:38:25] ConverterFilter2
[11:38:25] ConverterFilter12
[11:38:25] OpticalDriver5
[11:38:25] ConverterFilter10
[11:38:25] ConverterModule1
[11:38:25] ConverterModule5
[11:38:25] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[11:38:25] Waiting for  GUPPI to finish activating
[11:38:25] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[11:38:25]  Finalizing VEGAS config...
[11:38:25] Checking telescope
[11:38:25] Configuration Complete
[11:38:25] source : J1705-1903
               alias : 1705.0
               jname : J1705-1903
               location : J2000 @ (17:05:43.85, -19:03:41.40)
[11:38:25] Track: Subscan 1 of 1
[11:38:25] In state Activating, waiting for state Running
[11:38:26]     Setting State: Committed
[11:38:32]     Setting State: Running
[11:38:32] Detected state Running
[11:38:32] *** Notice: This subscan will be numbered as scan #24 in your data reduction package.
[11:38:32] In state Running, waiting for state Ready
[11:38:35]     Setting State: Aborting
[11:38:35] ygor.Telescope: RuntimeError msg: Abort detected!
[11:38:35] ygor.Telescope: WaitForRunning: Asking abort confirmation.
[11:38:35] 
[11:38:35] User queried: "Abort detected! Terminate block?" waiting for reply...
[11:38:39] User replied: "Yes".
[11:38:39] Exiting scheduling block.
[11:38:39]     Setting State: Ready
runSuccessful: False
[11:38:39] ******** End Scheduling Block
[11:38:39] ******** observer = Ryan Lynch, SB name = nanograv_timing_vegas, project ID = AGBT18B_226

how much log? 12335 id: 241330self.history: <gbt.turtle.database.History.History instance at 0x4abd758>self.history.connection: <gbt.turtle.database.TurtleConnection.TurtleConnection instance at 0x4abd5f0>how much converted log? 12598 
#######################################################
 
 
#######################################################
 SCRIPT NUMBER 10, project:AGBT18B_226_208 
 241331 231 Ryan Lynch 7 Donna Stricklin 2020-02-26 11:42:28 obs_aborted 
#######################################################
# NANOGrav timing astrid block, 2012/02 PBD
# Modified for GUPPI + VEGAS, 2018/03 KS

# IMPORTANT!  Edit this to pick which band you're observing#
#band = '820'
band = 'L'
#band = 'S'

# IMPORTANT!  Edit this to pick which session you're observing
# All sources in the catalog will be observed in order, with the 
# remaining session time divided evenly between them. To 
# restart a interrupted session, first edit the catalog and comment
# out sources that have already been observed today.
srcs = Catalog("/users/pdemores/sched/18B226_2018_session_A.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_B.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_C.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_D.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_E.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_F.cat")
#Use personal catalog file, rather than editing Paul's files:
#srcs = Catalog("/users/amcewen/18B226_2018_session_C.cat")

# IMPORTANT!  Edit here to set the session's start/stop times in UTC!
# NOTES:
#  - start time does not need to be edited if the script is stopped/restarted.
#    it will always use the current time when running 'for real'.
#  - don't use any leading 0's in the values here, (leading 0 is code for
#    octal).
from mx import DateTime
# Function args are year, month, day, hour (24 hr), min, sec (UTC)
sess_start_time = DateTime.DateTime(2020,2,26,7,30,0) # UTC
sess_stop_time = DateTime.DateTime(2020,2,26,13,0,0) # UTC

# Use fixed start time rather than current time.
fix = False

############## You should not need to edit below this line ###########

execfile("/users/pdemores/config/astrid_utils.py")
#execfile("/users/pdemores/config/astrid_cals.py")

if Now() != None and not fix:
    print "Using current time for session start"
    sess_start_time = Now()
sess_len = float(sess_stop_time - sess_start_time) / 3600.0
print "Session time remaining = %.1fh" % sess_len

nsrc = len(srcs.keys())
print "nsrc = %d" % (nsrc)
time_per_src = sess_len / float(nsrc) # hours
print "time_per_src = %.1f min" % (time_per_src * 60.0)
stop_time = {}
start_time = {}
i = 0
for s in srcs.keys():
    stop_time[s] = sess_start_time + float(i+1) * time_per_src / 24.0
    start_time[s] = sess_start_time + float(i) * time_per_src / 24.0
    i += 1
    print "  Src '%s' start:%s, stop:%s" % (s, start_time[s], stop_time[s])

# Config items common to all obs
config_common = """
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'

swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'
"""

# Config items common to L-band obs
config_Lband_common="""
receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config items common to 820 obs
config_820_common="""
receiver = 'Rcvr_800'
restfreq = 820.0
bandwidth = 200
vegas.numchan = 128
vegas.polnmode = 'full_stokes'
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config items common to S-band obs
config_Sband_common="""
receiver = 'Rcvr2_3'
restfreq = 2000.0
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config for cal mode
config_cal = """
vegas.obsmode = 'coherent_cal'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
swmode = 'tp'
noisecal = 'lo'
"""

# Config for psr fold mode.
# Note the '%s' for parfile that needs to be filled in when using this.
config_psr = """
vegas.obsmode = 'coherent_fold'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
vegas.fold_parfile = '%s'
swmode = 'tp_nocal'
noisecal = 'off'
"""

# Check observing band
if (band == '820'):
   #config_common = config_common.replace("VEGAS/GUPPI","GUPPI")
   #config_common = config_common.replace("vegas","guppi")
   #config_820_common = config_820_common.replace("vegas.scale = 1015","")
   #config_820_common = config_820_common.replace("vegas","guppi")
   config0 = config_common + config_820_common
   #config_cal = config_cal.replace("vegas","guppi")
   #config_psr = config_psr.replace("vegas","guppi")
elif (band== 'L'):
   config0 = config_common + config_Lband_common
elif (band=='S'):
   config0 = config_common + config_Sband_common
else:
    Break("Invalid band ('%s') selected!" % band)

# Figure out what source to start on
#if start_src == None:
start_src = None

if True:
    cur_time = Now()
    for s in srcs.keys():
        if (cur_time < stop_time[s]):
            start_src = s
            break

# Initial slew, config, balance
print config0
print "First source: %s" % start_src
Configure(config0 + config_cal)
SetValues("DCR",{"state":"prepare"})
Slew(start_src)
Balance()
Balance("VEGAS")
# Note: use these for 820 recvr 2013/05/19
#Balance("IFRack")
#Balance("GUPPI")
Break("Check GUPPI levels now.")

# 2013/06/06 - route to vegas bank A for Glenn's stuff
#SetValues("ConverterRack",{"CMInput,1":"A"})
#SetValues("ConverterRack",{"CMInput,5":"A"})
#if (band=='820'):
#    SetValues("ConverterRack",{"Gfrequency,1":11068})
#elif (band=='L'):
#    #SetValues("ConverterRack",{"Gfrequency,1":13088})
#    SetValues("ConverterRack",{"Gfrequency,1":13288})
#SetValues("ConverterRack",{"CMAttenuator1":22.0})
#SetValues("ConverterRack",{"CMAttenuator5":22.0})
#SetValues("ConverterRack",{"CMOutput,1":3})
#SetValues("ConverterRack",{"CMOutput,5":3})
#SetValues("ConverterRack",{"state":"prepare"})

# Main observing loop
first=1
for s in srcs.keys():
    if (first and s!=start_src):
        continue
    first=0;
    print "Starting '%s'" % s
    alias = "%4.4d" % srcs[s]["alias"]
    parfile = "/users/pdemores/tzpar/%s.par" % s
    print parfile
    Slew(s)
    print "############## HERE ##################"
    print config0+config_cal
    Configure(config0 + config_cal)
    SetValues("DCR",{"state":"prepare"})
    Balance("IFRack")
    # Regular PSR observing
    Track(s, None, 90.0) # Cal scan
    Configure(config0 + config_psr % parfile)
    Track(s, None, stopTime=stop_time[s])

#######################################################
 LOG SESSION NUMBER 10 
[11:42:28] ******** Begin Scheduling Block
[11:42:28] ******** observer = Ryan Lynch, SB name = nanograv_timing_vegas, project ID = AGBT18B_226, date = 26 Feb 2020

[11:42:28] Using current time for session start
[11:42:28] Session time remaining = 1.3h
[11:42:28] nsrc = 4
[11:42:28] time_per_src = 19.4 min
[11:42:28]   Src 'J1719-1438' start:2020-02-26 11:42:28.67, stop:2020-02-26 12:01:51.51
[11:42:28]   Src 'J1730-2304' start:2020-02-26 12:01:51.51, stop:2020-02-26 12:21:14.34
[11:42:28]   Src 'J1744-1134' start:2020-02-26 12:21:14.34, stop:2020-02-26 12:40:37.17
[11:42:28]   Src 'J0740+6620' start:2020-02-26 12:40:37.17, stop:2020-02-26 13:00:00.00
[11:42:28] 
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'

swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'

receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125

[11:42:28] First source: J1719-1438
[11:42:28] Configuring telescope.
[11:42:29]     Setting State: Activating
[11:43:06]     Setting State: Ready
[11:43:07]     Setting State: Activating
[11:43:08] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[11:43:08] Default values are
[11:43:08] nchan  =  512
[11:43:08] beam  =  B1
[11:43:08] dm  =  0
[11:43:08] if3freq  =  [0]
[11:43:08] subband  =  1
[11:43:08] polswitch  =  thru
[11:43:08] Configuring for backend VEGAS...
[11:43:08] The bad devices are: 
[11:43:08] ConverterFilter14
[11:43:08] ConverterFilter16
[11:43:08] ConverterFilter2
[11:43:08] ConverterFilter12
[11:43:08] OpticalDriver5
[11:43:08] ConverterFilter10
[11:43:08] The bad devices are: 
[11:43:08] ConverterFilter14
[11:43:08] ConverterFilter16
[11:43:08] ConverterFilter2
[11:43:08] ConverterFilter12
[11:43:08] OpticalDriver5
[11:43:08] ConverterFilter10
[11:43:08] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[11:43:08] BankH [400.0]
[11:43:08] BankC [400.0]
[11:43:08] BankB [400.0]
[11:43:08] BankA [400.0]
[11:43:08] BankG [400.0]
[11:43:08] BankF [400.0]
[11:43:08] BankE [400.0]
[11:43:08] BankD [400.0]
[11:43:08] Configuring for backend GUPPI...
[11:43:08] The bad devices are: 
[11:43:08] ConverterFilter14
[11:43:08] ConverterFilter16
[11:43:08] ConverterFilter2
[11:43:08] ConverterFilter12
[11:43:08] OpticalDriver5
[11:43:08] ConverterFilter10
[11:43:08] ConverterModule1
[11:43:08] ConverterModule5
[11:43:08] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[11:43:08] Waiting for  GUPPI to finish activating
[11:43:08] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[11:43:08]  Finalizing VEGAS config...
[11:43:08] Checking telescope
[11:43:08] Configuration Complete
[11:43:08] source : J1719-1438
               alias : 1719.0
               jname : J1719-1438
               location : J2000 @ (17:19:10.07, -14:38:00.90)
[11:43:08] Slewing to source.
[11:43:08] In state Activating, waiting for state Activating
[11:43:08] Detected state Activating
[11:43:08] In state Activating, waiting for state Ready
[11:43:35]     Setting State: Ready
[11:43:35] Detected state Ready
[11:43:35] Balancing IF system.
[11:43:35] Balancing IFRack
[11:43:36]     Setting State: Activating
[11:43:36]     Setting State: Ready
[11:43:37] the sampler values are:
[11:43:37] RF_power 1 : 0.8837891
[11:43:37] RF_power 2 : 0
[11:43:37] RF_power 3 : 0.9814453
[11:43:37] RF_power 4 : 0.009765625
[11:43:37] RF_power 5 : 0.0390625
[11:43:37] RF_power 6 : 0.009765625
[11:43:37] RF_power 7 : 0.004882812
[11:43:37] RF_power 8 : 0.01953125
[11:43:37] Balancing Guppi
[11:43:37]     Setting State: Activating
[11:43:37]     Setting State: Ready
[11:43:38]     Setting State: Activating
[11:43:38]     Setting State: Ready
[11:43:39]     Setting State: Activating
[11:43:39]     Setting State: Ready
[11:43:41] Filter 8 RF power =
[11:43:41] 2.5146484375
[11:43:41] Filter 4 RF power =
[11:43:41] 1.5478515625
[11:43:41]     Setting State: Activating
[11:43:41]     Setting State: Ready
[11:43:41]     Setting State: Activating
[11:43:41]     Setting State: Ready
[11:43:42] Balancing IF system.
[11:43:42] Balancing VEGAS
[11:43:42]     Setting State: Activating
[11:43:42]     Setting State: Ready
[11:43:43]     Setting State: Activating
[11:43:43]     Setting State: Ready
[11:43:43]     Setting State: Activating
[11:43:43]     Setting State: Ready
[11:43:44] 
[11:43:44] User queried: "Check GUPPI levels now. - Continue scheduling block?" waiting for reply...
[11:43:46] User replied: "Yes".
[11:43:46] Starting 'J1719-1438'
[11:43:46] /users/pdemores/tzpar/J1719-1438.par
[11:43:46] source : J1719-1438
               alias : 1719.0
               jname : J1719-1438
               location : J2000 @ (17:19:10.07, -14:38:00.90)
[11:43:47] Slewing to source.
[11:43:47] In state Ready, waiting for state Activating
[11:43:47]     Setting State: Activating
[11:43:47] Detected state Activating
[11:43:47] In state Activating, waiting for state Ready
[11:43:49]     Setting State: Ready
[11:43:49] Detected state Ready
[11:43:49] ############## HERE ##################
[11:43:49] 
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'

swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'

receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125

vegas.obsmode = 'coherent_cal'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
swmode = 'tp'
noisecal = 'lo'

[11:43:49] Configuring telescope.
[11:43:49]     Setting State: Activating
[11:44:26]     Setting State: Ready
[11:44:27]     Setting State: Activating
[11:44:28] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[11:44:28] Default values are
[11:44:28] nchan  =  512
[11:44:28] beam  =  B1
[11:44:28] dm  =  0
[11:44:28] if3freq  =  [0]
[11:44:28] subband  =  1
[11:44:28] polswitch  =  thru
[11:44:28] Configuring for backend VEGAS...
[11:44:28] The bad devices are: 
[11:44:28] ConverterFilter14
[11:44:28] ConverterFilter16
[11:44:28] ConverterFilter2
[11:44:28] ConverterFilter12
[11:44:28] OpticalDriver5
[11:44:28] ConverterFilter10
[11:44:28] The bad devices are: 
[11:44:28] ConverterFilter14
[11:44:28] ConverterFilter16
[11:44:28] ConverterFilter2
[11:44:28] ConverterFilter12
[11:44:28] OpticalDriver5
[11:44:28] ConverterFilter10
[11:44:28] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[11:44:28] BankH [400.0]
[11:44:28] BankC [400.0]
[11:44:28] BankB [400.0]
[11:44:28] BankA [400.0]
[11:44:28] BankG [400.0]
[11:44:28] BankF [400.0]
[11:44:28] BankE [400.0]
[11:44:28] BankD [400.0]
[11:44:28] Configuring for backend GUPPI...
[11:44:28] The bad devices are: 
[11:44:28] ConverterFilter14
[11:44:28] ConverterFilter16
[11:44:28] ConverterFilter2
[11:44:28] ConverterFilter12
[11:44:28] OpticalDriver5
[11:44:28] ConverterFilter10
[11:44:28] ConverterModule1
[11:44:28] ConverterModule5
[11:44:28] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[11:44:28] Waiting for  GUPPI to finish activating
[11:44:28] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[11:44:28]  Finalizing VEGAS config...
[11:44:28] Checking telescope
[11:44:28] Configuration Complete
[11:44:28] Balancing IF system.
[11:44:28] Balancing IFRack
[11:44:29]     Setting State: Ready
[11:44:30] the sampler values are:
[11:44:30] RF_power 1 : 0.9521484
[11:44:30] RF_power 2 : 0
[11:44:30] RF_power 3 : 1.09375
[11:44:30] RF_power 4 : 0.009765625
[11:44:30] RF_power 5 : 0.0390625
[11:44:30] RF_power 6 : 0.01464844
[11:44:30] RF_power 7 : 0.004882812
[11:44:30] RF_power 8 : 0.02441406
[11:44:31] source : J1719-1438
               alias : 1719.0
               jname : J1719-1438
               location : J2000 @ (17:19:10.07, -14:38:00.90)
[11:44:31] Track: Subscan 1 of 1
[11:44:32] In state Ready, waiting for state Running
[11:44:32]     Setting State: Activating
[11:44:32]     Setting State: Committed
[11:44:58]     Setting State: Running
[11:44:58] Detected state Running
[11:44:58] *** Notice: This subscan will be numbered as scan #25 in your data reduction package.
[11:44:58] In state Running, waiting for state Ready
[11:46:30]     Setting State: Stopping
[11:46:38]     Setting State: Ready
[11:46:38] Detected state Ready
[11:46:38] Ygor Telescope: WaitForStopping
[11:46:38] Configuring telescope.
[11:46:39]     Setting State: Activating
[11:47:16]     Setting State: Ready
[11:47:18]     Setting State: Activating
[11:47:19] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[11:47:19] Default values are
[11:47:19] nchan  =  512
[11:47:19] beam  =  B1
[11:47:19] dm  =  0
[11:47:19] if3freq  =  [0]
[11:47:19] subband  =  1
[11:47:19] polswitch  =  thru
[11:47:19] Configuring for backend VEGAS...
[11:47:19] The bad devices are: 
[11:47:19] ConverterFilter14
[11:47:19] ConverterFilter16
[11:47:19] ConverterFilter2
[11:47:19] ConverterFilter12
[11:47:19] OpticalDriver5
[11:47:19] ConverterFilter10
[11:47:19] The bad devices are: 
[11:47:19] ConverterFilter14
[11:47:19] ConverterFilter16
[11:47:19] ConverterFilter2
[11:47:19] ConverterFilter12
[11:47:19] OpticalDriver5
[11:47:19] ConverterFilter10
[11:47:19] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[11:47:19] BankH [400.0]
[11:47:19] BankC [400.0]
[11:47:19] BankB [400.0]
[11:47:19] BankA [400.0]
[11:47:19] BankG [400.0]
[11:47:19] BankF [400.0]
[11:47:19] BankE [400.0]
[11:47:19] BankD [400.0]
[11:47:19] Configuring for backend GUPPI...
[11:47:19] The bad devices are: 
[11:47:19] ConverterFilter14
[11:47:19] ConverterFilter16
[11:47:19] ConverterFilter2
[11:47:19] ConverterFilter12
[11:47:19] OpticalDriver5
[11:47:19] ConverterFilter10
[11:47:19] ConverterModule1
[11:47:19] ConverterModule5
[11:47:19] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[11:47:19] Waiting for  GUPPI to finish activating
[11:47:19] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[11:47:19]  Finalizing VEGAS config...
[11:47:19] Checking telescope
[11:47:19] Configuration Complete
[11:47:19] source : J1719-1438
               alias : 1719.0
               jname : J1719-1438
               location : J2000 @ (17:19:10.07, -14:38:00.90)
[11:47:19] Track: Subscan 1 of 1
[11:47:19] In state Activating, waiting for state Running
[11:47:20]     Setting State: Committed
[11:47:26]     Setting State: Running
[11:47:26] Detected state Running
[11:47:26] *** Notice: This subscan will be numbered as scan #26 in your data reduction package.
[11:47:26] In state Running, waiting for state Ready
[12:01:51]     Setting State: Stopping
[12:02:00]     Setting State: Ready
[12:02:00] Detected state Ready
[12:02:00] Ygor Telescope: WaitForStopping
[12:02:00] Starting 'J1730-2304'
[12:02:00] /users/pdemores/tzpar/J1730-2304.par
[12:02:00] source : J1730-2304
               alias : 1730.0
               jname : J1730-2304
               location : J2000 @ (17:30:21.67, -23:04:31.20)
[12:02:00] Slewing to source.
[12:02:00] In state Ready, waiting for state Activating
[12:02:00]     Setting State: Activating
[12:02:00] Detected state Activating
[12:02:00] In state Activating, waiting for state Ready
[12:02:42]     Setting State: Ready
[12:02:42] Detected state Ready
[12:02:42] ############## HERE ##################
[12:02:42] 
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'

swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'

receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125

vegas.obsmode = 'coherent_cal'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
swmode = 'tp'
noisecal = 'lo'

[12:02:42] Configuring telescope.
[12:02:42]     Setting State: Activating
[12:03:19]     Setting State: Ready
[12:03:21]     Setting State: Activating
[12:03:22] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[12:03:22] Default values are
[12:03:22] nchan  =  512
[12:03:22] beam  =  B1
[12:03:22] dm  =  0
[12:03:22] if3freq  =  [0]
[12:03:22] subband  =  1
[12:03:22] polswitch  =  thru
[12:03:22] Configuring for backend VEGAS...
[12:03:22] The bad devices are: 
[12:03:22] ConverterFilter14
[12:03:22] ConverterFilter16
[12:03:22] ConverterFilter2
[12:03:22] ConverterFilter12
[12:03:22] OpticalDriver5
[12:03:22] ConverterFilter10
[12:03:22] The bad devices are: 
[12:03:22] ConverterFilter14
[12:03:22] ConverterFilter16
[12:03:22] ConverterFilter2
[12:03:22] ConverterFilter12
[12:03:22] OpticalDriver5
[12:03:22] ConverterFilter10
[12:03:22] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[12:03:22] BankH [400.0]
[12:03:22] BankC [400.0]
[12:03:22] BankB [400.0]
[12:03:22] BankA [400.0]
[12:03:22] BankG [400.0]
[12:03:22] BankF [400.0]
[12:03:22] BankE [400.0]
[12:03:22] BankD [400.0]
[12:03:22] Configuring for backend GUPPI...
[12:03:22] The bad devices are: 
[12:03:22] ConverterFilter14
[12:03:22] ConverterFilter16
[12:03:22] ConverterFilter2
[12:03:22] ConverterFilter12
[12:03:22] OpticalDriver5
[12:03:22] ConverterFilter10
[12:03:22] ConverterModule1
[12:03:22] ConverterModule5
[12:03:22] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[12:03:22] Waiting for  GUPPI to finish activating
[12:03:22] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[12:03:22]  Finalizing VEGAS config...
[12:03:22] Checking telescope
[12:03:22] Configuration Complete
[12:03:22] Balancing IF system.
[12:03:22] Balancing IFRack
[12:03:24]     Setting State: Ready
[12:03:24] the sampler values are:
[12:03:24] RF_power 1 : 1.069336
[12:03:24] RF_power 2 : 0.004882812
[12:03:24] RF_power 3 : 0.9375
[12:03:24] RF_power 4 : 0.009765625
[12:03:24] RF_power 5 : 0.0390625
[12:03:24] RF_power 6 : 0.009765625
[12:03:24] RF_power 7 : 0.004882812
[12:03:24] RF_power 8 : 0.02441406
[12:03:25] source : J1730-2304
               alias : 1730.0
               jname : J1730-2304
               location : J2000 @ (17:30:21.67, -23:04:31.20)
[12:03:25] Track: Subscan 1 of 1
[12:03:26] In state Ready, waiting for state Running
[12:03:26]     Setting State: Activating
[12:03:26]     Setting State: Committed
[12:03:52]     Setting State: Running
[12:03:52] Detected state Running
[12:03:52] *** Notice: This subscan will be numbered as scan #27 in your data reduction package.
[12:03:52] In state Running, waiting for state Ready
[12:05:24]     Setting State: Stopping
[12:05:32]     Setting State: Ready
[12:05:32] Detected state Ready
[12:05:32] Ygor Telescope: WaitForStopping
[12:05:33] Configuring telescope.
[12:05:33]     Setting State: Activating
[12:06:11]     Setting State: Ready
[12:06:13]     Setting State: Activating
[12:06:14] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[12:06:14] Default values are
[12:06:14] nchan  =  512
[12:06:14] beam  =  B1
[12:06:14] dm  =  0
[12:06:14] if3freq  =  [0]
[12:06:14] subband  =  1
[12:06:14] polswitch  =  thru
[12:06:14] Configuring for backend VEGAS...
[12:06:14] The bad devices are: 
[12:06:14] ConverterFilter14
[12:06:14] ConverterFilter16
[12:06:14] ConverterFilter2
[12:06:14] ConverterFilter12
[12:06:14] OpticalDriver5
[12:06:14] ConverterFilter10
[12:06:14] The bad devices are: 
[12:06:14] ConverterFilter14
[12:06:14] ConverterFilter16
[12:06:14] ConverterFilter2
[12:06:14] ConverterFilter12
[12:06:14] OpticalDriver5
[12:06:14] ConverterFilter10
[12:06:14] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[12:06:14] BankH [400.0]
[12:06:14] BankC [400.0]
[12:06:14] BankB [400.0]
[12:06:14] BankA [400.0]
[12:06:14] BankG [400.0]
[12:06:14] BankF [400.0]
[12:06:14] BankE [400.0]
[12:06:14] BankD [400.0]
[12:06:14] Configuring for backend GUPPI...
[12:06:14] The bad devices are: 
[12:06:14] ConverterFilter14
[12:06:14] ConverterFilter16
[12:06:14] ConverterFilter2
[12:06:14] ConverterFilter12
[12:06:14] OpticalDriver5
[12:06:14] ConverterFilter10
[12:06:14] ConverterModule1
[12:06:14] ConverterModule5
[12:06:14] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[12:06:14] Waiting for  GUPPI to finish activating
[12:06:14] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[12:06:14]  Finalizing VEGAS config...
[12:06:14] Checking telescope
[12:06:14] Configuration Complete
[12:06:14] source : J1730-2304
               alias : 1730.0
               jname : J1730-2304
               location : J2000 @ (17:30:21.67, -23:04:31.20)
[12:06:14] Track: Subscan 1 of 1
[12:06:14] In state Activating, waiting for state Running
[12:06:15]     Setting State: Committed
[12:06:21]     Setting State: Running
[12:06:21] Detected state Running
[12:06:21] *** Notice: This subscan will be numbered as scan #28 in your data reduction package.
[12:06:21] In state Running, waiting for state Ready
[12:21:14]     Setting State: Stopping
[12:21:21]     Setting State: Ready
[12:21:21] Detected state Ready

[12:21:21] *** Notice: Scheduling block paused.
[12:21:23] *** Notice: Scheduling block resumed.

[12:21:23] Ygor Telescope: WaitForStopping
[12:21:23] 
[12:21:23] User queried: "Abort detected! Terminate block?" waiting for reply...
[12:21:24] User replied: "Yes".
[12:21:24] Exiting scheduling block.
runSuccessful: False
[12:21:24] ******** End Scheduling Block
[12:21:24] ******** observer = Ryan Lynch, SB name = nanograv_timing_vegas, project ID = AGBT18B_226

how much log? 19084 id: 241331self.history: <gbt.turtle.database.History.History instance at 0x4abd758>self.history.connection: <gbt.turtle.database.TurtleConnection.TurtleConnection instance at 0x4abd5f0>how much converted log? 19373 
#######################################################
 
 
#######################################################
 SCRIPT NUMBER 11, project:AGBT18B_226_208 
 241332 231 Ryan Lynch 7 Donna Stricklin 2020-02-26 12:29:00 obs_aborted 
#######################################################
# NANOGrav timing astrid block, 2012/02 PBD
# Modified for GUPPI + VEGAS, 2018/03 KS

# IMPORTANT!  Edit this to pick which band you're observing#
#band = '820'
band = 'L'
#band = 'S'

# IMPORTANT!  Edit this to pick which session you're observing
# All sources in the catalog will be observed in order, with the 
# remaining session time divided evenly between them. To 
# restart a interrupted session, first edit the catalog and comment
# out sources that have already been observed today.
srcs = Catalog("/users/pdemores/sched/18B226_2018_session_A.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_B.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_C.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_D.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_E.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_F.cat")
#Use personal catalog file, rather than editing Paul's files:
#srcs = Catalog("/users/amcewen/18B226_2018_session_C.cat")

# IMPORTANT!  Edit here to set the session's start/stop times in UTC!
# NOTES:
#  - start time does not need to be edited if the script is stopped/restarted.
#    it will always use the current time when running 'for real'.
#  - don't use any leading 0's in the values here, (leading 0 is code for
#    octal).
from mx import DateTime
# Function args are year, month, day, hour (24 hr), min, sec (UTC)
sess_start_time = DateTime.DateTime(2020,2,26,7,30,0) # UTC
sess_stop_time = DateTime.DateTime(2020,2,26,13,0,0) # UTC

# Use fixed start time rather than current time.
fix = False

############## You should not need to edit below this line ###########

execfile("/users/pdemores/config/astrid_utils.py")
#execfile("/users/pdemores/config/astrid_cals.py")

if Now() != None and not fix:
    print "Using current time for session start"
    sess_start_time = Now()
sess_len = float(sess_stop_time - sess_start_time) / 3600.0
print "Session time remaining = %.1fh" % sess_len

nsrc = len(srcs.keys())
print "nsrc = %d" % (nsrc)
time_per_src = sess_len / float(nsrc) # hours
print "time_per_src = %.1f min" % (time_per_src * 60.0)
stop_time = {}
start_time = {}
i = 0
for s in srcs.keys():
    stop_time[s] = sess_start_time + float(i+1) * time_per_src / 24.0
    start_time[s] = sess_start_time + float(i) * time_per_src / 24.0
    i += 1
    print "  Src '%s' start:%s, stop:%s" % (s, start_time[s], stop_time[s])

# Config items common to all obs
config_common = """
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'

swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'
"""

# Config items common to L-band obs
config_Lband_common="""
receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config items common to 820 obs
config_820_common="""
receiver = 'Rcvr_800'
restfreq = 820.0
bandwidth = 200
vegas.numchan = 128
vegas.polnmode = 'full_stokes'
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config items common to S-band obs
config_Sband_common="""
receiver = 'Rcvr2_3'
restfreq = 2000.0
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config for cal mode
config_cal = """
vegas.obsmode = 'coherent_cal'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
swmode = 'tp'
noisecal = 'lo'
"""

# Config for psr fold mode.
# Note the '%s' for parfile that needs to be filled in when using this.
config_psr = """
vegas.obsmode = 'coherent_fold'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
vegas.fold_parfile = '%s'
swmode = 'tp_nocal'
noisecal = 'off'
"""

# Check observing band
if (band == '820'):
   #config_common = config_common.replace("VEGAS/GUPPI","GUPPI")
   #config_common = config_common.replace("vegas","guppi")
   #config_820_common = config_820_common.replace("vegas.scale = 1015","")
   #config_820_common = config_820_common.replace("vegas","guppi")
   config0 = config_common + config_820_common
   #config_cal = config_cal.replace("vegas","guppi")
   #config_psr = config_psr.replace("vegas","guppi")
elif (band== 'L'):
   config0 = config_common + config_Lband_common
elif (band=='S'):
   config0 = config_common + config_Sband_common
else:
    Break("Invalid band ('%s') selected!" % band)

# Figure out what source to start on
#if start_src == None:
start_src = None

if True:
    cur_time = Now()
    for s in srcs.keys():
        if (cur_time < stop_time[s]):
            start_src = s
            break

# Initial slew, config, balance
print config0
print "First source: %s" % start_src
Configure(config0 + config_cal)
SetValues("DCR",{"state":"prepare"})
Slew(start_src)
Balance()
Balance("VEGAS")
# Note: use these for 820 recvr 2013/05/19
#Balance("IFRack")
#Balance("GUPPI")
Break("Check GUPPI levels now.")

# 2013/06/06 - route to vegas bank A for Glenn's stuff
#SetValues("ConverterRack",{"CMInput,1":"A"})
#SetValues("ConverterRack",{"CMInput,5":"A"})
#if (band=='820'):
#    SetValues("ConverterRack",{"Gfrequency,1":11068})
#elif (band=='L'):
#    #SetValues("ConverterRack",{"Gfrequency,1":13088})
#    SetValues("ConverterRack",{"Gfrequency,1":13288})
#SetValues("ConverterRack",{"CMAttenuator1":22.0})
#SetValues("ConverterRack",{"CMAttenuator5":22.0})
#SetValues("ConverterRack",{"CMOutput,1":3})
#SetValues("ConverterRack",{"CMOutput,5":3})
#SetValues("ConverterRack",{"state":"prepare"})

# Main observing loop
first=1
for s in srcs.keys():
    if (first and s!=start_src):
        continue
    first=0;
    print "Starting '%s'" % s
    alias = "%4.4d" % srcs[s]["alias"]
    parfile = "/users/pdemores/tzpar/%s.par" % s
    print parfile
    Slew(s)
    print "############## HERE ##################"
    print config0+config_cal
    Configure(config0 + config_cal)
    SetValues("DCR",{"state":"prepare"})
    Balance("IFRack")
    # Regular PSR observing
    Track(s, None, 90.0) # Cal scan
    Configure(config0 + config_psr % parfile)
    Track(s, None, stopTime=stop_time[s])

#######################################################
 LOG SESSION NUMBER 11 
[12:29:00] ******** Begin Scheduling Block
[12:29:00] ******** observer = Ryan Lynch, SB name = nanograv_timing_vegas, project ID = AGBT18B_226, date = 26 Feb 2020

[12:29:00] Using current time for session start
[12:29:00] Session time remaining = 0.5h
[12:29:00] nsrc = 2
[12:29:00] time_per_src = 15.5 min
[12:29:00]   Src 'J1744-1134' start:2020-02-26 12:29:00.55, stop:2020-02-26 12:44:30.28
[12:29:00]   Src 'J0740+6620' start:2020-02-26 12:44:30.28, stop:2020-02-26 13:00:00.00
[12:29:00] 
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'

swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'

receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125

[12:29:00] First source: J1744-1134
[12:29:00] Configuring telescope.
[12:29:00]     Setting State: Activating
[12:29:38]     Setting State: Ready
[12:29:39]     Setting State: Activating
[12:29:41] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[12:29:41] Default values are
[12:29:41] nchan  =  512
[12:29:41] beam  =  B1
[12:29:41] dm  =  0
[12:29:41] if3freq  =  [0]
[12:29:41] subband  =  1
[12:29:41] polswitch  =  thru
[12:29:41] Configuring for backend VEGAS...
[12:29:41] The bad devices are: 
[12:29:41] ConverterFilter14
[12:29:41] ConverterFilter16
[12:29:41] ConverterFilter2
[12:29:41] ConverterFilter12
[12:29:41] OpticalDriver5
[12:29:41] ConverterFilter10
[12:29:41] The bad devices are: 
[12:29:41] ConverterFilter14
[12:29:41] ConverterFilter16
[12:29:41] ConverterFilter2
[12:29:41] ConverterFilter12
[12:29:41] OpticalDriver5
[12:29:41] ConverterFilter10
[12:29:41] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[12:29:41] BankH [400.0]
[12:29:41] BankC [400.0]
[12:29:41] BankB [400.0]
[12:29:41] BankA [400.0]
[12:29:41] BankG [400.0]
[12:29:41] BankF [400.0]
[12:29:41] BankE [400.0]
[12:29:41] BankD [400.0]
[12:29:41] Configuring for backend GUPPI...
[12:29:41] The bad devices are: 
[12:29:41] ConverterFilter14
[12:29:41] ConverterFilter16
[12:29:41] ConverterFilter2
[12:29:41] ConverterFilter12
[12:29:41] OpticalDriver5
[12:29:41] ConverterFilter10
[12:29:41] ConverterModule1
[12:29:41] ConverterModule5
[12:29:41] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[12:29:41] Waiting for  GUPPI to finish activating
[12:29:41] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[12:29:41]  Finalizing VEGAS config...
[12:29:41] Checking telescope
[12:29:41] Configuration Complete
[12:29:41] source : J1744-1134
               alias : 1744.0
               jname : J1744-1134
               location : J2000 @ (17:44:29.40, -11:34:54.60)
[12:29:41] Slewing to source.
[12:29:41] In state Activating, waiting for state Activating
[12:29:41] Detected state Activating
[12:29:41] In state Activating, waiting for state Ready
[12:30:32]     Setting State: Ready
[12:30:32] Detected state Ready
[12:30:32] Balancing IF system.
[12:30:32] Balancing IFRack
[12:30:32]     Setting State: Activating
[12:30:32]     Setting State: Ready
[12:30:34] the sampler values are:
[12:30:34] RF_power 1 : 0.9765625
[12:30:34] RF_power 2 : 0
[12:30:34] RF_power 3 : 0.9228516
[12:30:34] RF_power 4 : 0.004882812
[12:30:34] RF_power 5 : 0.0390625
[12:30:34] RF_power 6 : 0.009765625
[12:30:34] RF_power 7 : 0.004882812
[12:30:34] RF_power 8 : 0.01953125
[12:30:34] Balancing Guppi
[12:30:34]     Setting State: Activating
[12:30:34]     Setting State: Ready
[12:30:35]     Setting State: Activating
[12:30:35]     Setting State: Ready
[12:30:36]     Setting State: Activating
[12:30:36]     Setting State: Ready
[12:30:37]     Setting State: Activating
[12:30:37]     Setting State: Ready
[12:30:39] Filter 8 RF power =
[12:30:39] 2.7001953125
[12:30:39] Filter 4 RF power =
[12:30:39] 1.5869140625
[12:30:39]     Setting State: Activating
[12:30:39]     Setting State: Ready
[12:30:39]     Setting State: Activating
[12:30:39]     Setting State: Ready
[12:30:40] Balancing IF system.
[12:30:40] Balancing VEGAS
[12:30:40]     Setting State: Activating
[12:30:40]     Setting State: Ready
[12:30:41]     Setting State: Activating
[12:30:41]     Setting State: Ready
[12:30:41]     Setting State: Activating
[12:30:41]     Setting State: Ready
[12:30:42] 
[12:30:42] User queried: "Check GUPPI levels now. - Continue scheduling block?" waiting for reply...
[12:30:45] User replied: "Yes".
[12:30:45] Starting 'J1744-1134'
[12:30:45] /users/pdemores/tzpar/J1744-1134.par
[12:30:45] source : J1744-1134
               alias : 1744.0
               jname : J1744-1134
               location : J2000 @ (17:44:29.40, -11:34:54.60)
[12:30:45] Slewing to source.
[12:30:45] In state Ready, waiting for state Activating
[12:30:45]     Setting State: Activating
[12:30:45] Detected state Activating
[12:30:45] In state Activating, waiting for state Ready
[12:30:47]     Setting State: Ready
[12:30:47] Detected state Ready
[12:30:47] ############## HERE ##################
[12:30:47] 
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'

swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'

receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125

vegas.obsmode = 'coherent_cal'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
swmode = 'tp'
noisecal = 'lo'

[12:30:47] Configuring telescope.
[12:30:47]     Setting State: Activating
[12:31:24]     Setting State: Ready
[12:31:26]     Setting State: Activating
[12:31:27] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[12:31:27] Default values are
[12:31:27] nchan  =  512
[12:31:27] beam  =  B1
[12:31:27] dm  =  0
[12:31:27] if3freq  =  [0]
[12:31:27] subband  =  1
[12:31:27] polswitch  =  thru
[12:31:27] Configuring for backend VEGAS...
[12:31:27] The bad devices are: 
[12:31:27] ConverterFilter14
[12:31:27] ConverterFilter16
[12:31:27] ConverterFilter2
[12:31:27] ConverterFilter12
[12:31:27] OpticalDriver5
[12:31:27] ConverterFilter10
[12:31:27] The bad devices are: 
[12:31:27] ConverterFilter14
[12:31:27] ConverterFilter16
[12:31:27] ConverterFilter2
[12:31:27] ConverterFilter12
[12:31:27] OpticalDriver5
[12:31:27] ConverterFilter10
[12:31:27] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[12:31:27] BankH [400.0]
[12:31:27] BankC [400.0]
[12:31:27] BankB [400.0]
[12:31:27] BankA [400.0]
[12:31:27] BankG [400.0]
[12:31:27] BankF [400.0]
[12:31:27] BankE [400.0]
[12:31:27] BankD [400.0]
[12:31:27] Configuring for backend GUPPI...
[12:31:27] The bad devices are: 
[12:31:27] ConverterFilter14
[12:31:27] ConverterFilter16
[12:31:27] ConverterFilter2
[12:31:27] ConverterFilter12
[12:31:27] OpticalDriver5
[12:31:27] ConverterFilter10
[12:31:27] ConverterModule1
[12:31:27] ConverterModule5
[12:31:27] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[12:31:27] Waiting for  GUPPI to finish activating
[12:31:27] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[12:31:27]  Finalizing VEGAS config...
[12:31:27] Checking telescope
[12:31:27] Configuration Complete
[12:31:27] Balancing IF system.
[12:31:27] Balancing IFRack
[12:31:29]     Setting State: Ready
[12:31:29] the sampler values are:
[12:31:29] RF_power 1 : 0.9033203
[12:31:29] RF_power 2 : 0
[12:31:29] RF_power 3 : 0.8642578
[12:31:29] RF_power 4 : 0.009765625
[12:31:29] RF_power 5 : 0.0390625
[12:31:29] RF_power 6 : 0.01953125
[12:31:29] RF_power 7 : 0.004882812
[12:31:29] RF_power 8 : 0.02441406
[12:31:30] source : J1744-1134
               alias : 1744.0
               jname : J1744-1134
               location : J2000 @ (17:44:29.40, -11:34:54.60)
[12:31:30] Track: Subscan 1 of 1
[12:31:30] In state Ready, waiting for state Running
[12:31:30]     Setting State: Activating
[12:31:30]     Setting State: Committed
[12:31:57]     Setting State: Running
[12:31:57] Detected state Running
[12:31:57] *** Notice: This subscan will be numbered as scan #29 in your data reduction package.
[12:31:57] In state Running, waiting for state Ready
[12:33:29]     Setting State: Stopping
[12:33:37]     Setting State: Ready
[12:33:37] Detected state Ready
[12:33:37] Ygor Telescope: WaitForStopping
[12:33:37] Configuring telescope.
[12:33:37]     Setting State: Activating
[12:34:15]     Setting State: Ready
[12:34:17]     Setting State: Activating
[12:34:18] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[12:34:18] Default values are
[12:34:18] nchan  =  512
[12:34:18] beam  =  B1
[12:34:18] dm  =  0
[12:34:18] if3freq  =  [0]
[12:34:18] subband  =  1
[12:34:18] polswitch  =  thru
[12:34:18] Configuring for backend VEGAS...
[12:34:18] The bad devices are: 
[12:34:18] ConverterFilter14
[12:34:18] ConverterFilter16
[12:34:18] ConverterFilter2
[12:34:18] ConverterFilter12
[12:34:18] OpticalDriver5
[12:34:18] ConverterFilter10
[12:34:18] The bad devices are: 
[12:34:18] ConverterFilter14
[12:34:18] ConverterFilter16
[12:34:18] ConverterFilter2
[12:34:18] ConverterFilter12
[12:34:18] OpticalDriver5
[12:34:18] ConverterFilter10
[12:34:18] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[12:34:18] BankH [400.0]
[12:34:18] BankC [400.0]
[12:34:18] BankB [400.0]
[12:34:18] BankA [400.0]
[12:34:18] BankG [400.0]
[12:34:18] BankF [400.0]
[12:34:18] BankE [400.0]
[12:34:18] BankD [400.0]
[12:34:18] Configuring for backend GUPPI...
[12:34:18] The bad devices are: 
[12:34:18] ConverterFilter14
[12:34:18] ConverterFilter16
[12:34:18] ConverterFilter2
[12:34:18] ConverterFilter12
[12:34:18] OpticalDriver5
[12:34:18] ConverterFilter10
[12:34:18] ConverterModule1
[12:34:18] ConverterModule5
[12:34:18] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[12:34:18] Waiting for  GUPPI to finish activating
[12:34:18] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[12:34:18]  Finalizing VEGAS config...
[12:34:18] Checking telescope
[12:34:18] Configuration Complete
[12:34:18] source : J1744-1134
               alias : 1744.0
               jname : J1744-1134
               location : J2000 @ (17:44:29.40, -11:34:54.60)
[12:34:18] Track: Subscan 1 of 1
[12:34:18] In state Activating, waiting for state Running
[12:34:19]     Setting State: Committed
[12:34:24]     Setting State: Running
[12:34:24] Detected state Running
[12:34:24] *** Notice: This subscan will be numbered as scan #30 in your data reduction package.
[12:34:24] In state Running, waiting for state Ready
[12:34:27]     Setting State: Aborting
[12:34:27] ygor.Telescope: RuntimeError msg: Abort detected!
[12:34:27] ygor.Telescope: WaitForRunning: Asking abort confirmation.
[12:34:27] 
[12:34:27] User queried: "Abort detected! Terminate block?" waiting for reply...
[12:34:31] User replied: "Yes".
[12:34:31] Exiting scheduling block.
[12:34:31]     Setting State: Ready
runSuccessful: False
[12:34:31] ******** End Scheduling Block
[12:34:31] ******** observer = Ryan Lynch, SB name = nanograv_timing_vegas, project ID = AGBT18B_226

how much log? 12090 id: 241332self.history: <gbt.turtle.database.History.History instance at 0x4abd758>self.history.connection: <gbt.turtle.database.TurtleConnection.TurtleConnection instance at 0x4abd5f0>how much converted log? 12347 
#######################################################
 
 
#######################################################
 SCRIPT NUMBER 12, project:AGBT18B_226_208 
 241333 231 Ryan Lynch 7 Donna Stricklin 2020-02-26 12:35:29 obs_aborted 
#######################################################
# NANOGrav timing astrid block, 2012/02 PBD
# Modified for GUPPI + VEGAS, 2018/03 KS

# IMPORTANT!  Edit this to pick which band you're observing#
#band = '820'
band = 'L'
#band = 'S'

# IMPORTANT!  Edit this to pick which session you're observing
# All sources in the catalog will be observed in order, with the 
# remaining session time divided evenly between them. To 
# restart a interrupted session, first edit the catalog and comment
# out sources that have already been observed today.
srcs = Catalog("/users/pdemores/sched/18B226_2018_session_A.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_B.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_C.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_D.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_E.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_F.cat")
#Use personal catalog file, rather than editing Paul's files:
#srcs = Catalog("/users/amcewen/18B226_2018_session_C.cat")

# IMPORTANT!  Edit here to set the session's start/stop times in UTC!
# NOTES:
#  - start time does not need to be edited if the script is stopped/restarted.
#    it will always use the current time when running 'for real'.
#  - don't use any leading 0's in the values here, (leading 0 is code for
#    octal).
from mx import DateTime
# Function args are year, month, day, hour (24 hr), min, sec (UTC)
sess_start_time = DateTime.DateTime(2020,2,26,7,30,0) # UTC
sess_stop_time = DateTime.DateTime(2020,2,26,13,0,0) # UTC

# Use fixed start time rather than current time.
fix = False

############## You should not need to edit below this line ###########

execfile("/users/pdemores/config/astrid_utils.py")
#execfile("/users/pdemores/config/astrid_cals.py")

if Now() != None and not fix:
    print "Using current time for session start"
    sess_start_time = Now()
sess_len = float(sess_stop_time - sess_start_time) / 3600.0
print "Session time remaining = %.1fh" % sess_len

nsrc = len(srcs.keys())
print "nsrc = %d" % (nsrc)
time_per_src = sess_len / float(nsrc) # hours
print "time_per_src = %.1f min" % (time_per_src * 60.0)
stop_time = {}
start_time = {}
i = 0
for s in srcs.keys():
    stop_time[s] = sess_start_time + float(i+1) * time_per_src / 24.0
    start_time[s] = sess_start_time + float(i) * time_per_src / 24.0
    i += 1
    print "  Src '%s' start:%s, stop:%s" % (s, start_time[s], stop_time[s])

# Config items common to all obs
config_common = """
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'

swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'
"""

# Config items common to L-band obs
config_Lband_common="""
receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config items common to 820 obs
config_820_common="""
receiver = 'Rcvr_800'
restfreq = 820.0
bandwidth = 200
vegas.numchan = 128
vegas.polnmode = 'full_stokes'
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config items common to S-band obs
config_Sband_common="""
receiver = 'Rcvr2_3'
restfreq = 2000.0
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config for cal mode
config_cal = """
vegas.obsmode = 'coherent_cal'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
swmode = 'tp'
noisecal = 'lo'
"""

# Config for psr fold mode.
# Note the '%s' for parfile that needs to be filled in when using this.
config_psr = """
vegas.obsmode = 'coherent_fold'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
vegas.fold_parfile = '%s'
swmode = 'tp_nocal'
noisecal = 'off'
"""

# Check observing band
if (band == '820'):
   #config_common = config_common.replace("VEGAS/GUPPI","GUPPI")
   #config_common = config_common.replace("vegas","guppi")
   #config_820_common = config_820_common.replace("vegas.scale = 1015","")
   #config_820_common = config_820_common.replace("vegas","guppi")
   config0 = config_common + config_820_common
   #config_cal = config_cal.replace("vegas","guppi")
   #config_psr = config_psr.replace("vegas","guppi")
elif (band== 'L'):
   config0 = config_common + config_Lband_common
elif (band=='S'):
   config0 = config_common + config_Sband_common
else:
    Break("Invalid band ('%s') selected!" % band)

# Figure out what source to start on
#if start_src == None:
start_src = None

if True:
    cur_time = Now()
    for s in srcs.keys():
        if (cur_time < stop_time[s]):
            start_src = s
            break

# Initial slew, config, balance
print config0
print "First source: %s" % start_src
Configure(config0 + config_cal)
SetValues("DCR",{"state":"prepare"})
Slew(start_src)
Balance()
Balance("VEGAS")
# Note: use these for 820 recvr 2013/05/19
#Balance("IFRack")
#Balance("GUPPI")
Break("Check GUPPI levels now.")

# 2013/06/06 - route to vegas bank A for Glenn's stuff
#SetValues("ConverterRack",{"CMInput,1":"A"})
#SetValues("ConverterRack",{"CMInput,5":"A"})
#if (band=='820'):
#    SetValues("ConverterRack",{"Gfrequency,1":11068})
#elif (band=='L'):
#    #SetValues("ConverterRack",{"Gfrequency,1":13088})
#    SetValues("ConverterRack",{"Gfrequency,1":13288})
#SetValues("ConverterRack",{"CMAttenuator1":22.0})
#SetValues("ConverterRack",{"CMAttenuator5":22.0})
#SetValues("ConverterRack",{"CMOutput,1":3})
#SetValues("ConverterRack",{"CMOutput,5":3})
#SetValues("ConverterRack",{"state":"prepare"})

# Main observing loop
first=1
for s in srcs.keys():
    if (first and s!=start_src):
        continue
    first=0;
    print "Starting '%s'" % s
    alias = "%4.4d" % srcs[s]["alias"]
    parfile = "/users/pdemores/tzpar/%s.par" % s
    print parfile
    Slew(s)
    print "############## HERE ##################"
    print config0+config_cal
    Configure(config0 + config_cal)
    SetValues("DCR",{"state":"prepare"})
    Balance("IFRack")
    # Regular PSR observing
    Track(s, None, 90.0) # Cal scan
    Configure(config0 + config_psr % parfile)
    Track(s, None, stopTime=stop_time[s])

#######################################################
 LOG SESSION NUMBER 12 
[12:35:30] ******** Begin Scheduling Block
[12:35:30] ******** observer = Ryan Lynch, SB name = nanograv_timing_vegas, project ID = AGBT18B_226, date = 26 Feb 2020

[12:35:30] Using current time for session start
[12:35:30] Session time remaining = 0.4h
[12:35:30] nsrc = 2
[12:35:30] time_per_src = 12.2 min
[12:35:30]   Src 'J1744-1134' start:2020-02-26 12:35:30.11, stop:2020-02-26 12:47:45.06
[12:35:30]   Src 'J0740+6620' start:2020-02-26 12:47:45.06, stop:2020-02-26 13:00:00.00
[12:35:30] 
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'

swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'

receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125

[12:35:30] First source: J1744-1134
[12:35:31] Configuring telescope.
[12:35:31]     Setting State: Activating
[12:36:08]     Setting State: Ready
[12:36:10]     Setting State: Activating
[12:36:11] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[12:36:11] Default values are
[12:36:11] nchan  =  512
[12:36:11] beam  =  B1
[12:36:11] dm  =  0
[12:36:11] if3freq  =  [0]
[12:36:11] subband  =  1
[12:36:11] polswitch  =  thru
[12:36:11] Configuring for backend VEGAS...
[12:36:11] The bad devices are: 
[12:36:11] ConverterFilter14
[12:36:11] ConverterFilter16
[12:36:11] ConverterFilter2
[12:36:11] ConverterFilter12
[12:36:11] OpticalDriver5
[12:36:11] ConverterFilter10
[12:36:11] The bad devices are: 
[12:36:11] ConverterFilter14
[12:36:11] ConverterFilter16
[12:36:11] ConverterFilter2
[12:36:11] ConverterFilter12
[12:36:11] OpticalDriver5
[12:36:11] ConverterFilter10
[12:36:11] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[12:36:11] BankH [400.0]
[12:36:11] BankC [400.0]
[12:36:11] BankB [400.0]
[12:36:11] BankA [400.0]
[12:36:11] BankG [400.0]
[12:36:11] BankF [400.0]
[12:36:11] BankE [400.0]
[12:36:11] BankD [400.0]
[12:36:11] Configuring for backend GUPPI...
[12:36:11] The bad devices are: 
[12:36:11] ConverterFilter14
[12:36:11] ConverterFilter16
[12:36:11] ConverterFilter2
[12:36:11] ConverterFilter12
[12:36:11] OpticalDriver5
[12:36:11] ConverterFilter10
[12:36:11] ConverterModule1
[12:36:11] ConverterModule5
[12:36:11] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[12:36:11] Waiting for  GUPPI to finish activating
[12:36:11] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[12:36:11]  Finalizing VEGAS config...
[12:36:11] Checking telescope
[12:36:11] Configuration Complete
[12:36:11] source : J1744-1134
               alias : 1744.0
               jname : J1744-1134
               location : J2000 @ (17:44:29.40, -11:34:54.60)
[12:36:11] Slewing to source.
[12:36:11] In state Activating, waiting for state Activating
[12:36:11] Detected state Activating
[12:36:11] In state Activating, waiting for state Ready
[12:36:22]     Setting State: Ready
[12:36:22] Detected state Ready
[12:36:22] Balancing IF system.
[12:36:22] Balancing IFRack
[12:36:22]     Setting State: Activating
[12:36:22]     Setting State: Ready
[12:36:24] the sampler values are:
[12:36:24] RF_power 1 : 1.000977
[12:36:24] RF_power 2 : 0
[12:36:24] RF_power 3 : 0.9179688
[12:36:24] RF_power 4 : 0.009765625
[12:36:24] RF_power 5 : 0.04394531
[12:36:24] RF_power 6 : 0.01464844
[12:36:24] RF_power 7 : 0
[12:36:24] RF_power 8 : 0.02441406
[12:36:24] Balancing Guppi
[12:36:24]     Setting State: Activating
[12:36:24]     Setting State: Ready
[12:36:24]     Setting State: Activating
[12:36:24]     Setting State: Ready
[12:36:25] Filter 8 RF power =
[12:36:25] 2.7978515625
[12:36:25] Filter 4 RF power =
[12:36:25] 1.6796875
[12:36:25]     Setting State: Activating
[12:36:25]     Setting State: Ready
[12:36:25]     Setting State: Activating
[12:36:25]     Setting State: Ready
[12:36:26] Balancing IF system.
[12:36:26] Balancing VEGAS
[12:36:26]     Setting State: Activating
[12:36:26]     Setting State: Ready
[12:36:27]     Setting State: Activating
[12:36:27]     Setting State: Ready
[12:36:27]     Setting State: Activating
[12:36:27]     Setting State: Ready
[12:36:28] 
[12:36:28] User queried: "Check GUPPI levels now. - Continue scheduling block?" waiting for reply...
[12:36:30] User replied: "Yes".
[12:36:30] Starting 'J1744-1134'
[12:36:30] /users/pdemores/tzpar/J1744-1134.par
[12:36:30] source : J1744-1134
               alias : 1744.0
               jname : J1744-1134
               location : J2000 @ (17:44:29.40, -11:34:54.60)
[12:36:30] Slewing to source.
[12:36:30] In state Ready, waiting for state Activating
[12:36:30]     Setting State: Activating
[12:36:30] Detected state Activating
[12:36:30] In state Activating, waiting for state Ready
[12:36:32]     Setting State: Ready
[12:36:32] Detected state Ready
[12:36:32] ############## HERE ##################
[12:36:32] 
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'

swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'

receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125

vegas.obsmode = 'coherent_cal'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
swmode = 'tp'
noisecal = 'lo'

[12:36:32] Configuring telescope.
[12:36:33]     Setting State: Activating
[12:37:10]     Setting State: Ready
[12:37:12]     Setting State: Activating
[12:37:13] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[12:37:13] Default values are
[12:37:13] nchan  =  512
[12:37:13] beam  =  B1
[12:37:13] dm  =  0
[12:37:13] if3freq  =  [0]
[12:37:13] subband  =  1
[12:37:13] polswitch  =  thru
[12:37:13] Configuring for backend VEGAS...
[12:37:13] The bad devices are: 
[12:37:13] ConverterFilter14
[12:37:13] ConverterFilter16
[12:37:13] ConverterFilter2
[12:37:13] ConverterFilter12
[12:37:13] OpticalDriver5
[12:37:13] ConverterFilter10
[12:37:13] The bad devices are: 
[12:37:13] ConverterFilter14
[12:37:13] ConverterFilter16
[12:37:13] ConverterFilter2
[12:37:13] ConverterFilter12
[12:37:13] OpticalDriver5
[12:37:13] ConverterFilter10
[12:37:13] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[12:37:13] BankH [400.0]
[12:37:13] BankC [400.0]
[12:37:13] BankB [400.0]
[12:37:13] BankA [400.0]
[12:37:13] BankG [400.0]
[12:37:13] BankF [400.0]
[12:37:13] BankE [400.0]
[12:37:13] BankD [400.0]
[12:37:13] Configuring for backend GUPPI...
[12:37:13] The bad devices are: 
[12:37:13] ConverterFilter14
[12:37:13] ConverterFilter16
[12:37:13] ConverterFilter2
[12:37:13] ConverterFilter12
[12:37:13] OpticalDriver5
[12:37:13] ConverterFilter10
[12:37:13] ConverterModule1
[12:37:13] ConverterModule5
[12:37:13] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[12:37:13] Waiting for  GUPPI to finish activating
[12:37:13] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[12:37:13]  Finalizing VEGAS config...
[12:37:13] Checking telescope
[12:37:13] Configuration Complete
[12:37:13] Balancing IF system.
[12:37:13] Balancing IFRack
[12:37:14]     Setting State: Ready
[12:37:15] the sampler values are:
[12:37:15] RF_power 1 : 1.005859
[12:37:15] RF_power 2 : 0
[12:37:15] RF_power 3 : 0.9228516
[12:37:15] RF_power 4 : 0.009765625
[12:37:15] RF_power 5 : 0.03417969
[12:37:15] RF_power 6 : 0.01464844
[12:37:15] RF_power 7 : 0.004882812
[12:37:15] RF_power 8 : 0.02441406
[12:37:16] source : J1744-1134
               alias : 1744.0
               jname : J1744-1134
               location : J2000 @ (17:44:29.40, -11:34:54.60)
[12:37:16] Track: Subscan 1 of 1
[12:37:16] In state Ready, waiting for state Running
[12:37:16]     Setting State: Activating
[12:37:17]     Setting State: Committed
[12:37:43]     Setting State: Running
[12:37:43] Detected state Running
[12:37:43] *** Notice: This subscan will be numbered as scan #31 in your data reduction package.
[12:37:43] In state Running, waiting for state Ready
[12:39:15]     Setting State: Stopping
[12:39:23]     Setting State: Ready
[12:39:23] Detected state Ready
[12:39:23] Ygor Telescope: WaitForStopping
[12:39:23] Configuring telescope.
[12:39:23]     Setting State: Activating
[12:40:01]     Setting State: Ready
[12:40:03]     Setting State: Activating
[12:40:04] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[12:40:04] Default values are
[12:40:04] nchan  =  512
[12:40:04] beam  =  B1
[12:40:04] dm  =  0
[12:40:04] if3freq  =  [0]
[12:40:04] subband  =  1
[12:40:04] polswitch  =  thru
[12:40:04] Configuring for backend VEGAS...
[12:40:04] The bad devices are: 
[12:40:04] ConverterFilter14
[12:40:04] ConverterFilter16
[12:40:04] ConverterFilter2
[12:40:04] ConverterFilter12
[12:40:04] OpticalDriver5
[12:40:04] ConverterFilter10
[12:40:04] The bad devices are: 
[12:40:04] ConverterFilter14
[12:40:04] ConverterFilter16
[12:40:04] ConverterFilter2
[12:40:04] ConverterFilter12
[12:40:04] OpticalDriver5
[12:40:04] ConverterFilter10
[12:40:04] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[12:40:04] BankH [400.0]
[12:40:04] BankC [400.0]
[12:40:04] BankB [400.0]
[12:40:04] BankA [400.0]
[12:40:04] BankG [400.0]
[12:40:04] BankF [400.0]
[12:40:04] BankE [400.0]
[12:40:04] BankD [400.0]
[12:40:04] Configuring for backend GUPPI...
[12:40:04] The bad devices are: 
[12:40:04] ConverterFilter14
[12:40:04] ConverterFilter16
[12:40:04] ConverterFilter2
[12:40:04] ConverterFilter12
[12:40:04] OpticalDriver5
[12:40:04] ConverterFilter10
[12:40:04] ConverterModule1
[12:40:04] ConverterModule5
[12:40:04] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[12:40:04] Waiting for  GUPPI to finish activating
[12:40:04] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[12:40:04]  Finalizing VEGAS config...
[12:40:04] Checking telescope
[12:40:04] Configuration Complete
[12:40:04] source : J1744-1134
               alias : 1744.0
               jname : J1744-1134
               location : J2000 @ (17:44:29.40, -11:34:54.60)
[12:40:04] Track: Subscan 1 of 1
[12:40:04] In state Activating, waiting for state Running
[12:40:05]     Setting State: Committed
[12:40:11]     Setting State: Running
[12:40:11] Detected state Running
[12:40:11] *** Notice: This subscan will be numbered as scan #32 in your data reduction package.
[12:40:11] In state Running, waiting for state Ready
[12:40:14]     Setting State: Aborting
[12:40:14] ygor.Telescope: RuntimeError msg: Abort detected!
[12:40:14] ygor.Telescope: WaitForRunning: Asking abort confirmation.
[12:40:14] 
[12:40:14] User queried: "Abort detected! Terminate block?" waiting for reply...
[12:40:18] User replied: "Yes".
[12:40:18] Exiting scheduling block.
runSuccessful: False[12:40:18]     Setting State: Ready

[12:40:18] ******** End Scheduling Block
[12:40:18] ******** observer = Ryan Lynch, SB name = nanograv_timing_vegas, project ID = AGBT18B_226

how much log? 11922 id: 241333self.history: <gbt.turtle.database.History.History instance at 0x4abd758>self.history.connection: <gbt.turtle.database.TurtleConnection.TurtleConnection instance at 0x4abd5f0>how much converted log? 12179 
#######################################################
 
 
#######################################################
 SCRIPT NUMBER 13, project:AGBT18B_226_208 
 241334 231 Ryan Lynch 7 Donna Stricklin 2020-02-26 12:42:45 obs_aborted 
#######################################################
# NANOGrav timing astrid block, 2012/02 PBD
# Modified for GUPPI + VEGAS, 2018/03 KS

# IMPORTANT!  Edit this to pick which band you're observing#
#band = '820'
band = 'L'
#band = 'S'

# IMPORTANT!  Edit this to pick which session you're observing
# All sources in the catalog will be observed in order, with the 
# remaining session time divided evenly between them. To 
# restart a interrupted session, first edit the catalog and comment
# out sources that have already been observed today.
srcs = Catalog("/users/pdemores/sched/18B226_2018_session_A.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_B.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_C.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_D.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_E.cat")
#srcs = Catalog("/users/pdemores/sched/18B226_2018_session_F.cat")
#Use personal catalog file, rather than editing Paul's files:
#srcs = Catalog("/users/amcewen/18B226_2018_session_C.cat")

# IMPORTANT!  Edit here to set the session's start/stop times in UTC!
# NOTES:
#  - start time does not need to be edited if the script is stopped/restarted.
#    it will always use the current time when running 'for real'.
#  - don't use any leading 0's in the values here, (leading 0 is code for
#    octal).
from mx import DateTime
# Function args are year, month, day, hour (24 hr), min, sec (UTC)
sess_start_time = DateTime.DateTime(2020,2,26,7,30,0) # UTC
sess_stop_time = DateTime.DateTime(2020,2,26,13,0,0) # UTC

# Use fixed start time rather than current time.
fix = False

############## You should not need to edit below this line ###########

execfile("/users/pdemores/config/astrid_utils.py")
#execfile("/users/pdemores/config/astrid_cals.py")

if Now() != None and not fix:
    print "Using current time for session start"
    sess_start_time = Now()
sess_len = float(sess_stop_time - sess_start_time) / 3600.0
print "Session time remaining = %.1fh" % sess_len

nsrc = len(srcs.keys())
print "nsrc = %d" % (nsrc)
time_per_src = sess_len / float(nsrc) # hours
print "time_per_src = %.1f min" % (time_per_src * 60.0)
stop_time = {}
start_time = {}
i = 0
for s in srcs.keys():
    stop_time[s] = sess_start_time + float(i+1) * time_per_src / 24.0
    start_time[s] = sess_start_time + float(i) * time_per_src / 24.0
    i += 1
    print "  Src '%s' start:%s, stop:%s" % (s, start_time[s], stop_time[s])

# Config items common to all obs
config_common = """
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'

swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'
"""

# Config items common to L-band obs
config_Lband_common="""
receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config items common to 820 obs
config_820_common="""
receiver = 'Rcvr_800'
restfreq = 820.0
bandwidth = 200
vegas.numchan = 128
vegas.polnmode = 'full_stokes'
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config items common to S-band obs
config_Sband_common="""
receiver = 'Rcvr2_3'
restfreq = 2000.0
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125
"""

# Config for cal mode
config_cal = """
vegas.obsmode = 'coherent_cal'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
swmode = 'tp'
noisecal = 'lo'
"""

# Config for psr fold mode.
# Note the '%s' for parfile that needs to be filled in when using this.
config_psr = """
vegas.obsmode = 'coherent_fold'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
vegas.fold_parfile = '%s'
swmode = 'tp_nocal'
noisecal = 'off'
"""

# Check observing band
if (band == '820'):
   #config_common = config_common.replace("VEGAS/GUPPI","GUPPI")
   #config_common = config_common.replace("vegas","guppi")
   #config_820_common = config_820_common.replace("vegas.scale = 1015","")
   #config_820_common = config_820_common.replace("vegas","guppi")
   config0 = config_common + config_820_common
   #config_cal = config_cal.replace("vegas","guppi")
   #config_psr = config_psr.replace("vegas","guppi")
elif (band== 'L'):
   config0 = config_common + config_Lband_common
elif (band=='S'):
   config0 = config_common + config_Sband_common
else:
    Break("Invalid band ('%s') selected!" % band)

# Figure out what source to start on
#if start_src == None:
start_src = None

if True:
    cur_time = Now()
    for s in srcs.keys():
        if (cur_time < stop_time[s]):
            start_src = s
            break

# Initial slew, config, balance
print config0
print "First source: %s" % start_src
Configure(config0 + config_cal)
SetValues("DCR",{"state":"prepare"})
Slew(start_src)
Balance()
Balance("VEGAS")
# Note: use these for 820 recvr 2013/05/19
#Balance("IFRack")
#Balance("GUPPI")
Break("Check GUPPI levels now.")

# 2013/06/06 - route to vegas bank A for Glenn's stuff
#SetValues("ConverterRack",{"CMInput,1":"A"})
#SetValues("ConverterRack",{"CMInput,5":"A"})
#if (band=='820'):
#    SetValues("ConverterRack",{"Gfrequency,1":11068})
#elif (band=='L'):
#    #SetValues("ConverterRack",{"Gfrequency,1":13088})
#    SetValues("ConverterRack",{"Gfrequency,1":13288})
#SetValues("ConverterRack",{"CMAttenuator1":22.0})
#SetValues("ConverterRack",{"CMAttenuator5":22.0})
#SetValues("ConverterRack",{"CMOutput,1":3})
#SetValues("ConverterRack",{"CMOutput,5":3})
#SetValues("ConverterRack",{"state":"prepare"})

# Main observing loop
first=1
for s in srcs.keys():
    if (first and s!=start_src):
        continue
    first=0;
    print "Starting '%s'" % s
    alias = "%4.4d" % srcs[s]["alias"]
    parfile = "/users/pdemores/tzpar/%s.par" % s
    print parfile
    Slew(s)
    print "############## HERE ##################"
    print config0+config_cal
    Configure(config0 + config_cal)
    SetValues("DCR",{"state":"prepare"})
    Balance("IFRack")
    # Regular PSR observing
    Track(s, None, 90.0) # Cal scan
    Configure(config0 + config_psr % parfile)
    Track(s, None, stopTime=stop_time[s])

#######################################################
 LOG SESSION NUMBER 13 
[12:42:45] ******** Begin Scheduling Block
[12:42:45] ******** observer = Ryan Lynch, SB name = nanograv_timing_vegas, project ID = AGBT18B_226, date = 26 Feb 2020

[12:42:45] Using current time for session start
[12:42:45] Session time remaining = 0.3h
[12:42:45] nsrc = 2
[12:42:45] time_per_src = 8.6 min
[12:42:45]   Src 'J1744-1134' start:2020-02-26 12:42:45.11, stop:2020-02-26 12:51:22.55
[12:42:45]   Src 'J0740+6620' start:2020-02-26 12:51:22.55, stop:2020-02-26 13:00:00.00
[12:42:45] 
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'

swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'

receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125

[12:42:45] First source: J1744-1134
[12:42:45] Configuring telescope.
[12:42:45]     Setting State: Activating
[12:43:22]     Setting State: Ready
[12:43:23]     Setting State: Activating
[12:43:24] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[12:43:24] Default values are
[12:43:24] nchan  =  512
[12:43:24] beam  =  B1
[12:43:24] dm  =  0
[12:43:24] if3freq  =  [0]
[12:43:24] subband  =  1
[12:43:24] polswitch  =  thru
[12:43:24] Configuring for backend VEGAS...
[12:43:24] The bad devices are: 
[12:43:24] ConverterFilter14
[12:43:24] ConverterFilter16
[12:43:24] ConverterFilter2
[12:43:24] ConverterFilter12
[12:43:24] OpticalDriver5
[12:43:24] ConverterFilter10
[12:43:24] The bad devices are: 
[12:43:24] ConverterFilter14
[12:43:24] ConverterFilter16
[12:43:24] ConverterFilter2
[12:43:24] ConverterFilter12
[12:43:24] OpticalDriver5
[12:43:24] ConverterFilter10
[12:43:24] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[12:43:24] BankH [400.0]
[12:43:24] BankC [400.0]
[12:43:24] BankB [400.0]
[12:43:24] BankA [400.0]
[12:43:24] BankG [400.0]
[12:43:24] BankF [400.0]
[12:43:24] BankE [400.0]
[12:43:24] BankD [400.0]
[12:43:24] Configuring for backend GUPPI...
[12:43:24] The bad devices are: 
[12:43:24] ConverterFilter14
[12:43:24] ConverterFilter16
[12:43:24] ConverterFilter2
[12:43:24] ConverterFilter12
[12:43:24] OpticalDriver5
[12:43:24] ConverterFilter10
[12:43:24] ConverterModule1
[12:43:24] ConverterModule5
[12:43:24] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[12:43:24] Waiting for  GUPPI to finish activating
[12:43:24] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[12:43:24]  Finalizing VEGAS config...
[12:43:24] Checking telescope
[12:43:24] Configuration Complete
[12:43:24] source : J1744-1134
               alias : 1744.0
               jname : J1744-1134
               location : J2000 @ (17:44:29.40, -11:34:54.60)
[12:43:24] Slewing to source.
[12:43:25] In state Activating, waiting for state Activating
[12:43:25] Detected state Activating
[12:43:25] In state Activating, waiting for state Ready
[12:43:38]     Setting State: Ready
[12:43:38] Detected state Ready
[12:43:38] Balancing IF system.
[12:43:38] Balancing IFRack
[12:43:38]     Setting State: Activating
[12:43:38]     Setting State: Ready
[12:43:40] the sampler values are:
[12:43:40] RF_power 1 : 1.118164
[12:43:40] RF_power 2 : 0
[12:43:40] RF_power 3 : 1.000977
[12:43:40] RF_power 4 : 0.009765625
[12:43:40] RF_power 5 : 0.0390625
[12:43:40] RF_power 6 : 0.009765625
[12:43:40] RF_power 7 : 0.004882812
[12:43:40] RF_power 8 : 0.01953125
[12:43:40] Balancing Guppi
[12:43:40]     Setting State: Activating
[12:43:40]     Setting State: Ready
[12:43:40]     Setting State: Activating
[12:43:40]     Setting State: Ready
[12:43:40]     Setting State: Activating
[12:43:40]     Setting State: Ready
[12:43:42]     Setting State: Activating
[12:43:42]     Setting State: Ready
[12:43:43]     Setting State: Activating
[12:43:43]     Setting State: Ready
[12:43:44]     Setting State: Activating
[12:43:44]     Setting State: Ready
[12:43:45]     Setting State: Activating
[12:43:45]     Setting State: Ready
[12:43:47] Filter 8 RF power =
[12:43:47] 3.0224609375
[12:43:47] Filter 4 RF power =
[12:43:47] 1.611328125
[12:43:47]     Setting State: Activating
[12:43:47]     Setting State: Ready
[12:43:47]     Setting State: Activating
[12:43:47]     Setting State: Ready
[12:43:47] Balancing IF system.
[12:43:47] Balancing VEGAS
[12:43:47]     Setting State: Activating
[12:43:47]     Setting State: Ready
[12:43:49]     Setting State: Activating
[12:43:49]     Setting State: Ready
[12:43:49]     Setting State: Activating
[12:43:49]     Setting State: Ready
[12:43:49] 
[12:43:49] User queried: "Check GUPPI levels now. - Continue scheduling block?" waiting for reply...
[12:43:52] User replied: "Yes".
[12:43:52] Starting 'J1744-1134'
[12:43:52] /users/pdemores/tzpar/J1744-1134.par
[12:43:52] source : J1744-1134
               alias : 1744.0
               jname : J1744-1134
               location : J2000 @ (17:44:29.40, -11:34:54.60)
[12:43:52] Slewing to source.
[12:43:52] In state Ready, waiting for state Activating
[12:43:52]     Setting State: Activating
[12:43:52] Detected state Activating
[12:43:52] In state Activating, waiting for state Ready
[12:43:54]     Setting State: Ready
[12:43:54] Detected state Ready
[12:43:54] ############## HERE ##################
[12:43:54] 
obstype = 'Pulsar'
backend = 'VEGAS/GUPPI'
pol = 'Linear'
ifbw = 0
tint = 10.24e-6 # Note, not actually used in coherent fold modes
swtype = 'none'

swper = 0.04
swfreq = 0.0, 0.0
nwin = 1
deltafreq = 0
vlow = 0
vhigh = 0
g.vframe = 'topo'
vdef = 'Radio'
vegas.obstype = 'fold'
vegas.polnmode = 'full_stokes'
vegas.outbits = 8
guppi.datadisk = 'data1'

receiver = 'Rcvr1_2'
restfreq = 1500.0
notchfilter = "Out"
bandwidth = 800
vegas.numchan = 512
vegas.scale = 1015
guppi.scale = 0.125

vegas.obsmode = 'coherent_cal'
vegas.fold_dumptime = 10.0
vegas.fold_bins = 2048
swmode = 'tp'
noisecal = 'lo'

[12:43:54] Configuring telescope.
[12:43:54]     Setting State: Activating
[12:44:32]     Setting State: Ready
[12:44:33]     Setting State: Activating
[12:44:34] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[12:44:34] Default values are
[12:44:34] nchan  =  512
[12:44:34] beam  =  B1
[12:44:34] dm  =  0
[12:44:34] if3freq  =  [0]
[12:44:34] subband  =  1
[12:44:34] polswitch  =  thru
[12:44:34] Configuring for backend VEGAS...
[12:44:34] The bad devices are: 
[12:44:34] ConverterFilter14
[12:44:34] ConverterFilter16
[12:44:34] ConverterFilter2
[12:44:34] ConverterFilter12
[12:44:34] OpticalDriver5
[12:44:34] ConverterFilter10
[12:44:34] The bad devices are: 
[12:44:34] ConverterFilter14
[12:44:34] ConverterFilter16
[12:44:34] ConverterFilter2
[12:44:34] ConverterFilter12
[12:44:34] OpticalDriver5
[12:44:34] ConverterFilter10
[12:44:34] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[12:44:34] BankH [400.0]
[12:44:34] BankC [400.0]
[12:44:34] BankB [400.0]
[12:44:34] BankA [400.0]
[12:44:34] BankG [400.0]
[12:44:34] BankF [400.0]
[12:44:34] BankE [400.0]
[12:44:34] BankD [400.0]
[12:44:34] Configuring for backend GUPPI...
[12:44:34] The bad devices are: 
[12:44:34] ConverterFilter14
[12:44:34] ConverterFilter16
[12:44:34] ConverterFilter2
[12:44:34] ConverterFilter12
[12:44:34] OpticalDriver5
[12:44:34] ConverterFilter10
[12:44:34] ConverterModule1
[12:44:34] ConverterModule5
[12:44:34] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[12:44:34] Waiting for  GUPPI to finish activating
[12:44:34] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[12:44:34]  Finalizing VEGAS config...
[12:44:34] Checking telescope
[12:44:34] Configuration Complete
[12:44:35] Balancing IF system.
[12:44:35] Balancing IFRack
[12:44:35]     Setting State: Ready
[12:44:35]     Setting State: Activating
[12:44:36]     Setting State: Ready
[12:44:37] the sampler values are:
[12:44:37] RF_power 1 : 0.7373047
[12:44:37] RF_power 2 : 0
[12:44:37] RF_power 3 : 1.035156
[12:44:37] RF_power 4 : 0.009765625
[12:44:37] RF_power 5 : 0.0390625
[12:44:37] RF_power 6 : 0.01464844
[12:44:37] RF_power 7 : 0.004882812
[12:44:37] RF_power 8 : 0.02441406
[12:44:38] source : J1744-1134
               alias : 1744.0
               jname : J1744-1134
               location : J2000 @ (17:44:29.40, -11:34:54.60)
[12:44:38] Track: Subscan 1 of 1
[12:44:38] In state Ready, waiting for state Running
[12:44:38]     Setting State: Activating
[12:44:38]     Setting State: Committed
[12:45:05]     Setting State: Running
[12:45:05] Detected state Running
[12:45:05] *** Notice: This subscan will be numbered as scan #33 in your data reduction package.
[12:45:05] In state Running, waiting for state Ready
[12:46:37]     Setting State: Stopping
[12:46:45]     Setting State: Ready
[12:46:45] Detected state Ready
[12:46:45] Ygor Telescope: WaitForStopping
[12:46:45] Configuring telescope.
[12:46:46]     Setting State: Activating
[12:47:23]     Setting State: Ready
[12:47:25]     Setting State: Activating
[12:47:26] Warning: (Data generated using this configuration can NOT be reduced using GBTIDL. If GBTIDL is required, change the integration time(s) to a integral number of switch periods.
[12:47:26] Default values are
[12:47:26] nchan  =  512
[12:47:26] beam  =  B1
[12:47:26] dm  =  0
[12:47:26] if3freq  =  [0]
[12:47:26] subband  =  1
[12:47:26] polswitch  =  thru
[12:47:26] Configuring for backend VEGAS...
[12:47:26] The bad devices are: 
[12:47:26] ConverterFilter14
[12:47:26] ConverterFilter16
[12:47:26] ConverterFilter2
[12:47:26] ConverterFilter12
[12:47:26] OpticalDriver5
[12:47:26] ConverterFilter10
[12:47:26] The bad devices are: 
[12:47:26] ConverterFilter14
[12:47:26] ConverterFilter16
[12:47:26] ConverterFilter2
[12:47:26] ConverterFilter12
[12:47:26] OpticalDriver5
[12:47:26] ConverterFilter10
[12:47:26] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[12:47:26] BankH [400.0]
[12:47:26] BankC [400.0]
[12:47:26] BankB [400.0]
[12:47:26] BankA [400.0]
[12:47:26] BankG [400.0]
[12:47:26] BankF [400.0]
[12:47:26] BankE [400.0]
[12:47:26] BankD [400.0]
[12:47:26] Configuring for backend GUPPI...
[12:47:26] The bad devices are: 
[12:47:26] ConverterFilter14
[12:47:26] ConverterFilter16
[12:47:26] ConverterFilter2
[12:47:26] ConverterFilter12
[12:47:26] OpticalDriver5
[12:47:26] ConverterFilter10
[12:47:26] ConverterModule1
[12:47:26] ConverterModule5
[12:47:26] Warning: Total bandwidth is greater than any receiver filter available:  Setting receiver filter to maximum
[12:47:26] Waiting for  GUPPI to finish activating
[12:47:26] . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
[12:47:26]  Finalizing VEGAS config...
[12:47:26] Checking telescope
[12:47:26] Configuration Complete
[12:47:26] source : J1744-1134
               alias : 1744.0
               jname : J1744-1134
               location : J2000 @ (17:44:29.40, -11:34:54.60)
[12:47:26] Track: Subscan 1 of 1
[12:47:26] In state Activating, waiting for state Running
[12:47:27]     Setting State: Committed
[12:47:32]     Setting State: Running
[12:47:32] Detected state Running
[12:47:32] *** Notice: This subscan will be numbered as scan #34 in your data reduction package.
[12:47:32] In state Running, waiting for state Ready
[12:47:35]     Setting State: Aborting
[12:47:35] ygor.Telescope: RuntimeError msg: Abort detected!
[12:47:35] ygor.Telescope: WaitForRunning: Asking abort confirmation.
[12:47:35] 
[12:47:35] User queried: "Abort detected! Terminate block?" waiting for reply...
[12:47:47] User replied: "Yes".
[12:47:47] Exiting scheduling block.
[12:47:47]     Setting State: Ready
runSuccessful: False
[12:47:47] ******** End Scheduling Block
[12:47:47] ******** observer = Ryan Lynch, SB name = nanograv_timing_vegas, project ID = AGBT18B_226

how much log? 12393 id: 241334self.history: <gbt.turtle.database.History.History instance at 0x4abd758>self.history.connection: <gbt.turtle.database.TurtleConnection.TurtleConnection instance at 0x4abd5f0>how much converted log? 12650 
#######################################################
